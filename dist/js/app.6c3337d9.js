(function(e){function t(t){for(var n,l,o=t[0],r=t[1],i=t[2],f=0,b=[];f<o.length;f++)l=o[f],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&b.push(s[l][0]),s[l]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);u&&u(t);while(b.length)b.shift()();return c.push.apply(c,i||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,o=1;o<a.length;o++){var r=a[o];0!==s[r]&&(n=!1)}n&&(c.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},s={app:0},c=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/petanque-swiss-vue/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var i=0;i<o.length;i++)t(o[i]);var u=r;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"01bf":function(e,t,a){},1542:function(e,t,a){"use strict";a("6e77")},"2fc0":function(e,t,a){"use strict";a("01bf")},3815:function(e,t,a){"use strict";a("6569")},"53fa":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),s=(a("b0c0"),a("d1b4")),c=a.n(s),l={class:"container"},o=Object(n["f"])("h1",{class:"title is-1 text-center"},[Object(n["h"])("Petanque - swiss system "),Object(n["f"])("sup",null,"Version Beta")],-1),r={class:"columns"},i={class:"column"},u={class:"tabs"},f=["onClick"],b={href:"#"},m={key:0,class:"content tabs-content"},O={key:1},d={key:2,id:"table-list",class:"table"},j={key:0,class:"is-size-7"},p=Object(n["h"])(" ("),h={key:0},g=Object(n["h"])(") "),v={key:0,class:"td-100"},y={key:1,class:"td-50"},k=["onClick"],_={key:3,class:"mb-5 mt-5"},T={class:"field is-grouped"},S={key:0,class:"control"},w={key:1,class:"control"},R={key:3,class:"content tabs-content"},x={key:0,class:"mt-5"},I=Object(n["f"])("h2",{class:"h2"},"Go to play-off?",-1),P={class:"is-flex is-align-items-center"},B=Object(n["h"])("Choose number of teams "),C={class:"select ml-3"},q=Object(n["f"])("option",null,"4",-1),M={key:0},L={key:1},N={key:2},E={key:3},J=Object(n["f"])("div",{class:"column is-one-third"},[Object(n["f"])("img",{src:c.a,alt:"Petanque in Alps",class:"image"})],-1);function A(e,t,a,s,c,A){var $=Object(n["p"])("AddTeam"),U=Object(n["p"])("Games"),G=Object(n["p"])("Results"),V=Object(n["p"])("Ranking"),D=Object(n["p"])("SaveTournament"),z=Object(n["p"])("Message"),F=Object(n["p"])("Menu"),K=Object(n["p"])("SavedTournamentModal");return Object(n["l"])(),Object(n["e"])("div",l,[o,Object(n["f"])("div",r,[Object(n["f"])("div",i,[Object(n["f"])("div",u,[Object(n["f"])("ul",null,[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(c.tabs,(function(e,t){return Object(n["l"])(),Object(n["e"])("li",{key:t,onClick:function(t){return c.activeTab=e},class:Object(n["j"])({"is-active":e===c.activeTab})},[Object(n["f"])("a",b,Object(n["q"])(e),1)],10,f)})),128))])]),"Teams"===c.activeTab?(Object(n["l"])(),Object(n["e"])("div",m,[c.games.length?Object(n["d"])("",!0):(Object(n["l"])(),Object(n["c"])($,{key:0,showRating:c.useRating,onAddTeam:A.addTeam,onChangeDrawStyle:A.changeDrawStyle},null,8,["showRating","onAddTeam","onChangeDrawStyle"])),c.teams.length?(Object(n["l"])(),Object(n["e"])("h2",O,"Current list")):Object(n["d"])("",!0),c.teams.length?(Object(n["l"])(),Object(n["e"])("table",d,[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(c.teams,(function(e){return Object(n["l"])(),Object(n["e"])("tr",{key:e.title},[Object(n["f"])("td",null,[Object(n["h"])(Object(n["q"])(e.title)+" ",1),e.players&&e.players.length>1?(Object(n["l"])(),Object(n["e"])("div",j,[p,(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(e.players,(function(t,a){return Object(n["l"])(),Object(n["e"])("span",{class:"has-text-dark",key:a},[Object(n["h"])(Object(n["q"])(t.name)+" "+Object(n["q"])(t.surname),1),a<e.players.length-1?(Object(n["l"])(),Object(n["e"])("span",h,", ")):Object(n["d"])("",!0)])})),128)),g])):Object(n["d"])("",!0)]),c.useRating?(Object(n["l"])(),Object(n["e"])("td",v,Object(n["q"])(e.rating),1)):Object(n["d"])("",!0),c.games.length?Object(n["d"])("",!0):(Object(n["l"])(),Object(n["e"])("td",y,[Object(n["f"])("span",{class:"delete",onClick:function(t){return A.removeTeam(e.title)}},null,8,k)]))])})),128))])):(Object(n["l"])(),Object(n["e"])("div",_," Please, add team ")),Object(n["f"])("div",T,[c.teams.length?(Object(n["l"])(),Object(n["e"])("div",S,[Object(n["f"])("button",{class:"button is-danger",onClick:t[0]||(t[0]=function(){return A.removeTournament&&A.removeTournament.apply(A,arguments)})},"Remove tournament")])):Object(n["d"])("",!0),A.canSaveTournament?(Object(n["l"])(),Object(n["e"])("div",w,[Object(n["f"])("button",{class:"button is-success",onClick:t[1]||(t[1]=function(e){return c.showSaveTournament=!0})},"Save tournament")])):Object(n["d"])("",!0)])])):Object(n["d"])("",!0),"Games"===c.activeTab?(Object(n["l"])(),Object(n["c"])(U,{key:1,gamesList:c.games,teamsList:A.rankingTeams,activeRound:A.activeRound,roundIsActive:c.roundIsActive,teamsCount:c.teams.length-1,useRating:c.useRating,playOff:c.isPlayOff,onStartRound:t[2]||(t[2]=function(e){return c.roundIsActive=!0}),onEndRound:t[3]||(t[3]=function(e){return c.roundIsActive=!1}),onDrawRound:A.addRoundToGames,onShowMessage:A.showMessage,onFinishTournament:t[4]||(t[4]=function(e){return c.activeTab="Ranking"})},null,8,["gamesList","teamsList","activeRound","roundIsActive","teamsCount","useRating","playOff","onDrawRound","onShowMessage"])):Object(n["d"])("",!0),"Results"===c.activeTab?(Object(n["l"])(),Object(n["c"])(G,{key:2,results:c.games},null,8,["results"])):Object(n["d"])("",!0),"Ranking"===c.activeTab?(Object(n["l"])(),Object(n["e"])("div",R,[Object(n["i"])(V,{gamesList:c.games,showIfUseRating:c.useRating,isPlayOff:c.isPlayOff,rankingTeams:A.rankingTeams,activeRound:A.activeRound},null,8,["gamesList","showIfUseRating","isPlayOff","rankingTeams","activeRound"]),c.isPlayOff?Object(n["d"])("",!0):(Object(n["l"])(),Object(n["e"])("div",x,[I,Object(n["f"])("div",P,[B,Object(n["f"])("div",C,[Object(n["u"])(Object(n["f"])("select",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.teamToPlayOff=e})},[q,A.rankingTeams.length>=8?(Object(n["l"])(),Object(n["e"])("option",M,"8")):Object(n["d"])("",!0),A.rankingTeams.length>=16?(Object(n["l"])(),Object(n["e"])("option",L,"16")):Object(n["d"])("",!0),A.rankingTeams.length>=32?(Object(n["l"])(),Object(n["e"])("option",N,"32")):Object(n["d"])("",!0),A.rankingTeams.length>=64?(Object(n["l"])(),Object(n["e"])("option",E,"64")):Object(n["d"])("",!0)],512),[[n["r"],c.teamToPlayOff]])]),Object(n["f"])("button",{onClick:t[6]||(t[6]=function(){return A.startPlayOff&&A.startPlayOff.apply(A,arguments)}),class:"button is-success ml-3"},"Go!")])]))])):Object(n["d"])("",!0)]),J]),Object(n["f"])("div",{class:"menu-button button is-info",onClick:t[7]||(t[7]=function(e){return c.menuOpen=!c.menuOpen})},"Menu"),c.showSaveTournament?(Object(n["l"])(),Object(n["c"])(D,{key:0,tournamentsNames:A.savedTournamentsList,tournaments:c.savedTournaments,onSaveTournament:A.saveTournament,onCloseModal:t[8]||(t[8]=function(e){return c.showSaveTournament=!1})},null,8,["tournamentsNames","tournaments","onSaveTournament"])):Object(n["d"])("",!0),c.message.show?(Object(n["l"])(),Object(n["c"])(z,{key:1,type:c.message.type,title:c.message.title,text:c.message.text,onClosemessage:t[9]||(t[9]=function(e){return c.message.show=!1})},null,8,["type","title","text"])):Object(n["d"])("",!0),Object(n["i"])(F,{active:c.menuOpen,tournaments:A.savedTournamentsList,onCloseMenu:t[10]||(t[10]=function(e){return c.menuOpen=!1}),onOpenSavedTournament:A.openSavedTournament},null,8,["active","tournaments","onOpenSavedTournament"]),c.showSavedTournament?(Object(n["l"])(),Object(n["c"])(K,{key:2,tournament:c.savedTournaments[c.savedTournamentsActive],onCloseModal:t[11]||(t[11]=function(e){return c.showSavedTournament=!1}),onRemoveTournament:A.removeSavedTournament},null,8,["tournament","onRemoveTournament"])):Object(n["d"])("",!0)])}a("e9c4"),a("4de4"),a("d3b7"),a("fb6a"),a("4e82"),a("159b"),a("c740");var $={class:"field is-grouped"},U={class:"control"},G={class:"control"},V={class:"field is-grouped"},D={class:"control"},z={key:0,class:"control"},F={class:"control"},K={class:"checkbox"},H=["checked"],W=Object(n["h"])(" Use team rating for drawing (else first round will be drawed randomly) ");function Y(e,t,a,s,c,l){return Object(n["l"])(),Object(n["e"])(n["a"],null,[Object(n["f"])("div",$,[Object(n["f"])("div",U,[Object(n["u"])(Object(n["f"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.tournamentId=e}),onKeydown:t[1]||(t[1]=Object(n["v"])((function(){return l.importList&&l.importList.apply(l,arguments)}),["enter"])),class:"input",type:"number",placeholder:"Tournament ID"},null,544),[[n["s"],c.tournamentId]])]),Object(n["f"])("div",G,[Object(n["f"])("button",{class:"button is-success",onClick:t[2]||(t[2]=function(){return l.importList&&l.importList.apply(l,arguments)})},"Import from portal")])]),Object(n["f"])("div",V,[Object(n["f"])("div",D,[Object(n["u"])(Object(n["f"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.teamTitle=e}),onKeyup:t[4]||(t[4]=Object(n["v"])((function(e){return l.addTeam(c.teamTitle,c.teamRating)}),["enter"])),class:"input",type:"text",placeholder:"Team title"},null,544),[[n["s"],c.teamTitle]])]),a.showRating?(Object(n["l"])(),Object(n["e"])("div",z,[Object(n["u"])(Object(n["f"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.teamRating=e}),onKeyup:t[6]||(t[6]=Object(n["v"])((function(e){return l.addTeam(c.teamTitle,c.teamRating)}),["enter"])),class:"input -rating",type:"number",id:"rating",placeholder:"Rating"},null,544),[[n["s"],c.teamRating]])])):Object(n["d"])("",!0),Object(n["f"])("div",F,[Object(n["f"])("button",{class:"button",onClick:t[7]||(t[7]=function(e){return l.addTeam(c.teamTitle,c.teamRating)})},"Add team")])]),Object(n["f"])("div",null,[Object(n["f"])("label",K,[Object(n["f"])("input",{type:"checkbox",checked:a.showRating,onChange:t[8]||(t[8]=function(e){return l.changeDraw(e.target.checked)})},null,40,H),W])])],64)}var Q=a("1da1"),X=(a("96cf"),a("498a"),{name:"AddTeam",props:["showRating"],data:function(){return{teamTitle:null,teamRating:null,tournamentId:null}},emits:["add-team","change-draw-style"],methods:{changeDraw:function(e){this.$emit("change-draw-style",e)},addTeam:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.$emit("add-team",e.trim(),t,a),this.teamTitle=null,this.teamRating=null},importList:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://portal.petanque.org.ua/tournament/team_export/".concat(e.tournamentId,"?format=json"));case 2:if(a=t.sent,!a.ok){t.next=10;break}return t.next=6,a.json();case 6:n=t.sent,n.teams.forEach((function(t){e.addTeam(t.name,+t.power,t.players)})),t.next=11;break;case 10:alert("Error"+a.status);case 11:case"end":return t.stop()}}),t)})))()}}}),Z=a("d959"),ee=a.n(Z);const te=ee()(X,[["render",Y]]);var ae=te,ne={class:"message-header"},se={class:"message-body"};function ce(e,t,a,s,c,l){return Object(n["l"])(),Object(n["e"])("article",{class:Object(n["j"])(["message is-success",{"is-danger":"error"===a.type}])},[Object(n["f"])("div",ne,[Object(n["f"])("p",null,Object(n["q"])(a.title),1),Object(n["f"])("button",{class:"delete","aria-label":"delete",onClick:t[0]||(t[0]=function(){return l.closeMessage&&l.closeMessage.apply(l,arguments)})})]),Object(n["f"])("div",se,Object(n["q"])(a.text),1)],2)}var le={name:"Message",props:["type","title","text"],mounted:function(){setTimeout(this.closeMessage,3e3)},methods:{closeMessage:function(){this.$emit("closemessage")}}};a("1542");const oe=ee()(le,[["render",ce],["__scopeId","data-v-0b9e1740"]]);var re=oe,ie={class:"content tabs-content"},ue={key:1},fe={class:"field is-grouped"},be={class:"control"},me={key:0},Oe={class:"text-center"},de={class:"games-list"},je={class:"text-right team-block"},pe=["for"],he={class:"text-center score-block"},ge=["id","onUpdate:modelValue","disabled"],ve={class:"lane-block is-size-7"},ye=Object(n["h"])(" Lane "),ke={class:"is-size-5 has-text-weight-bold"},_e=["id","onUpdate:modelValue","disabled"],Te={class:"team-block"},Se=["for"],we={key:0,class:"has-text-centered has-text-danger mb-5"},Re={class:"text-center"},xe=["disabled"],Ie={key:0,class:"has-text-danger mt-3"},Pe={key:1},Be={key:2,class:"mb-5 mt-5"},Ce=Object(n["h"])(" Please, click on button to draw "),qe=Object(n["h"])(" round ");function Me(e,t,a,s,c,l){var o=Object(n["p"])("PlayOff");return Object(n["l"])(),Object(n["e"])("div",ie,[a.playOff?(Object(n["l"])(),Object(n["c"])(o,{key:0,playOffTeams:a.playOff,onFinishTournament:t[0]||(t[0]=function(t){return e.$emit("finishTournament")})},null,8,["playOffTeams"])):(Object(n["l"])(),Object(n["e"])("div",ue,[Object(n["f"])("div",fe,[Object(n["f"])("div",be,[!a.playOff&&!a.roundIsActive&&c.games.length<a.teamsCount?(Object(n["l"])(),Object(n["e"])("button",{key:0,class:"button is-info",onClick:t[1]||(t[1]=function(){return l.drawRound&&l.drawRound.apply(l,arguments)})},Object(n["q"])(1===a.activeRound?"First":"Draw ".concat(a.activeRound))+" Round ",1)):Object(n["d"])("",!0)])]),c.games.length&&a.roundIsActive?(Object(n["l"])(),Object(n["e"])("div",me,[Object(n["f"])("h2",Oe,"Round "+Object(n["q"])(a.activeRound),1),Object(n["f"])("div",de,[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(c.games[a.activeRound-1],(function(e,a){return Object(n["l"])(),Object(n["e"])("div",{class:"game-row",key:a},[Object(n["f"])("span",je,[Object(n["f"])("label",{for:"team_"+a},Object(n["q"])(e.team_1),9,pe)]),Object(n["f"])("span",he,[Object(n["u"])(Object(n["f"])("input",{id:"team_"+a,"onUpdate:modelValue":function(t){return e.team_1_score=t},class:"input -small",type:"number",min:"0",max:"13",disabled:"Technical"===e.team_2,onKeyup:t[2]||(t[2]=Object(n["v"])((function(){return l.saveResults&&l.saveResults.apply(l,arguments)}),["enter"]))},null,40,ge),[[n["s"],e.team_1_score]]),Object(n["f"])("span",ve,[ye,Object(n["f"])("span",ke,Object(n["q"])(a+1),1)]),Object(n["u"])(Object(n["f"])("input",{id:"opponent_"+a,"onUpdate:modelValue":function(t){return e.team_2_score=t},class:"input -small",type:"number",min:"0",max:"13",disabled:"Technical"===e.team_2,onKeyup:t[3]||(t[3]=Object(n["v"])((function(){return l.saveResults&&l.saveResults.apply(l,arguments)}),["enter"]))},null,40,_e),[[n["s"],e.team_2_score]])]),Object(n["f"])("span",Te,[Object(n["f"])("label",{for:"opponent_"+a},Object(n["q"])(e.team_2),9,Se)])])})),128)),c.scoreError?(Object(n["l"])(),Object(n["e"])("div",we,"Something wrong in games results")):Object(n["d"])("",!0)]),Object(n["f"])("div",Re,[Object(n["f"])("button",{class:"button is-success",onClick:t[4]||(t[4]=function(){return l.saveResults&&l.saveResults.apply(l,arguments)}),disabled:c.saveDisabled},"Save results",8,xe)]),c.saveDisabled?(Object(n["l"])(),Object(n["e"])("div",Ie,"There was an unexpectable error, sorry for that, you can write developer about it (contact in footer), but this will not help you in this situation:)) ")):Object(n["d"])("",!0)])):c.games.length>=a.teamsCount?(Object(n["l"])(),Object(n["e"])("div",Pe,"Rounds quantity can't be more than teams")):(Object(n["l"])(),Object(n["e"])("div",Be,[Ce,Object(n["f"])("b",null,Object(n["q"])(1===a.activeRound?"first":a.activeRound),1),qe]))]))])}var Le=a("53ca"),Ne=(a("caad"),a("2532"),a("a434"),{class:"is-flex is-justify-content-space-between is-align-content-center"}),Ee=Object(n["f"])("h2",null,"PlayOff",-1),Je={key:0,class:"column play-off-stage-wrapper"},Ae={key:0,class:"has-text-centered is-size-4"},$e=Object(n["h"])(" Tournament has finished. "),Ue={class:"text-center"},Ge={class:"text-right team-block"},Ve=["for"],De={class:"text-center score-block"},ze=["id","onUpdate:modelValue"],Fe={class:"lane-block is-size-7"},Ke=Object(n["h"])(" Lane "),He={class:"is-size-5 has-text-weight-bold"},We=["id","onUpdate:modelValue"],Ye={class:"team-block"},Qe=["for"],Xe={key:0},Ze=Object(n["f"])("h3",{class:"text-center"},"Game for 3d place",-1),et={class:"game-row"},tt={class:"text-right team-block"},at={for:"team_1_3p"},nt={class:"text-center score-block"},st=Object(n["f"])("span",{class:"lane-block is-size-7"},[Object(n["h"])(" Lane "),Object(n["f"])("span",{class:"is-size-5 has-text-weight-bold"},"2")],-1),ct={class:"team-block"},lt={for:"opponent_3p"},ot={key:1,class:"has-text-centered has-text-danger mb-5"},rt={class:"text-center"};function it(e,t,a,s,c,l){var o=Object(n["p"])("Fragment"),r=Object(n["p"])("Bracket");return Object(n["l"])(),Object(n["e"])("div",null,[Object(n["f"])("div",Ne,[Ee,Object(n["f"])("button",{class:"button is-info",onClick:t[0]||(t[0]=function(e){return c.showBracket=!0})},"Show play off bracket")]),c.playOffBracket?(Object(n["l"])(),Object(n["e"])("div",Je,[0===c.playOffStageCurrent?(Object(n["l"])(),Object(n["e"])("div",Ae,[$e,Object(n["f"])("a",{href:"#",onClick:t[1]||(t[1]=Object(n["w"])((function(t){return e.$emit("finishTournament")}),["prevent"]))},"See result")])):(Object(n["l"])(),Object(n["c"])(o,{key:1},{default:Object(n["t"])((function(){return[Object(n["f"])("h2",Ue,Object(n["q"])(1===c.playOffStageCurrent?"Final":"1/"+c.playOffStageCurrent+" final"),1),(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(c.playOffBracket.stages[l.currentPlayOffBracketIndex].teams,(function(e,a){return Object(n["l"])(),Object(n["e"])("div",{class:"game-row",key:a},[Object(n["f"])("span",Ge,[Object(n["f"])("label",{for:"team_"+a},Object(n["q"])(e.team_1),9,Ve)]),Object(n["f"])("span",De,[Object(n["u"])(Object(n["f"])("input",{id:"team_"+a,"onUpdate:modelValue":function(t){return e.team_1_score=t},class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[2]||(t[2]=Object(n["v"])((function(){return l.saveResults&&l.saveResults.apply(l,arguments)}),["enter"]))},null,40,ze),[[n["s"],e.team_1_score]]),Object(n["f"])("span",Fe,[Ke,Object(n["f"])("span",He,Object(n["q"])(a+1),1)]),Object(n["u"])(Object(n["f"])("input",{id:"opponent_"+a,"onUpdate:modelValue":function(t){return e.team_2_score=t},class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[3]||(t[3]=Object(n["v"])((function(){return l.saveResults&&l.saveResults.apply(l,arguments)}),["enter"]))},null,40,We),[[n["s"],e.team_2_score]])]),Object(n["f"])("span",Ye,[Object(n["f"])("label",{for:"opponent_"+a},Object(n["q"])(e.team_2),9,Qe)])])})),128)),1===c.playOffStageCurrent?(Object(n["l"])(),Object(n["e"])("div",Xe,[Ze,Object(n["f"])("div",et,[Object(n["f"])("span",tt,[Object(n["f"])("label",at,Object(n["q"])(c.playOffBracket.thirdPlace.team_1),1)]),Object(n["f"])("span",nt,[Object(n["u"])(Object(n["f"])("input",{id:"team_1_3p","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.playOffBracket.thirdPlace.team_1_score=e}),class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[5]||(t[5]=Object(n["v"])((function(){return l.saveResults&&l.saveResults.apply(l,arguments)}),["enter"]))},null,544),[[n["s"],c.playOffBracket.thirdPlace.team_1_score]]),st,Object(n["u"])(Object(n["f"])("input",{id:"opponent_3p","onUpdate:modelValue":t[6]||(t[6]=function(e){return c.playOffBracket.thirdPlace.team_2_score=e}),class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[7]||(t[7]=Object(n["v"])((function(){return l.saveResults&&l.saveResults.apply(l,arguments)}),["enter"]))},null,544),[[n["s"],c.playOffBracket.thirdPlace.team_2_score]])]),Object(n["f"])("span",ct,[Object(n["f"])("label",lt,Object(n["q"])(c.playOffBracket.thirdPlace.team_2),1)])])])):Object(n["d"])("",!0),c.scoreError?(Object(n["l"])(),Object(n["e"])("div",ot,"Something wrong in games results")):Object(n["d"])("",!0),Object(n["f"])("div",rt,[Object(n["f"])("button",{class:"button is-success",onClick:t[8]||(t[8]=function(){return l.saveResults&&l.saveResults.apply(l,arguments)})},"Save results")])]})),_:1}))])):Object(n["d"])("",!0),c.showBracket?(Object(n["l"])(),Object(n["c"])(r,{key:1,bracket:c.playOffBracket,onCloseModal:t[9]||(t[9]=function(e){return c.showBracket=!1})},null,8,["bracket"])):Object(n["d"])("",!0)])}var ut={class:"modal is-active"},ft={class:"modal-content"},bt={class:"columns play-off-wrapper"},mt={class:"has-text-centered has-text-weight-bold mb-3"},Ot={class:"play-off-team"},dt={key:0,class:"play-off-team-place"},jt={class:"play-off-team-score"},pt={class:"play-off-team"},ht={key:0,class:"play-off-team-place"},gt={class:"play-off-team-score"},vt=Object(n["f"])("div",{class:"has-text-centered has-text-weight-bold mb-3 third-place-title"},"Third Place",-1),yt={class:"play-off-team"},kt={class:"play-off-team-score"},_t={class:"play-off-team"},Tt={class:"play-off-team-score"},St={key:0,style:{height:"80px"}};function wt(e,t,a,s,c,l){return Object(n["l"])(),Object(n["e"])("div",ut,[Object(n["f"])("div",{class:"modal-background",onClick:t[0]||(t[0]=Object(n["w"])((function(t){return e.$emit("close-modal")}),["self"]))}),Object(n["f"])("div",ft,[Object(n["f"])("div",bt,[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(a.bracket.stages,(function(e,t){return Object(n["l"])(),Object(n["e"])("div",{key:t,class:"column play-off-stage-wrapper"},[Object(n["f"])("div",mt,Object(n["q"])(1===e.stageLabel?"Final":"1/"+e.stageLabel+" final"),1),Object(n["f"])("div",{class:"play-off-stage",ref_for:!0,ref:"stage"},[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(e.teams,(function(a,s){return Object(n["l"])(),Object(n["e"])("div",{key:s,class:"play-off-game box"},[0!==t?(Object(n["l"])(),Object(n["e"])("div",{key:0,class:"play-off-game-vertical-line -top",style:Object(n["k"])({height:l.stageHeight/e.teamsCount/2+"px"})},null,4)):Object(n["d"])("",!0),0!==t?(Object(n["l"])(),Object(n["e"])("div",{key:1,class:"play-off-game-vertical-line -bottom",style:Object(n["k"])({height:l.stageHeight/e.teamsCount/2+"px"})},null,4)):Object(n["d"])("",!0),Object(n["f"])("div",Ot,[a.team_1_place?(Object(n["l"])(),Object(n["e"])("span",dt,Object(n["q"])(a.team_1_place),1)):Object(n["d"])("",!0),Object(n["f"])("span",{class:Object(n["j"])(["play-off-team-title",{"has-text-grey-lighter":!a.team_1}])},Object(n["q"])(a.team_1||"Someone"),3),Object(n["f"])("span",jt,Object(n["q"])(a.team_1_score),1)]),Object(n["f"])("div",pt,[a.team_2_place?(Object(n["l"])(),Object(n["e"])("span",ht,Object(n["q"])(a.team_2_place),1)):Object(n["d"])("",!0),Object(n["f"])("span",{class:Object(n["j"])(["play-off-team-title",{"has-text-grey-lighter":!a.team_2}])},Object(n["q"])(a.team_2||"Lucky guy"),3),Object(n["f"])("span",gt,Object(n["q"])(a.team_2_score),1)])])})),128)),1===e.stageLabel?(Object(n["l"])(),Object(n["e"])("div",{key:0,class:Object(n["j"])(["play-off-game box third-place",{"third-place-bottom":2===a.bracket.stages.length}])},[vt,Object(n["f"])("div",yt,[Object(n["f"])("span",{class:Object(n["j"])(["play-off-team-title",{"has-text-grey-lighter":!a.bracket.thirdPlace.team_1}])},Object(n["q"])(a.bracket.thirdPlace.team_1||"Someone"),3),Object(n["f"])("span",kt,Object(n["q"])(a.bracket.thirdPlace.team_1_score),1)]),Object(n["f"])("div",_t,[Object(n["f"])("span",{class:Object(n["j"])(["play-off-team-title",{"has-text-grey-lighter":!a.bracket.thirdPlace.team_2}])},Object(n["q"])(a.bracket.thirdPlace.team_2||"Lucky guy"),3),Object(n["f"])("span",Tt,Object(n["q"])(a.bracket.thirdPlace.team_2_score),1)])],2)):Object(n["d"])("",!0)],512)])})),128))]),2===a.bracket.stages.length?(Object(n["l"])(),Object(n["e"])("div",St)):Object(n["d"])("",!0)]),Object(n["f"])("button",{class:"modal-close is-large","aria-label":"close",onClick:t[1]||(t[1]=function(t){return e.$emit("close-modal")})})])}var Rt={name:"Bracket",props:["bracket"],emits:["close-modal"],data:function(){return{isMounted:!1}},mounted:function(){console.log(this.bracket),this.isMounted=!0},computed:{stageHeight:function(){return this.isMounted?this.$refs.stage[0].offsetHeight:100}}};const xt=ee()(Rt,[["render",wt]]);var It=xt,Pt={name:"PlayOff",props:["playOffTeams"],emits:["finishTournament"],components:{Bracket:It},data:function(){return{playOffStageCurrent:localStorage.getItem("playOffStage")?+localStorage.getItem("playOffStage"):this.playOffTeams[0].stage,playOffBracket:localStorage.getItem("playOffBracket")?JSON.parse(localStorage.getItem("playOffBracket")):null,scoreError:!1,showBracket:!1}},mounted:function(){console.log(this.playOffTeams),localStorage.getItem("playOffBracket")||this.getPlayOffBracket()},methods:{saveResults:function(){var e=this;this.scoreError=!1,console.log(this.currentPlayOffBracketIndex);var t=function(e){return null===e.team_1_score||e.team_1_score<0||e.team_1_score>13||null===e.team_2_score||e.team_2_score<0||e.team_2_score>13};if(this.playOffBracket.stages[this.currentPlayOffBracketIndex].teams.some((function(e){return t(e)})))return this.scoreError=!0,!1;2===this.playOffBracket.stages[this.currentPlayOffBracketIndex].teamsCount?(this.playOffStageCurrent=0,this.$emit("finishTournament")):(console.log(this.playOffBracket.stages[this.currentPlayOffBracketIndex].teams),this.playOffBracket.stages[this.currentPlayOffBracketIndex].teams.forEach((function(t,a){a%2===0?(e.playOffBracket.stages[e.currentPlayOffBracketIndex+1].teams[a/2].team_1=t.team_1_score>t.team_2_score?t.team_1:t.team_2,4===e.playOffBracket.stages[e.currentPlayOffBracketIndex].teamsCount&&(e.playOffBracket.thirdPlace.team_1=t.team_1_score<t.team_2_score?t.team_1:t.team_2)):(e.playOffBracket.stages[e.currentPlayOffBracketIndex+1].teams[(a-1)/2].team_2=t.team_1_score>t.team_2_score?t.team_1:t.team_2,4===e.playOffBracket.stages[e.currentPlayOffBracketIndex].teamsCount&&(e.playOffBracket.thirdPlace.team_2=t.team_1_score<t.team_2_score?t.team_1:t.team_2))})),this.playOffStageCurrent=this.playOffStageCurrent/2),localStorage.setItem("playOffBracket",JSON.stringify(this.playOffBracket))},getPlayOffBracket:function(){for(var e={stages:[],thirdPlace:{}},t=this.stagesCount;t>0;t--){var a=Math.pow(2,t),n=a/2,s=[];if(t===this.stagesCount)s=this.playOffTeams;else for(var c=1;c<=n;c++){var l={id:t+1,stage:n,team_1:null,team_1_score:null,team_2:null,team_2_score:null};s.push(l)}var o={teamsCount:a,stageLabel:n,teams:s};e.stages.push(o)}console.log(e),this.playOffBracket=e}},computed:{stagesCount:function(){return Math.log(2*this.playOffTeams.length)/Math.log(2)},currentPlayOffBracketIndex:function(){var e=this;return this.playOffBracket?this.playOffBracket.stages.findIndex((function(t){return t.stageLabel===e.playOffStageCurrent})):"0"}},watch:{playOffStageCurrent:function(){localStorage.setItem("playOffStage",this.playOffStageCurrent)}}};const Bt=ee()(Pt,[["render",it]]);var Ct=Bt,qt={name:"Games",components:{PlayOff:Ct},props:["roundIsActive","activeRound","gamesList","teamsList","teamsCount","useRating","playOff"],emits:["start-round","end-round","draw-round","show-message","update-games","update-teams"],data:function(){return{games:this.gamesList,teams:this.teamsList,saveDisabled:!1,scoreError:!1}},mounted:function(){console.log(this.activeRound,this.games)},methods:{getRandomWithOneExclusion:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=null;while(null===a||a===t)a=Math.round(Math.random()*(e-1));return a},generateCompetitors:function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(1!==this.activeRound||this.useRating){t=n?e.length-1:0;var s=1===this.activeRound?e.length/2:1,c=n?e.length-2:s;while(e[t].opponents.includes(e[c].title))if(n?c--:c++,!e[c])return c=-1,{teamIndex:t,opponentIndex:c};return{teamIndex:t,opponentIndex:c}}return t=this.getRandomWithOneExclusion(e.length),a=this.getRandomWithOneExclusion(e.length,t),{teamIndex:t,opponentIndex:a}},drawRound:function(){var e=this;this.$emit("start-round");var t,a,n=[],s=JSON.parse(JSON.stringify(this.teams)),c=0,l=s.length/2-1,o=[],r=s.length%2!==0,i=r?s[s.length-1]:null;if(r){if(i.opponents.includes("Technical"))for(var u=2;u<s.length;u++)if(i=s[s.length-u],!i.opponents.includes("Technical")){console.log(i);break}a={team_1:i.title,team_1_score:13,team_2:"Technical",team_2_score:7},n.push(a),s.splice(s.length-1,1)}var f=function(){t=e.generateCompetitors(s,c>0);while(-1===t.opponentIndex&&c<l)c++,n.splice(n.length-1,1),s.unshift(o[o.length-1]),s.unshift(o[o.length-2]),o.splice(o.length-2,2),t=e.generateCompetitors(s,!0),console.log(t);if(console.log(s,t,c,l),c===l&&-1===t.opponentIndex)return e.saveDisabled=!0,e.$emit("show-message","Can't draw this round","Sorry, shit happens","error"),{v:void 0};a={team_1:s[t.teamIndex].title,team_1_score:null,team_2:s[Math.floor(t.opponentIndex)].title,team_2_score:null},console.log(a),o.push(s[t.teamIndex],s[Math.floor(t.opponentIndex)]);var r=[s[t.teamIndex].title,s[Math.floor(t.opponentIndex)].title];s=s.filter((function(e){return!r.includes(e.title)})),a?n.push(a):console.log("Game is empty")};while(s.length>0){var b=f();if("object"===Object(Le["a"])(b))return b.v}this.$emit("draw-round",n)},saveResults:function(){var e=this;this.scoreError=!1;var t=function(e){return null===e.team_1_score||e.team_1_score<0||e.team_1_score>13||null===e.team_2_score||e.team_2_score<0||e.team_2_score>13};if(console.log(this.games,this.activeRound),this.games[this.activeRound-1].some((function(e){return t(e)})))return this.scoreError=!0,!1;this.games[this.activeRound-1].forEach((function(t){var a=e.teams.findIndex((function(e){return e.title===t.team_1}));-1!=a&&(e.teams[a].opponents.push(t.team_2),e.teams[a].pointsPlus+=t.team_1_score,e.teams[a].pointsMinus+=t.team_2_score);var n=e.teams.findIndex((function(e){return e.title===t.team_2}));-1!=n&&(e.teams[n].opponents.push(t.team_1),e.teams[n].pointsPlus+=t.team_2_score,e.teams[n].pointsMinus+=t.team_1_score),t.team_1_score>t.team_2_score?-1!=a&&e.teams[a].wins++:-1!=!n&&"Technical"!==t.team_2&&e.teams[n].wins++})),localStorage.setItem("teams",JSON.stringify(this.teams)),localStorage.setItem("games",JSON.stringify(this.games)),this.$emit("end-round"),this.$emit("show-message","Success","Your results saved")}}};const Mt=ee()(qt,[["render",Me]]);var Lt=Mt,Nt={class:"content tabs-content"},Et={key:0},Jt={key:0,class:"has-text-centered"},At={class:"table-container"},$t={key:0,class:"table is-striped mb-5"},Ut={class:"has-text-centered"},Gt={class:"table-container"},Vt={class:"table is-striped"},Dt={key:1},zt=Object(n["f"])("h4",{class:"has-text-centered"},"Game for 3d Place",-1),Ft={class:"table-container"},Kt={class:"table is-striped"},Ht={key:1,class:"mb-5 mt-5"};function Wt(e,t,a,s,c,l){return Object(n["l"])(),Object(n["e"])("div",Nt,[a.results.length||c.playOffBracket?(Object(n["l"])(),Object(n["e"])("div",Et,[a.results.length?(Object(n["l"])(),Object(n["e"])("h3",Jt,"Swiss rounds")):Object(n["d"])("",!0),Object(n["f"])("div",At,[a.results.length?(Object(n["l"])(),Object(n["e"])("table",$t,[Object(n["f"])("tbody",null,[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(a.results,(function(e,t){return Object(n["l"])(),Object(n["e"])(n["a"],{key:t},[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(e,(function(e,a){return Object(n["l"])(),Object(n["e"])("tr",{key:a},[Object(n["f"])("td",null,"R"+Object(n["q"])(t+1),1),Object(n["f"])("td",null,Object(n["q"])(e.team_1),1),Object(n["f"])("td",null,Object(n["q"])(e.team_1_score),1),Object(n["f"])("td",null,Object(n["q"])(e.team_2_score),1),Object(n["f"])("td",null,Object(n["q"])(e.team_2),1)])})),128))],64)})),128))])])):Object(n["d"])("",!0)]),(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(c.playOffBracket.stages,(function(e,t){return Object(n["l"])(),Object(n["e"])("div",{key:t,class:"mb-5"},[Object(n["f"])("h3",Ut,Object(n["q"])(1===e.stageLabel?"Final":"1/"+e.stageLabel+" final"),1),Object(n["f"])("div",Gt,[Object(n["f"])("table",Vt,[Object(n["f"])("tbody",null,[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(e.teams,(function(e,t){return Object(n["l"])(),Object(n["e"])("tr",{key:t},[Object(n["f"])("td",null,Object(n["q"])(e.team_1),1),Object(n["f"])("td",null,Object(n["q"])(e.team_1_score),1),Object(n["f"])("td",null,Object(n["q"])(e.team_2_score),1),Object(n["f"])("td",null,Object(n["q"])(e.team_2),1)])})),128))])])])])})),128)),c.playOffBracket.thirdPlace?(Object(n["l"])(),Object(n["e"])("div",Dt,[zt,Object(n["f"])("div",Ft,[Object(n["f"])("table",Kt,[Object(n["f"])("tbody",null,[Object(n["f"])("tr",null,[Object(n["f"])("td",null,Object(n["q"])(c.playOffBracket.thirdPlace.team_1),1),Object(n["f"])("td",null,Object(n["q"])(c.playOffBracket.thirdPlace.team_1_score),1),Object(n["f"])("td",null,Object(n["q"])(c.playOffBracket.thirdPlace.team_2_score),1),Object(n["f"])("td",null,Object(n["q"])(c.playOffBracket.thirdPlace.team_2),1)])])])])])):Object(n["d"])("",!0)])):(Object(n["l"])(),Object(n["e"])("div",Ht," No games, yet "))])}var Yt={name:"Results",props:["results"],data:function(){return{playOffBracket:localStorage.getItem("playOffBracket")?JSON.parse(localStorage.getItem("playOffBracket")):null}}};const Qt=ee()(Yt,[["render",Wt]]);var Xt=Qt,Zt={key:0,class:"mb-5"},ea={class:"is-flex is-justify-content-space-between is-align-content-center"},ta=Object(n["f"])("h2",null,"Tournament Result",-1),aa={class:"table-container"},na={id:"table-finish-ranking",class:"table"},sa=Object(n["f"])("thead",null,[Object(n["f"])("tr",null,[Object(n["f"])("th",null,"Place"),Object(n["f"])("th",null,"Team"),Object(n["f"])("th",null,"Players")])],-1),ca={class:"is-size-7"},la=Object(n["h"])(" ("),oa={key:0},ra=Object(n["h"])(") "),ia={key:1},ua=Object(n["h"])("Ranking after "),fa={key:0},ba=Object(n["h"])(" swiss"),ma={class:"table-container"},Oa={id:"table-ranking",class:"table"},da=Object(n["f"])("th",null,"#",-1),ja=Object(n["f"])("th",null,"Team",-1),pa=Object(n["f"])("th",null,"Wins",-1),ha=Object(n["f"])("th",null,"Buh",-1),ga=Object(n["f"])("th",null,"SBuh",-1),va=Object(n["f"])("th",null,"Points",-1),ya={key:0},ka=Object(n["f"])("td",null,[Object(n["f"])("span",{class:"team-count"})],-1),_a={align:"center"},Ta={align:"center"},Sa={align:"center"},wa={align:"center"},Ra={key:0};function xa(e,t,a,s,c,l){return Object(n["l"])(),Object(n["e"])("div",null,[a.isPlayOff&&l.tournamentIsFinished?(Object(n["l"])(),Object(n["e"])("div",Zt,[Object(n["f"])("div",ea,[ta,Object(n["f"])("button",{class:"button is-info",onClick:t[0]||(t[0]=function(){return l.copyResults&&l.copyResults.apply(l,arguments)})},"Copy results")]),Object(n["f"])("div",aa,[Object(n["f"])("table",na,[sa,Object(n["f"])("tbody",null,[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(l.tournamentRanking,(function(e,t){return Object(n["l"])(),Object(n["e"])("tr",{key:t},[Object(n["f"])("td",null,Object(n["q"])(e.place),1),Object(n["f"])("td",null,Object(n["q"])(e.title),1),Object(n["f"])("td",null,[Object(n["f"])("div",ca,[la,(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(l.getTeamPlayers(e.title),(function(t,a){return Object(n["l"])(),Object(n["e"])("span",{class:"has-text-dark",key:a},[Object(n["h"])(Object(n["q"])(t.name)+" "+Object(n["q"])(t.surname),1),a<l.getTeamPlayers(e.title).length-1?(Object(n["l"])(),Object(n["e"])("span",oa,", ")):Object(n["d"])("",!0)])})),128)),ra])])])})),128))])])])])):Object(n["d"])("",!0),a.gamesList.length>0?(Object(n["l"])(),Object(n["e"])("div",ia,[Object(n["f"])("h2",null,[ua,a.activeRound?(Object(n["l"])(),Object(n["e"])("span",fa,Object(n["q"])(a.activeRound-1)+" round"+Object(n["q"])(a.activeRound>1&&0!==a.activeRound?"s":""),1)):Object(n["d"])("",!0),ba]),Object(n["f"])("div",ma,[Object(n["f"])("table",Oa,[Object(n["f"])("thead",null,[Object(n["f"])("tr",null,[da,ja,pa,ha,ga,va,a.showIfUseRating?(Object(n["l"])(),Object(n["e"])("th",ya,"Rating")):Object(n["d"])("",!0)])]),Object(n["f"])("tbody",null,[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(a.rankingTeams,(function(e){return Object(n["l"])(),Object(n["e"])("tr",{key:e.title},[ka,Object(n["f"])("td",null,Object(n["q"])(e.title),1),Object(n["f"])("td",_a,Object(n["q"])(e.wins),1),Object(n["f"])("td",Ta,Object(n["q"])(e.buhgolts),1),Object(n["f"])("td",Sa,Object(n["q"])(e.smallBuhgolts),1),Object(n["f"])("td",wa,Object(n["q"])(e.pointsPlus)+":"+Object(n["q"])(e.pointsMinus),1),a.showIfUseRating?(Object(n["l"])(),Object(n["e"])("td",Ra,Object(n["q"])(e.rating),1)):Object(n["d"])("",!0)])})),128))])])])])):Object(n["d"])("",!0)])}a("7db0");var Ia={name:"Ranking",props:["showIfUseRating","isPlayOff","rankingTeams","activeRound","gamesList"],emits:["is-playoff"],data:function(){return{playOffBracket:localStorage.getItem("playOffBracket")?JSON.parse(localStorage.getItem("playOffBracket")):null}},methods:{copyResults:function(){var e=document.createElement("div"),t="";this.tournamentRanking.forEach((function(e){t=t+"<span>"+e.place+"</span><p>"+e.title+"</p>"})),e.innerHTML=t.trim(),document.body.appendChild(e);var a=new Range;a.selectNode(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(a),document.execCommand("copy"),e.remove()},getTeamPlayers:function(e){return this.rankingTeams.find((function(t){return t.title===e})).players}},computed:{tournamentIsFinished:function(){return!!localStorage.getItem("playOffStage")&&0===JSON.parse(localStorage.getItem("playOffStage"))},tournamentRanking:function(){for(var e=this,t=[],a=JSON.parse(JSON.stringify(this.playOffBracket.stages)).reverse(),n=JSON.parse(JSON.stringify(this.playOffBracket.thirdPlace)),s=[],c=function(c){if(1===a[c].stageLabel){var l={place:"1",title:a[c].teams[0].team_1_score>a[c].teams[0].team_2_score?a[c].teams[0].team_1:a[c].teams[0].team_2};t.push(l),s.push(l.title);var o={place:"2",title:a[c].teams[0].team_1_score>a[c].teams[0].team_2_score?a[c].teams[0].team_2:a[c].teams[0].team_1};t.push(o),s.push(o.title)}else if(2===a[c].stageLabel){var r={place:"3",title:n.team_1_score>n.team_2_score?n.team_1:n.team_2};t.push(r),console.log(t),s.push(r.title);var i={place:"4",title:n.team_1_score>n.team_2_score?n.team_2:n.team_1};t.push(i),console.log(t),s.push(i.title)}else a[c].teams.forEach((function(e){var n=s.includes(e.team_1)?e.team_2:e.team_1,l={place:a[c].stageLabel+1+"-"+2*a[c].stageLabel,title:n};t.push(l),s.push(l.title)})),e.gamesList.length>0&&e.rankingTeams.slice(e.playOffBracket.stages[0].teamsCount,e.rankingTeams.length).forEach((function(a,n){var s={place:e.playOffBracket.stages[0].teamsCount+n+1,title:a.title};t.push(s)}))},l=0;l<a.length;l++)c(l);return t}}};const Pa=ee()(Ia,[["render",xa]]);var Ba=Pa,Ca={class:"modal is-active"},qa={class:"modal-content"},Ma={class:"box"},La=Object(n["f"])("div",{class:"is-size-4 mb-3"},"Please, enter tournament name",-1),Na={class:"field"},Ea={class:"control"},Ja={key:0,class:"field has-text-danger"},Aa={class:"field is-grouped is-flex-justify-content-center"},$a={class:"control"},Ua={class:"control"};function Ga(e,t,a,s,c,l){return Object(n["l"])(),Object(n["e"])("div",Ca,[Object(n["f"])("div",{class:"modal-background",onClick:t[0]||(t[0]=Object(n["w"])((function(t){return e.$emit("close-modal")}),["self"]))}),Object(n["f"])("div",qa,[Object(n["f"])("div",Ma,[La,Object(n["f"])("div",Na,[Object(n["f"])("div",Ea,[Object(n["u"])(Object(n["f"])("input",{class:Object(n["j"])(["input",{"is-danger":c.hasError}]),"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.name=e}),type:"text",placeholder:"Tournament name",onKeyup:t[2]||(t[2]=Object(n["v"])((function(){return l.saveTournament&&l.saveTournament.apply(l,arguments)}),["enter"]))},null,34),[[n["s"],c.name]])])]),c.hasError?(Object(n["l"])(),Object(n["e"])("div",Ja," It seems you already have such tournament name ")):Object(n["d"])("",!0),Object(n["f"])("div",Aa,[Object(n["f"])("div",$a,[Object(n["f"])("button",{class:"button",onClick:t[3]||(t[3]=function(t){return e.$emit("close-modal")})},"Cancel")]),Object(n["f"])("div",Ua,[Object(n["f"])("button",{class:"button is-success",onClick:t[4]||(t[4]=function(){return l.saveTournament&&l.saveTournament.apply(l,arguments)})},"Save")])])])]),Object(n["f"])("button",{class:"modal-close is-large","aria-label":"close",onClick:t[5]||(t[5]=function(t){return e.$emit("close-modal")})})])}var Va={name:"SaveTournament",props:["bracket","tournamentsNames"],emits:["close-modal","save-tournament"],data:function(){return{name:null,hasError:!1}},methods:{saveTournament:function(){if(this.hasError=!1,!this.name||this.tournamentsNames&&this.tournamentsNames.includes(this.name))this.hasError=!0;else{var e={name:this.name,swiss:JSON.parse(localStorage.getItem("games")),playOff:localStorage.getItem("playOffBracket")?JSON.parse(localStorage.getItem("playOffBracket")):null,ranking:JSON.parse(localStorage.getItem("teams"))};this.$emit("save-tournament",e)}}}};const Da=ee()(Va,[["render",Ga]]);var za=Da,Fa=function(e){return Object(n["n"])("data-v-e3a994fe"),e=e(),Object(n["m"])(),e},Ka={class:"menu"},Ha={class:"has-text-right"},Wa=Fa((function(){return Object(n["f"])("p",{class:"menu-label"}," Saved tournaments ",-1)})),Ya={class:"menu-list"},Qa=["onClick"],Xa=Object(n["g"])('<p class="menu-label" data-v-e3a994fe> Info </p><ul class="menu-list" data-v-e3a994fe><li data-v-e3a994fe><a data-v-e3a994fe>Swiss system</a></li></ul><p class="menu-label" data-v-e3a994fe> Usefull Links </p><ul class="menu-list" data-v-e3a994fe><li data-v-e3a994fe><a href="http://portal.petanque.org.ua/" target="_blank" data-v-e3a994fe>Portal</a></li></ul>',4);function Za(e,t,a,s,c,l){return Object(n["l"])(),Object(n["e"])("div",{class:Object(n["j"])(["menu-wrapper",{active:a.active}]),onClick:t[1]||(t[1]=Object(n["w"])((function(t){return e.$emit("closeMenu")}),["self"]))},[Object(n["f"])("aside",Ka,[Object(n["f"])("div",Ha,[Object(n["f"])("a",{href:"#",class:"delete is-large",onClick:t[0]||(t[0]=Object(n["w"])((function(t){return e.$emit("closeMenu")}),["prevent"]))})]),Wa,Object(n["f"])("ul",Ya,[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(a.tournaments,(function(t,a){return Object(n["l"])(),Object(n["e"])("li",{key:a},[Object(n["f"])("a",{href:"#",onClick:Object(n["w"])((function(t){return e.$emit("openSavedTournament",a)}),["prevent"])},Object(n["q"])(t),9,Qa)])})),128))]),Xa])],2)}var en={name:"Menu",props:["active","tournaments"],methods:{}};a("2fc0");const tn=ee()(en,[["render",Za],["__scopeId","data-v-e3a994fe"]]);var an=tn,nn=function(e){return Object(n["n"])("data-v-cfe807cc"),e=e(),Object(n["m"])(),e},sn={class:"modal is-active"},cn={class:"modal-content"},ln={class:"content box"},on={class:"is-flex is-justify-content-space-between mb-3"},rn={key:0,class:"card"},un=nn((function(){return Object(n["f"])("p",{class:"card-header-title"}," Results in tables ",-1)})),fn=nn((function(){return Object(n["f"])("button",{class:"card-header-icon","aria-label":"more options"},[Object(n["f"])("span",{class:"icon"},[Object(n["f"])("i",{class:"fas fa-angle-down","aria-hidden":"true"})])],-1)})),bn=[un,fn],mn={key:1,class:"card"},On=nn((function(){return Object(n["f"])("p",{class:"card-header-title"}," Games ",-1)})),dn=nn((function(){return Object(n["f"])("button",{class:"card-header-icon","aria-label":"more options"},[Object(n["f"])("span",{class:"icon"})],-1)})),jn=[On,dn],pn={class:"table-container"},hn={key:0,class:"table is-striped mb-5"},gn={class:"has-text-centered"},vn={class:"table-container"},yn={class:"table is-striped"};function kn(e,t,a,s,c,l){var o=Object(n["p"])("Ranking");return Object(n["l"])(),Object(n["e"])("div",sn,[Object(n["f"])("div",{class:"modal-background",onClick:t[0]||(t[0]=Object(n["w"])((function(t){return e.$emit("close-modal")}),["self"]))}),Object(n["f"])("div",cn,[Object(n["f"])("div",ln,[Object(n["f"])("div",on,[Object(n["f"])("h2",null,Object(n["q"])(a.tournament.name),1),Object(n["f"])("button",{class:"button is-danger",onClick:t[1]||(t[1]=function(e){return l.removeTournament(a.tournament.name)})},"Remove tournament")]),a.tournament.ranking?(Object(n["l"])(),Object(n["e"])("div",rn,[Object(n["f"])("header",{class:"card-header",onClick:t[2]||(t[2]=function(e){c.showGames=!1,c.showSwissTable=!c.showSwissTable})},bn),Object(n["f"])("div",{class:Object(n["j"])(["card-content",{active:c.showSwissTable}])},[Object(n["i"])(o,{gamesList:a.tournament.swiss,showIfUseRating:!0,isPlayOff:a.tournament.playOff,rankingTeams:a.tournament.ranking,activeRound:!1},null,8,["gamesList","isPlayOff","rankingTeams"])],2)])):Object(n["d"])("",!0),a.tournament.swiss?(Object(n["l"])(),Object(n["e"])("div",mn,[Object(n["f"])("header",{class:"card-header",onClick:t[3]||(t[3]=function(e){c.showSwissTable=!1,c.showGames=!c.showGames})},jn),Object(n["f"])("div",{class:Object(n["j"])(["card-content",{active:c.showGames}])},[Object(n["f"])("div",pn,[a.tournament.swiss?(Object(n["l"])(),Object(n["e"])("table",hn,[Object(n["f"])("tbody",null,[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(a.tournament.swiss,(function(e,t){return Object(n["l"])(),Object(n["e"])(n["a"],{key:t},[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(e,(function(e,a){return Object(n["l"])(),Object(n["e"])("tr",{key:a},[Object(n["f"])("td",null,"R"+Object(n["q"])(t+1),1),Object(n["f"])("td",null,Object(n["q"])(e.team_1),1),Object(n["f"])("td",null,Object(n["q"])(e.team_1_score),1),Object(n["f"])("td",null,Object(n["q"])(e.team_2_score),1),Object(n["f"])("td",null,Object(n["q"])(e.team_2),1)])})),128))],64)})),128))])])):Object(n["d"])("",!0)]),(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(a.tournament.playOff,(function(e,t){return Object(n["l"])(),Object(n["e"])("div",{key:t,class:"mb-5"},[Object(n["f"])("h3",gn,Object(n["q"])(1===e.stageLabel?"Final":"1/"+e.stageLabel+" final"),1),Object(n["f"])("div",vn,[Object(n["f"])("table",yn,[Object(n["f"])("tbody",null,[(Object(n["l"])(!0),Object(n["e"])(n["a"],null,Object(n["o"])(e.teams,(function(e,t){return Object(n["l"])(),Object(n["e"])("tr",{key:t},[Object(n["f"])("td",null,Object(n["q"])(e.team_1),1),Object(n["f"])("td",null,Object(n["q"])(e.team_1_score),1),Object(n["f"])("td",null,Object(n["q"])(e.team_2_score),1),Object(n["f"])("td",null,Object(n["q"])(e.team_2),1)])})),128))])])])])})),128))],2)])):Object(n["d"])("",!0)])]),Object(n["f"])("button",{class:"modal-close is-large","aria-label":"close",onClick:t[4]||(t[4]=function(t){return e.$emit("close-modal")})})])}var _n={name:"SavedTournamentModal",components:{Ranking:Ba},props:["tournament"],emits:["close-modal","remove-tournament"],data:function(){return{showSwissTable:!1,showGames:!1}},methods:{removeTournament:function(e){this.$emit("remove-tournament",e)}}};a("bed0");const Tn=ee()(_n,[["render",kn],["__scopeId","data-v-cfe807cc"]]);var Sn=Tn,wn={name:"App",data:function(){return{tabs:["Teams","Games","Results","Ranking"],activeTab:"Teams",teams:localStorage.getItem("teams")?JSON.parse(localStorage.getItem("teams")):[],games:localStorage.getItem("games")?JSON.parse(localStorage.getItem("games")):[],roundIsActive:!1,useRating:localStorage.getItem("useRating")||!0,isPlayOff:!!localStorage.getItem("playOff")&&JSON.parse(localStorage.getItem("playOff")),teamToPlayOff:null,message:{show:!1,type:"success",title:"Message",text:""},showSaveTournament:!1,menuOpen:!1,showSavedTournament:!1,savedTournaments:localStorage.getItem("tournamentsList")?JSON.parse(localStorage.getItem("tournamentsList")):[],savedTournamentsActive:null}},methods:{saveTournament:function(e){console.log(this.savedTournaments),this.savedTournaments.push(e),this.showSaveTournament=!1,localStorage.setItem("tournamentsList",JSON.stringify(this.savedTournaments))},removeSavedTournament:function(e){this.showSavedTournament=!1,this.savedTournaments=this.savedTournaments.filter((function(t){return t.name!==e}))},openSavedTournament:function(e){this.savedTournamentsActive=e,this.showSavedTournament=!0},startPlayOff:function(){for(var e=this.rankingTeams.slice(0,this.teamToPlayOff),t=[],a=e.length/2,n=0;n<e.length/2;n++){var s={};s=n%2===0?{id:n+1,stage:a,team_1:e[n].title,team_1_place:n+1,team_1_score:null,team_2:e[e.length-1-n].title,team_2_place:e.length-n,team_2_score:null}:{id:n+1,stage:a,team_1:e[e.length/2-n].title,team_1_place:e.length/2+1-n,team_1_score:null,team_2:e[e.length/2-1+n].title,team_2_place:e.length/2+n,team_2_score:null},t.push(s)}this.isPlayOff=t,console.log(this.isPlayOff),localStorage.setItem("playOff",JSON.stringify(this.isPlayOff)),this.activeTab="Games"},shuffleArray:function(e){var t,a=e.length;while(0!=a){t=Math.floor(Math.random()*a),a--;var n=[e[t],e[a]];e[a]=n[0],e[t]=n[1]}return e},changeDrawStyle:function(e){this.useRating=e},addRoundToGames:function(e){this.games.push(this.shuffleArray(e)),console.log(this.games)},showMessage:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";this.message={show:!0,type:a,title:e,text:t}},sortTeams:function(e){this.countBuhgolts(e,"buhgolts"),this.countBuhgolts(e,"smallBuhgolts");var t=e.sort((function(e,t){return t.wins-e.wins||t.buhgolts-e.buhgolts||t.smallBuhgolts-e.smallBuhgolts||t.pointsPlus-t.pointsMinus-(e.pointsPlus-e.pointsMinus)||t.rating-e.rating}));return localStorage.setItem("teams",JSON.stringify(t)),t},countBuhgolts:function(e,t){var a="buhgolts"===t?"wins":"buhgolts";return e.forEach((function(n){var s=0;n.opponents.length&&n.opponents.forEach((function(t){var n=e.findIndex((function(e){return e.title===t}));-1!==n&&(s+=e[n][a])})),n[t]=s})),e},addTeam:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(""!==e){var n=!1;if(this.teams.forEach((function(t){t.title===e&&(n=!0)})),n)this.showMessage("Error","Such team already registered! Change team title, please","error");else{var s={title:e,rating:t,players:a,wins:0,buhgolts:0,smallBuhgolts:0,pointsPlus:0,pointsMinus:0,opponents:[]};this.teams.push(s),localStorage.setItem("teams",JSON.stringify(this.teams))}}else this.showMessage("Error","Enter fields to add team","error")},removeTeam:function(e){this.teams=this.teams.filter((function(t){return t.title!==e}))},removeTournament:function(){this.teams=[],this.games=[],this.isPlayOff=null,this.useRating=!0,localStorage.removeItem("playOffStage"),localStorage.removeItem("playOffBracket")}},computed:{rankingTeams:function(){return this.sortTeams(this.teams)},activeRound:function(){return this.games.length?this.roundIsActive?this.games.length:this.games.length+1:1},savedTournamentsList:function(){if(this.savedTournaments.length>0){var e=[];return this.savedTournaments.forEach((function(t){e.push(t.name)})),e}return!1},canSaveTournament:function(){var e=localStorage.getItem("playOffBracket")&&JSON.parse(localStorage.getItem("playOffBracket")).stages;return console.log(e[e.length-1],e[e.length-1].teams[0].team_1_score),this.games&&this.games.length>0||e[e.length-1].teams[0].team_1_score}},watch:{teams:function(){this.teams.length?localStorage.setItem("teams",JSON.stringify(this.teams)):localStorage.removeItem("teams")},games:function(){this.games.length?localStorage.setItem("games",JSON.stringify(this.games)):localStorage.removeItem("games")},useRating:function(){localStorage.setItem("useRating",this.useRating)},isPlayOff:function(){localStorage.setItem("playOff",JSON.stringify(this.isPlayOff))},savedTournaments:function(){localStorage.setItem("tournamentsList",JSON.stringify(this.savedTournaments))}},components:{SavedTournamentModal:Sn,Menu:an,SaveTournament:za,AddTeam:ae,Message:re,Games:Lt,Results:Xt,Ranking:Ba}};a("3815"),a("d73d"),a("8fbd");const Rn=ee()(wn,[["render",A]]);var xn=Rn;Object(n["b"])(xn).mount("#app")},6569:function(e,t,a){},"6e77":function(e,t,a){},8938:function(e,t,a){},"8fbd":function(e,t,a){"use strict";a("9671")},9671:function(e,t,a){},bed0:function(e,t,a){"use strict";a("53fa")},d1b4:function(e,t,a){e.exports=a.p+"img/bg.be042820.jpg"},d73d:function(e,t,a){"use strict";a("8938")}});
//# sourceMappingURL=app.6c3337d9.js.map