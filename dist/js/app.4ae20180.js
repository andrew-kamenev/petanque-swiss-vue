(function(e){function t(t){for(var s,i,o=t[0],l=t[1],r=t[2],b=0,m=[];b<o.length;b++)i=o[b],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(m.length)m.shift()();return c.push.apply(c,r||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],s=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(s=!1)}s&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},a={app:0},c=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/petanque-swiss-vue/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var r=0;r<o.length;r++)t(o[r]);var u=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1542:function(e,t,n){"use strict";n("d529")},"1c50":function(e,t,n){},3815:function(e,t,n){"use strict";n("51f9")},"51f9":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23"),a=(n("b0c0"),n("d1b4")),c=n.n(a),i={class:"container"},o=Object(s["f"])("h1",{class:"title is-1 text-center"},[Object(s["g"])("Petanque - swiss system "),Object(s["f"])("sup",null,"Version Alpha")],-1),l={class:"columns"},r={class:"column"},u={class:"tabs"},b=["onClick"],m={href:"#"},d={key:0,class:"content tabs-content"},f={key:1},O={key:2,id:"table-list",class:"table"},g={key:0,class:"is-size-7"},j=Object(s["g"])("( "),h={key:0},p=Object(s["g"])(" ) "),v={key:0,class:"td-100"},y={key:1,class:"td-50"},R=["onClick"],k={key:3,class:"mb-5 mt-5"},w={class:"field is-grouped"},T={class:"control"},_={class:"control"},I=Object(s["f"])("div",{class:"column is-one-third"},[Object(s["f"])("img",{src:c.a,alt:"Petanque in Alps",class:"image"})],-1);function x(e,t,n,a,c,x){var S=Object(s["m"])("AddTeam"),P=Object(s["m"])("Games"),M=Object(s["m"])("Results"),C=Object(s["m"])("Ranking"),A=Object(s["m"])("Message");return Object(s["i"])(),Object(s["e"])("div",i,[o,Object(s["f"])("div",l,[Object(s["f"])("div",r,[Object(s["f"])("div",u,[Object(s["f"])("ul",null,[(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(c.tabs,(function(e,t){return Object(s["i"])(),Object(s["e"])("li",{key:t,onClick:function(t){return c.activeTab=e},class:Object(s["h"])({"is-active":e===c.activeTab})},[Object(s["f"])("a",m,Object(s["n"])(e),1)],10,b)})),128))])]),"Teams"===c.activeTab?(Object(s["i"])(),Object(s["e"])("div",d,[c.games.length?Object(s["d"])("",!0):(Object(s["i"])(),Object(s["c"])(S,{key:0,showRating:c.useRating,onAddTeam:x.addTeam,onChangeDrawStyle:x.changeDrawStyle},null,8,["showRating","onAddTeam","onChangeDrawStyle"])),c.teams.length?(Object(s["i"])(),Object(s["e"])("h2",f,"Current list")):Object(s["d"])("",!0),c.teams.length?(Object(s["i"])(),Object(s["e"])("table",O,[(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(c.teams,(function(e){return Object(s["i"])(),Object(s["e"])("tr",{key:e.title},[Object(s["f"])("td",null,[Object(s["g"])(Object(s["n"])(e.title)+" ",1),e.players.length>1?(Object(s["i"])(),Object(s["e"])("div",g,[j,(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(e.players,(function(t,n){return Object(s["i"])(),Object(s["e"])("span",{class:"has-text-dark",key:n},[Object(s["g"])(Object(s["n"])(t.name)+" "+Object(s["n"])(t.surname),1),n<e.players.length-1?(Object(s["i"])(),Object(s["e"])("span",h,", ")):Object(s["d"])("",!0)])})),128)),p])):Object(s["d"])("",!0)]),c.useRating?(Object(s["i"])(),Object(s["e"])("td",v,Object(s["n"])(e.rating),1)):Object(s["d"])("",!0),c.games.length?Object(s["d"])("",!0):(Object(s["i"])(),Object(s["e"])("td",y,[Object(s["f"])("span",{class:"delete",onClick:function(t){return x.removeTeam(e.title)}},null,8,R)]))])})),128))])):(Object(s["i"])(),Object(s["e"])("div",k," Please, add team ")),Object(s["f"])("div",w,[Object(s["f"])("div",T,[Object(s["f"])("button",{class:"button is-danger",onClick:t[0]||(t[0]=function(){return x.removeTournament&&x.removeTournament.apply(x,arguments)})},"Remove tournament")]),Object(s["f"])("div",_,[Object(s["f"])("button",{class:"button is-success",onClick:t[1]||(t[1]=function(){return e.saveTournament&&e.saveTournament.apply(e,arguments)})},"Save tournament")])])])):Object(s["d"])("",!0),"Games"===c.activeTab?(Object(s["i"])(),Object(s["c"])(P,{key:1,gamesList:c.games,teamsList:x.rankingTeams,activeRound:x.activeRound,roundIsActive:c.roundIsActive,teamsCount:c.teams.length-1,useRating:c.useRating,onStartRound:t[2]||(t[2]=function(e){return c.roundIsActive=!0}),onEndRound:t[3]||(t[3]=function(e){return c.roundIsActive=!1}),onDrawRound:x.addRoundToGames,onUpdateGames:e.updateGames,onUpdateTeams:e.updateTeams,onShowMessage:x.showMessage},null,8,["gamesList","teamsList","activeRound","roundIsActive","teamsCount","useRating","onDrawRound","onUpdateGames","onUpdateTeams","onShowMessage"])):Object(s["d"])("",!0),"Results"===c.activeTab?(Object(s["i"])(),Object(s["c"])(M,{key:2,results:c.games},null,8,["results"])):Object(s["d"])("",!0),"Ranking"===c.activeTab?(Object(s["i"])(),Object(s["c"])(C,{key:3,showIfUseRating:c.useRating,isPlayOff:c.isPlayOff,rankingTeams:x.rankingTeams,activeRound:x.activeRound},null,8,["showIfUseRating","isPlayOff","rankingTeams","activeRound"])):Object(s["d"])("",!0)]),I]),c.message.show?(Object(s["i"])(),Object(s["c"])(A,{key:0,type:c.message.type,title:c.message.title,text:c.message.text,onClosemessage:t[4]||(t[4]=function(e){return c.message.show=!1})},null,8,["type","title","text"])):Object(s["d"])("",!0)])}n("4e82"),n("e9c4"),n("d3b7"),n("159b"),n("c740"),n("4de4");var S={class:"field is-grouped"},P={class:"control"},M={class:"control"},C={class:"field is-grouped"},A={class:"control"},U={key:0,class:"control"},L={class:"control"},E={class:"checkbox"},G=["checked"],B=Object(s["g"])(" Use team rating for drawing (else first round will be drawed randomly) ");function D(e,t,n,a,c,i){return Object(s["i"])(),Object(s["e"])(s["a"],null,[Object(s["f"])("div",S,[Object(s["f"])("div",P,[Object(s["p"])(Object(s["f"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.tournamentId=e}),onKeydown:t[1]||(t[1]=Object(s["q"])((function(){return i.importList&&i.importList.apply(i,arguments)}),["enter"])),class:"input",type:"number",placeholder:"Tournament ID"},null,544),[[s["o"],c.tournamentId]])]),Object(s["f"])("div",M,[Object(s["f"])("button",{class:"button is-success",onClick:t[2]||(t[2]=function(){return i.importList&&i.importList.apply(i,arguments)})},"Import from portal")])]),Object(s["f"])("div",C,[Object(s["f"])("div",A,[Object(s["p"])(Object(s["f"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.teamTitle=e}),onKeyup:t[4]||(t[4]=Object(s["q"])((function(e){return i.addTeam(c.teamTitle,c.teamRating)}),["enter"])),class:"input",type:"text",placeholder:"Team title"},null,544),[[s["o"],c.teamTitle]])]),n.showRating?(Object(s["i"])(),Object(s["e"])("div",U,[Object(s["p"])(Object(s["f"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.teamRating=e}),onKeyup:t[6]||(t[6]=Object(s["q"])((function(e){return i.addTeam(c.teamTitle,c.teamRating)}),["enter"])),class:"input -rating",type:"number",id:"rating",placeholder:"Rating"},null,544),[[s["o"],c.teamRating]])])):Object(s["d"])("",!0),Object(s["f"])("div",L,[Object(s["f"])("button",{class:"button",onClick:t[7]||(t[7]=function(e){return i.addTeam(c.teamTitle,c.teamRating)})},"Add team")])]),Object(s["f"])("div",null,[Object(s["f"])("label",E,[Object(s["f"])("input",{type:"checkbox",checked:n.showRating,onChange:t[8]||(t[8]=function(e){return i.changeDraw(e.target.checked)})},null,40,G),B])])],64)}var J=n("1da1"),N=(n("96cf"),n("498a"),{name:"AddTeam",props:["showRating"],data:function(){return{teamTitle:null,teamRating:null,tournamentId:null}},emits:["add-team","change-draw-style"],methods:{changeDraw:function(e){this.$emit("change-draw-style",e)},addTeam:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.$emit("add-team",e.trim(),t,n),this.teamTitle=null,this.teamRating=null},importList:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://portal.petanque.org.ua/tournament/team_export/".concat(e.tournamentId,"?format=json"));case 2:if(n=t.sent,!n.ok){t.next=10;break}return t.next=6,n.json();case 6:s=t.sent,s.teams.forEach((function(t){e.addTeam(t.name,+t.power,t.players)})),t.next=11;break;case 10:alert("Error"+n.status);case 11:case"end":return t.stop()}}),t)})))()}}}),q=n("6b0d"),V=n.n(q);const $=V()(N,[["render",D]]);var W=$,z={class:"message-header"},K={class:"message-body"};function F(e,t,n,a,c,i){return Object(s["i"])(),Object(s["e"])("article",{class:Object(s["h"])(["message is-success",{"is-danger":"error"===n.type}])},[Object(s["f"])("div",z,[Object(s["f"])("p",null,Object(s["n"])(n.title),1),Object(s["f"])("button",{class:"delete","aria-label":"delete",onClick:t[0]||(t[0]=function(){return i.closeMessage&&i.closeMessage.apply(i,arguments)})})]),Object(s["f"])("div",K,Object(s["n"])(n.text),1)],2)}var Y={name:"Message",props:["type","title","text"],mounted:function(){setTimeout(this.closeMessage,3e3)},methods:{closeMessage:function(){this.$emit("closemessage")}}};n("1542");const H=V()(Y,[["render",F],["__scopeId","data-v-0b9e1740"]]);var Q=H,X={class:"content tabs-content"},Z={class:"field is-grouped"},ee={class:"control"},te={key:0},ne={class:"text-center"},se={class:"games-list"},ae={class:"text-right team-block"},ce={for:""},ie={class:"text-center score-block"},oe=["onUpdate:modelValue","disabled"],le={class:"lane-block is-size-7"},re=Object(s["g"])(" Lane "),ue={class:"is-size-5 has-text-weight-bold"},be=["onUpdate:modelValue","disabled"],me={class:"team-block"},de={for:""},fe={class:"text-center"},Oe={key:1},ge={key:2,class:"mb-5 mt-5"},je=Object(s["g"])(" Please, click on button to draw "),he=Object(s["g"])(" round ");function pe(e,t,n,a,c,i){return Object(s["i"])(),Object(s["e"])("div",X,[Object(s["f"])("div",Z,[Object(s["f"])("div",ee,[!n.roundIsActive&&c.games.length<n.teamsCount?(Object(s["i"])(),Object(s["e"])("button",{key:0,class:"button is-info",onClick:t[0]||(t[0]=function(){return i.drawRound&&i.drawRound.apply(i,arguments)})},Object(s["n"])(0===n.activeRound?"First":"Draw ".concat(n.activeRound))+" Round",1)):Object(s["d"])("",!0)])]),c.games.length&&n.roundIsActive?(Object(s["i"])(),Object(s["e"])("div",te,[Object(s["f"])("h2",ne,"Round "+Object(s["n"])(n.activeRound-1),1),Object(s["f"])("div",se,[(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(c.games[n.activeRound-2],(function(e,t){return Object(s["i"])(),Object(s["e"])("div",{class:"game-row",key:t},[Object(s["f"])("span",ae,[Object(s["f"])("label",ce,Object(s["n"])(e.team_1),1)]),Object(s["f"])("span",ie,[Object(s["p"])(Object(s["f"])("input",{"onUpdate:modelValue":function(t){return e.team_1_score=t},class:"input -small",type:"number",disabled:"Technical"===e.team_2},null,8,oe),[[s["o"],e.team_1_score]]),Object(s["f"])("span",le,[re,Object(s["f"])("span",ue,Object(s["n"])(t+1),1)]),Object(s["p"])(Object(s["f"])("input",{"onUpdate:modelValue":function(t){return e.team_2_score=t},class:"input -small",type:"number",disabled:"Technical"===e.team_2},null,8,be),[[s["o"],e.team_2_score]])]),Object(s["f"])("span",me,[Object(s["f"])("label",de,Object(s["n"])(e.team_2),1)])])})),128))]),Object(s["f"])("div",fe,[Object(s["f"])("button",{class:"button is-success",onClick:t[1]||(t[1]=function(){return i.saveResults&&i.saveResults.apply(i,arguments)})},"Save results")])])):c.games.length>=n.teamsCount?(Object(s["i"])(),Object(s["e"])("div",Oe,"Rounds quantity can't be more than teams")):(Object(s["i"])(),Object(s["e"])("div",ge,[je,Object(s["f"])("b",null,Object(s["n"])(0===n.activeRound?"first":n.activeRound),1),he]))])}var ve=n("53ca"),ye=(n("caad"),n("2532"),n("a434"),{name:"Games",props:["roundIsActive","activeRound","gamesList","teamsList","teamsCount","useRating"],emits:["start-round","end-round","draw-round","show-message","update-games","update-teams"],data:function(){return{games:this.gamesList,teams:this.teamsList}},methods:{getRandomWithOneExclusion:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;while(null===n||n===t)n=Math.round(Math.random()*(e-1));return n},generateCompetitors:function(e){var t,n,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0!==this.activeRound||this.useRating){t=s?e.length-1:0;var a=0===this.activeRound?e.length/2:1,c=s?e.length-2:a;while(e[t].opponents.includes(e[c].title))if(s?c--:c++,!e[c])return c=-1,{teamIndex:t,opponentIndex:c};return{teamIndex:t,opponentIndex:c}}return t=this.getRandomWithOneExclusion(e.length),n=this.getRandomWithOneExclusion(e.length,t),{teamIndex:t,opponentIndex:n}},drawRound:function(){var e=this;this.$emit("start-round");var t,n,s=[],a=this.teams,c=0,i=a.length/2-1,o=[],l=a.length%2!==0,r=l?a[a.length-1]:null;if(l){if(r.opponents.includes("Technical"))for(var u=2;u<a.length;u++)if(r=a[a.length-u],!r.opponents.includes("Technical")){console.log(r);break}n={team_1:r.title,team_1_score:13,team_2:"Technical",team_2_score:7},s.push(n),a.splice(a.length-1,1)}var b=function(){t=e.generateCompetitors(a,c>0);while(-1===t.opponentIndex&&c<i)c++,s.splice(s.length-1,1),a.unshift(o[o.length-1]),a.unshift(o[o.length-2]),o.splice(o.length-2,2),t=e.generateCompetitors(a,!0),console.log(t);if(console.log(a,t,c,i),c===i&&-1===t.opponentIndex)return e.$emit("show-message","Can't draw this round","Sorry, shit happens","error"),{v:void 0};n={team_1:a[t.teamIndex].title,team_1_score:null,team_2:a[Math.floor(t.opponentIndex)].title,team_2_score:null},console.log(n),o.push(a[t.teamIndex],a[Math.floor(t.opponentIndex)]);var l=[a[t.teamIndex].title,a[Math.floor(t.opponentIndex)].title];a=a.filter((function(e){return!l.includes(e.title)})),n?s.push(n):console.log("Game is empty")};while(a.length>0){var m=b();if("object"===Object(ve["a"])(m))return m.v}this.$emit("draw-round",s)},saveResults:function(){var e=this;this.games[this.activeRound-2].forEach((function(t){var n=e.teams.findIndex((function(e){return e.title===t.team_1}));-1!=n&&(e.teams[n].opponents.push(t.team_2),e.teams[n].pointsPlus+=t.team_1_score,e.teams[n].pointsMinus+=t.team_2_score);var s=e.teams.findIndex((function(e){return e.title===t.team_2}));-1!=s&&(e.teams[s].opponents.push(t.team_1),e.teams[s].pointsPlus+=t.team_2_score,e.teams[s].pointsMinus+=t.team_1_score),t.team_1_score>t.team_2_score?-1!=n&&e.teams[n].wins++:-1!=!s&&"Technical"!==t.team_2&&e.teams[s].wins++})),localStorage.setItem("teams",JSON.stringify(this.teams)),localStorage.setItem("games",JSON.stringify(this.games)),this.$emit("end-round"),this.$emit("show-message","Success","Your results saved")}}});const Re=V()(ye,[["render",pe]]);var ke=Re,we={class:"content tabs-content"},Te={key:0,class:"table"},_e={key:1,class:"mb-5 mt-5"};function Ie(e,t,n,a,c,i){return Object(s["i"])(),Object(s["e"])("div",we,[n.results.length?(Object(s["i"])(),Object(s["e"])("table",Te,[(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(n.results,(function(e,t){return Object(s["i"])(),Object(s["e"])(s["a"],{key:t},[(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(e,(function(e,n){return Object(s["i"])(),Object(s["e"])("tr",{key:n},[Object(s["f"])("td",null,"R"+Object(s["n"])(t+1),1),Object(s["f"])("td",null,Object(s["n"])(e.team_1),1),Object(s["f"])("td",null,Object(s["n"])(e.team_1_score),1),Object(s["f"])("td",null,Object(s["n"])(e.team_2_score),1),Object(s["f"])("td",null,Object(s["n"])(e.team_2),1)])})),128))],64)})),128))])):(Object(s["i"])(),Object(s["e"])("div",_e," No games, yet "))])}var xe={name:"Ranking",props:["results"]};const Se=V()(xe,[["render",Ie]]);var Pe=Se,Me={class:"content tabs-content"},Ce={id:"table-ranking",class:"table"},Ae=Object(s["f"])("th",null,"#",-1),Ue=Object(s["f"])("th",null,"Team",-1),Le=Object(s["f"])("th",null,"Wins",-1),Ee=Object(s["f"])("th",null,"Buh",-1),Ge=Object(s["f"])("th",null,"SBuh",-1),Be=Object(s["f"])("th",null,"Points",-1),De={key:0},Je=Object(s["f"])("td",null,[Object(s["f"])("span",{class:"team-count"})],-1),Ne={align:"center"},qe={align:"center"},Ve={align:"center"},$e={align:"center"},We={key:0},ze={key:0,class:"mt-5"},Ke=Object(s["f"])("h2",{class:"h2"},"Go to play-off?",-1),Fe={class:"is-flex is-align-items-center"},Ye=Object(s["g"])("Choose number of teams "),He={class:"select ml-3"},Qe=Object(s["f"])("option",null,"4",-1),Xe={key:0},Ze={key:1},et={key:2},tt={key:3};function nt(e,t,n,a,c,i){return Object(s["i"])(),Object(s["e"])("div",Me,[Object(s["f"])("h2",null,"Ranking after "+Object(s["n"])(n.activeRound-1)+" round"+Object(s["n"])(n.activeRound>1?"s":""),1),Object(s["f"])("table",Ce,[Object(s["f"])("thead",null,[Object(s["f"])("tr",null,[Ae,Ue,Le,Ee,Ge,Be,n.showIfUseRating?(Object(s["i"])(),Object(s["e"])("th",De,"Rating")):Object(s["d"])("",!0)])]),Object(s["f"])("tbody",null,[(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(n.rankingTeams,(function(e){return Object(s["i"])(),Object(s["e"])("tr",{key:e.title},[Je,Object(s["f"])("td",null,Object(s["n"])(e.title),1),Object(s["f"])("td",Ne,Object(s["n"])(e.wins),1),Object(s["f"])("td",qe,Object(s["n"])(e.buhgolts),1),Object(s["f"])("td",Ve,Object(s["n"])(e.smallBuhgolts),1),Object(s["f"])("td",$e,Object(s["n"])(e.pointsPlus)+":"+Object(s["n"])(e.pointsMinus),1),n.showIfUseRating?(Object(s["i"])(),Object(s["e"])("td",We,Object(s["n"])(e.rating),1)):Object(s["d"])("",!0)])})),128))])]),n.isPlayOff?Object(s["d"])("",!0):(Object(s["i"])(),Object(s["e"])("div",ze,[Ke,Object(s["f"])("div",Fe,[Ye,Object(s["f"])("div",He,[Object(s["f"])("select",null,[Qe,n.rankingTeams.length>8?(Object(s["i"])(),Object(s["e"])("option",Xe,"8")):Object(s["d"])("",!0),n.rankingTeams.length>16?(Object(s["i"])(),Object(s["e"])("option",Ze,"16")):Object(s["d"])("",!0),n.rankingTeams.length>32?(Object(s["i"])(),Object(s["e"])("option",et,"32")):Object(s["d"])("",!0),n.rankingTeams.length>64?(Object(s["i"])(),Object(s["e"])("option",tt,"64")):Object(s["d"])("",!0)])]),Object(s["f"])("button",{onClick:t[0]||(t[0]=function(){return i.runPlayOff&&i.runPlayOff.apply(i,arguments)}),class:"button is-success ml-3"},"Go!")])]))])}var st={name:"Ranking",props:["showIfUseRating","isPlayOff","rankingTeams","activeRound"],emits:["is-playoff"],methods:{runPlayOff:function(){}}};const at=V()(st,[["render",nt]]);var ct=at,it={name:"App",data:function(){return{tabs:["Teams","Games","Results","Ranking"],activeTab:"Teams",teams:localStorage.getItem("teams")?JSON.parse(localStorage.getItem("teams")):[],games:localStorage.getItem("games")?JSON.parse(localStorage.getItem("games")):[],roundIsActive:!1,useRating:localStorage.getItem("useRating")||!0,isPlayOff:!1,message:{show:!1,type:"success",title:"Message",text:""}}},mounted:function(){},methods:{shuffleArray:function(e){var t,n=e.length;while(0!=n){t=Math.floor(Math.random()*n),n--;var s=[e[t],e[n]];e[n]=s[0],e[t]=s[1]}return e},changeDrawStyle:function(e){this.useRating=e},addRoundToGames:function(e){this.games.push(this.shuffleArray(e))},showMessage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";this.message={show:!0,type:n,title:e,text:t}},sortTeams:function(e){this.countBuhgolts(e,"buhgolts"),this.countBuhgolts(e,"smallBuhgolts");var t=e.sort((function(e,t){return t.wins-e.wins||t.buhgolts-e.buhgolts||t.smallBuhgolts-e.smallBuhgolts||t.pointsPlus-t.pointsMinus-(e.pointsPlus-e.pointsMinus)||t.rating-e.rating}));return localStorage.setItem("teams",JSON.stringify(t)),t},countBuhgolts:function(e,t){var n="buhgolts"===t?"wins":"buhgolts";return e.forEach((function(s){var a=0;s.opponents.length&&s.opponents.forEach((function(t){var s=e.findIndex((function(e){return e.title===t}));-1!==s&&(a+=e[s][n])})),s[t]=a})),e},addTeam:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(""!==e){var s=!1;if(this.teams.forEach((function(t){t.title===e&&(s=!0)})),console.log(s),s)this.showMessage("Error","Such team already registered! Change team title, please","error");else{var a={title:e,rating:t,players:n,wins:0,buhgolts:0,smallBuhgolts:0,pointsPlus:0,pointsMinus:0,opponents:[]};this.teams.push(a),localStorage.setItem("teams",JSON.stringify(this.teams))}}else this.showMessage("Error","Enter fields to add team","error")},removeTeam:function(e){this.teams=this.teams.filter((function(t){return t.title!==e}))},removeTournament:function(){this.teams=[],this.games=[],this.isPlayOff=!1,this.useRating=!0},runPlayOff:function(){}},computed:{rankingTeams:function(){return this.sortTeams(this.teams)},activeRound:function(){return this.games.length?this.games.length+1:0}},watch:{teams:function(){this.teams.length?localStorage.setItem("teams",JSON.stringify(this.teams)):localStorage.removeItem("teams")},games:function(){this.games.length?localStorage.setItem("games",JSON.stringify(this.games)):localStorage.removeItem("games")},useRating:function(){localStorage.setItem("useRating",this.useRating)},isPlayOff:function(){localStorage.setItem("isPlayOff",this.isPlayOff)}},components:{AddTeam:W,Message:Q,Games:ke,Results:Pe,Ranking:ct}};n("3815"),n("d73d");const ot=V()(it,[["render",x]]);var lt=ot;Object(s["b"])(lt).mount("#app")},d1b4:function(e,t,n){e.exports=n.p+"img/bg.be042820.jpg"},d529:function(e,t,n){},d73d:function(e,t,n){"use strict";n("1c50")}});
//# sourceMappingURL=app.4ae20180.js.map