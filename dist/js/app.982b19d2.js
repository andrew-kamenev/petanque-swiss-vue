(function(e){function t(t){for(var a,r,o=t[0],l=t[1],u=t[2],m=0,b=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&b.push(s[r][0]),s[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);i&&i(t);while(b.length)b.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(a=!1)}a&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},s={app:0},c=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/petanque-swiss-vue/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var i=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0563":function(e,t,n){},"1c50":function(e,t,n){},"29bb":function(e,t,n){},"2abc":function(e,t,n){"use strict";n("29bb")},3815:function(e,t,n){"use strict";n("51f9")},"4b25":function(e,t,n){"use strict";n("a2bf")},"4ffd":function(e,t,n){e.exports=n.p+"img/logo.ec2cab1b.png"},"51f9":function(e,t,n){},"546a":function(e,t,n){"use strict";n("0563")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),s=n("d1b4"),c=n.n(s),r={class:"container"},o={class:"columns"},l={class:"column"},u=Object(a["f"])("div",{class:"column is-one-third is-hidden-touch"},[Object(a["f"])("img",{src:c.a,alt:"Petanque in Alps",class:"image"})],-1),i=Object(a["f"])("hr",null,null,-1);function m(e,t,n,s,c,m){var b=Object(a["r"])("Navbar"),O=Object(a["r"])("Tournament"),f=Object(a["r"])("Message"),d=Object(a["r"])("Menu"),j=Object(a["r"])("SavedTournamentModal"),p=Object(a["r"])("Help");return Object(a["l"])(),Object(a["e"])(a["a"],null,[Object(a["h"])(b,{onOpenMenu:t[0]||(t[0]=function(e){return c.menuOpen=!c.menuOpen})}),Object(a["f"])("div",r,[Object(a["f"])("div",o,[Object(a["f"])("div",l,[m.tournament?(Object(a["l"])(),Object(a["c"])(O,{key:0})):Object(a["d"])("",!0)]),u]),i,Object(a["f"])("button",{class:"button is-info",onClick:t[1]||(t[1]=function(){return e.addTournament&&e.addTournament.apply(e,arguments)})},"Add new tournament"),e.message.show?(Object(a["l"])(),Object(a["c"])(f,{key:0})):Object(a["d"])("",!0),Object(a["h"])(d,{active:c.menuOpen,onCloseMenu:t[2]||(t[2]=function(e){return c.menuOpen=!1}),onOpenSavedTournament:m.openSavedTournament,onOpenHelp:t[3]||(t[3]=function(e){c.menuOpen=!1,c.helpOpen=!0})},null,8,["active","onOpenSavedTournament"]),c.showSavedTournament?(Object(a["l"])(),Object(a["c"])(j,{key:1,tournament:e.savedTournaments[c.savedTournamentsActive],onCloseModal:m.closeTournamentModal},null,8,["tournament","onCloseModal"])):Object(a["d"])("",!0),c.helpOpen?(Object(a["l"])(),Object(a["c"])(p,{key:2,onCloseModal:t[4]||(t[4]=function(e){return c.helpOpen=!1})})):Object(a["d"])("",!0)])],64)}var b=n("5530"),O={class:"message-header"},f={class:"message-body"};function d(e,t,n,s,c,r){return Object(a["l"])(),Object(a["e"])("article",{class:Object(a["j"])(["message is-success",{"is-danger":"error"===e.message.type}])},[Object(a["f"])("div",O,[Object(a["f"])("p",null,Object(a["s"])(e.message.title),1),Object(a["f"])("button",{class:"delete","aria-label":"delete",onClick:t[0]||(t[0]=function(){return e.closeMessage&&e.closeMessage.apply(e,arguments)})})]),Object(a["f"])("div",f,Object(a["s"])(e.message.text),1)],2)}var j=n("5502"),p={name:"Message",mounted:function(){var e=this;setTimeout(e.hideMessage,3e3)},computed:Object(j["c"])(["message"]),methods:Object(b["a"])({},Object(j["b"])(["hideMessage"]))},h=(n("7fda"),n("6b0d")),g=n.n(h);const v=g()(p,[["render",d],["__scopeId","data-v-217e01bc"]]);var y=v,k=(n("b0c0"),function(e){return Object(a["n"])("data-v-01a2e258"),e=e(),Object(a["m"])(),e}),_={class:"menu"},T={class:"has-text-right"},x={key:0,class:"menu-label is-hidden-desktop"},w={key:1,class:"navbar-item has-dropdown is-hoverable is-hidden-desktop"},R=k((function(){return Object(a["f"])("a",{class:"navbar-link"}," Choose ",-1)})),I={key:0,class:"navbar-dropdown"},S=["onClick"],C={key:2,class:"menu-label"},P={class:"menu-list"},M=["onClick"],B=k((function(){return Object(a["f"])("p",{class:"menu-label"}," Info ",-1)})),E={class:"menu-list"},N=k((function(){return Object(a["f"])("li",null,[Object(a["f"])("a",{href:"https://en.wikipedia.org/wiki/Swiss-system_tournament",target:"_blank"},"Swiss system")],-1)})),A=k((function(){return Object(a["f"])("p",{class:"menu-label"}," Useful Links ",-1)})),G=k((function(){return Object(a["f"])("ul",{class:"menu-list"},[Object(a["f"])("li",null,[Object(a["f"])("a",{href:"http://portal.petanque.org.ua/",target:"_blank"},"Portal")])],-1)}));function L(e,t,n,s,c,r){return Object(a["l"])(),Object(a["e"])("div",{class:Object(a["j"])(["menu-wrapper",{active:n.active}]),onClick:t[2]||(t[2]=Object(a["A"])((function(t){return e.$emit("closeMenu")}),["self"]))},[Object(a["f"])("aside",_,[Object(a["f"])("div",T,[Object(a["f"])("a",{href:"#",class:"delete is-large",onClick:t[0]||(t[0]=Object(a["A"])((function(t){return e.$emit("closeMenu")}),["prevent"]))})]),e.tournaments.length>1?(Object(a["l"])(),Object(a["e"])("p",x," Active tournaments ")):Object(a["d"])("",!0),e.tournaments.length>1?(Object(a["l"])(),Object(a["e"])("div",w,[R,e.tournaments.length>1?(Object(a["l"])(),Object(a["e"])("div",I,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e.tournaments,(function(t,n){return Object(a["l"])(),Object(a["e"])("a",{class:Object(a["j"])(["navbar-item",{"is-active":n===e.currentTournamentIndex}]),key:n,onClick:Object(a["A"])((function(e){return r.chooseTournament(n)}),["prevent"])},Object(a["s"])(t.name||"Tournament "+c.tournamentNames[n]),11,S)})),128))])):Object(a["d"])("",!0)])):Object(a["d"])("",!0),e.savedTournaments.length?(Object(a["l"])(),Object(a["e"])("p",C," Saved tournaments ")):Object(a["d"])("",!0),Object(a["f"])("ul",P,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e.savedTournaments,(function(t,n){return Object(a["l"])(),Object(a["e"])("li",{key:n},[Object(a["f"])("a",{href:"#",onClick:Object(a["A"])((function(t){return e.$emit("openSavedTournament",n)}),["prevent"])},Object(a["s"])(t.name),9,M)])})),128))]),B,Object(a["f"])("ul",E,[N,Object(a["f"])("li",null,[Object(a["f"])("a",{href:"#",onClick:t[1]||(t[1]=Object(a["A"])((function(t){return e.$emit("openHelp")}),["prevent"]))},"How to use (in progress)?")])]),A,G])],2)}n("d3b7"),n("159b"),n("99af"),n("e9c4"),n("fb6a"),n("caad");var $=["A","B","C","D","E","F"];function V(e,t,n,a){return t===n?"-":(e.forEach((function(e){e.forEach((function(e){e.team_1+e.team_2!==t+n&&e.team_2+e.team_1!==t+n||(s=e)}))})),s?a?t===s.team_1?s.team_1_score-s.team_2_score||0:s.team_2_score-s.team_1_score||0:t===s.team_1?"".concat(s.team_1_score||0," : ").concat(s.team_2_score||0):"".concat(s.team_2_score||0," : ").concat(s.team_1_score||0):void 0);var s}function z(e,t){var n=[];if(e.playOffBracket)(function(){for(var a=JSON.parse(JSON.stringify(e.playOffBracket.stages)).reverse(),s=JSON.parse(JSON.stringify(e.playOffBracket.thirdPlace)),c=[],r=function(e){if(1===a[e].stageLabel){var t={place:"1",title:a[e].teams[0].team_1_score>a[e].teams[0].team_2_score?a[e].teams[0].team_1:a[e].teams[0].team_2};n.push(t),c.push(t.title);var r={place:"2",title:a[e].teams[0].team_1_score>a[e].teams[0].team_2_score?a[e].teams[0].team_2:a[e].teams[0].team_1};n.push(r),c.push(r.title)}else if(2===a[e].stageLabel){var o={place:"3",title:s.team_1_score>s.team_2_score?s.team_1:s.team_2};n.push(o),c.push(o.title);var l={place:"4",title:s.team_1_score>s.team_2_score?s.team_2:s.team_1};n.push(l),c.push(l.title)}else a[e].teams.forEach((function(t){var s=c.includes(t.team_1)?t.team_2:t.team_1,r={place:a[e].stageLabel+1+"-"+2*a[e].stageLabel,title:s};n.push(r),c.push(r.title)}))},o=0;o<a.length;o++)r(o);e.games.length>0&&("swiss"===e.system||"groups"===e.system&&1===t.length?t.slice(e.playOffBracket.stages[0].teamsCount,t.length).forEach((function(t,a){var s={place:e.playOffBracket.stages[0].teamsCount+a+1,title:t.title,players:t.players};n.push(s)})):function(){var a=t.length,s=e.playOffBracket.stages[0].teamsCount,c=[];t.forEach((function(e,t){c[t]=e.slice(s/a)}));for(var r=function(e){c.forEach((function(t){var a={place:s+2*e+1+"-"+(s+2*e+2),title:t[e].title};n.push(a)}))},o=0;o<c[0].length;o++)r(o)}())})();else if("swiss"===e.system||"groups"===e.system&&1===t.length){var a="swiss"===e.system?t:t[0];a.forEach((function(e,t){var a={place:t+1,title:e.title,players:e.players};n.push(a)}))}return n}var J={name:"Menu",data:function(){return{tournamentNames:$}},props:["active"],computed:Object(j["c"])(["tournaments","currentTournamentIndex","savedTournaments"]),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["setActiveTournament"])),{},{chooseTournament:function(e){this.setActiveTournament(e),this.$emit("closeMenu")}})};n("2abc");const U=g()(J,[["render",L],["__scopeId","data-v-01a2e258"]]);var F=U,H=function(e){return Object(a["n"])("data-v-65d45036"),e=e(),Object(a["m"])(),e},K={class:"content is-flex is-justify-content-space-between mb-3"},D={key:0,class:"card"},q=H((function(){return Object(a["f"])("p",{class:"card-header-title"}," Results in tables ",-1)})),W=H((function(){return Object(a["f"])("button",{class:"card-header-icon","aria-label":"more options"},[Object(a["f"])("span",{class:"icon"},[Object(a["f"])("i",{class:"fas fa-angle-down","aria-hidden":"true"})])],-1)})),Y=[q,W],Q={key:1,class:"card"},X=H((function(){return Object(a["f"])("p",{class:"card-header-title"}," Games ",-1)})),Z=H((function(){return Object(a["f"])("button",{class:"card-header-icon","aria-label":"more options"},[Object(a["f"])("span",{class:"icon"},[Object(a["f"])("i",{class:"fas fa-angle-down","aria-hidden":"true"})])],-1)})),ee=[X,Z],te={class:"table-container"},ne={key:0,class:"table is-striped mb-5"},ae={key:0},se={class:"has-text-centered"},ce={class:"table-container"},re={class:"table is-striped"};function oe(e,t,n,s,c,r){var o=Object(a["r"])("Ranking"),l=Object(a["r"])("Modal");return Object(a["l"])(),Object(a["c"])(l,{onCloseModal:t[3]||(t[3]=function(t){return e.$emit("close-modal")})},{default:Object(a["x"])((function(){return[Object(a["f"])("div",K,[Object(a["f"])("h2",null,Object(a["s"])(n.tournament.name),1),Object(a["f"])("button",{class:"button is-danger",onClick:t[0]||(t[0]=function(t){e.removeSavedTournament(n.tournament.name),e.$emit("close-modal")})},"Remove tournament")]),n.tournament.ranking?(Object(a["l"])(),Object(a["e"])("div",D,[Object(a["f"])("header",{class:"card-header",onClick:t[1]||(t[1]=function(e){c.showGames=!1,c.showSwissTable=!c.showSwissTable})},Y),Object(a["f"])("div",{class:Object(a["j"])(["card-content",{active:c.showSwissTable}])},[Object(a["h"])(o,{tournament:n.tournament,rankingTeams:n.tournament.ranking,showInSaved:"true"},null,8,["tournament","rankingTeams"])],2)])):Object(a["d"])("",!0),n.tournament.games?(Object(a["l"])(),Object(a["e"])("div",Q,[Object(a["f"])("header",{class:"card-header",onClick:t[2]||(t[2]=function(e){c.showSwissTable=!1,c.showGames=!c.showGames})},ee),Object(a["f"])("div",{class:Object(a["j"])(["card-content",{active:c.showGames}])},[Object(a["f"])("div",te,[n.tournament.games?(Object(a["l"])(),Object(a["e"])("table",ne,[Object(a["f"])("tbody",null,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(n.tournament.games,(function(e,t){return Object(a["l"])(),Object(a["e"])(a["a"],{key:t},[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e,(function(e,n){return Object(a["l"])(),Object(a["e"])("tr",{key:n},[Object(a["f"])("td",null,"R"+Object(a["s"])(t+1),1),Object(a["f"])("td",null,Object(a["s"])(e.team_1),1),Object(a["f"])("td",null,Object(a["s"])(e.team_1_score),1),Object(a["f"])("td",null,Object(a["s"])(e.team_2_score),1),Object(a["f"])("td",null,Object(a["s"])(e.team_2),1)])})),128))],64)})),128))])])):Object(a["d"])("",!0)]),n.tournament.playOff?(Object(a["l"])(),Object(a["e"])("div",ae,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(n.tournament.playOff.stages,(function(e,t){return Object(a["l"])(),Object(a["e"])("div",{key:t,class:"mb-5"},[Object(a["f"])("h3",se,Object(a["s"])(1===e.stageLabel?"Final":"1/"+e.stageLabel+" final"),1),Object(a["f"])("div",ce,[Object(a["f"])("table",re,[Object(a["f"])("tbody",null,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e.teams,(function(e,t){return Object(a["l"])(),Object(a["e"])("tr",{key:t},[Object(a["f"])("td",null,Object(a["s"])(e.team_1),1),Object(a["f"])("td",null,Object(a["s"])(e.team_1_score),1),Object(a["f"])("td",null,Object(a["s"])(e.team_2_score),1),Object(a["f"])("td",null,Object(a["s"])(e.team_2),1)])})),128))])])])])})),128))])):Object(a["d"])("",!0)],2)])):Object(a["d"])("",!0)]})),_:1})}var le={key:0,class:"mb-5"},ue={class:"is-flex is-justify-content-space-between is-align-content-center"},ie=Object(a["f"])("h2",null,"Tournament Result",-1),me={class:"table-container"},be={id:"table-finish-ranking",class:"table"},Oe=Object(a["f"])("thead",null,[Object(a["f"])("tr",null,[Object(a["f"])("th",null,"Place"),Object(a["f"])("th",null,"Team"),Object(a["f"])("th",null,"Players")])],-1),fe={key:0,class:"is-size-7"},de={key:0},je={key:1},pe={key:0},he=Object(a["g"])("Ranking "),ge={key:0},ve={key:1},ye={key:1},ke={class:"table-container"},_e={id:"table-ranking",class:"table"},Te=Object(a["f"])("th",null,"#",-1),xe=Object(a["f"])("th",null,"Team",-1),we=Object(a["f"])("th",null,"Wins",-1),Re=Object(a["f"])("th",null,"Buh",-1),Ie=Object(a["f"])("th",null,"SBuh",-1),Se=Object(a["f"])("th",null,"Points",-1),Ce={key:0},Pe=Object(a["f"])("td",null,[Object(a["f"])("span",{class:"team-count"})],-1),Me={align:"center"},Be={align:"center"},Ee={align:"center"},Ne={align:"center"},Ae={key:0},Ge={key:2},Le={key:0},$e={class:"table-container mb-5"},Ve={class:"table table is-striped"},ze=Object(a["f"])("th",null,"Place",-1),Je=Object(a["f"])("th",null,"Team",-1),Ue=Object(a["f"])("th",null,"Wins",-1),Fe=Object(a["f"])("th",null,"Points",-1),He={align:"center"},Ke={align:"center"};function De(e,t,n,s,c,r){return Object(a["l"])(),Object(a["e"])("div",null,[n.tournament.tournamentIsFinished?(Object(a["l"])(),Object(a["e"])("div",le,[Object(a["f"])("div",ue,[ie,Object(a["f"])("button",{class:"button is-info",onClick:t[0]||(t[0]=function(){return r.copyResults&&r.copyResults.apply(r,arguments)})},"Copy results")]),Object(a["f"])("div",me,[Object(a["f"])("table",be,[Oe,Object(a["f"])("tbody",null,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(n.showInSaved?n.rankingTeams:r.tournamentRanking,(function(e,t){return Object(a["l"])(),Object(a["e"])("tr",{key:t},[Object(a["f"])("td",null,Object(a["s"])(e.place),1),Object(a["f"])("td",null,Object(a["s"])(e.title),1),Object(a["f"])("td",null,[(n.showInSaved?e.players&&e.players.length:r.getTeamPlayers(e.title).length)?(Object(a["l"])(),Object(a["e"])("div",fe,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(n.showInSaved?e.players:r.getTeamPlayers(e.title),(function(t,n){return Object(a["l"])(),Object(a["e"])("span",{class:"has-text-dark",key:n},[Object(a["g"])(Object(a["s"])(t.name)+" "+Object(a["s"])(t.surname)+" ",1),n<r.getTeamPlayers(e.title).length-1?(Object(a["l"])(),Object(a["e"])("span",de,", ")):Object(a["d"])("",!0)])})),128))])):Object(a["d"])("",!0)])])})),128))])])])])):Object(a["d"])("",!0),n.tournament.games.length>0?(Object(a["l"])(),Object(a["e"])("div",je,["swiss"===n.tournament.system?(Object(a["l"])(),Object(a["e"])("h2",pe,[he,n.activeRound?(Object(a["l"])(),Object(a["e"])("span",ge,"after "+Object(a["s"])(n.activeRound-1)+" round"+Object(a["s"])(n.activeRound>2&&0!==n.activeRound?"s ":" "),1)):Object(a["d"])("",!0),"swiss"===n.tournament.system?(Object(a["l"])(),Object(a["e"])("span",ve,"swiss")):Object(a["d"])("",!0)])):Object(a["d"])("",!0),"swiss"===n.tournament.system?(Object(a["l"])(),Object(a["e"])("div",ye,[Object(a["f"])("div",ke,[Object(a["f"])("table",_e,[Object(a["f"])("thead",null,[Object(a["f"])("tr",null,[Te,xe,we,Re,Ie,Se,n.tournament.useRating?(Object(a["l"])(),Object(a["e"])("th",Ce,"Rating")):Object(a["d"])("",!0)])]),Object(a["f"])("tbody",null,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(n.rankingTeams,(function(e){return Object(a["l"])(),Object(a["e"])("tr",{key:e.title},[Pe,Object(a["f"])("td",null,Object(a["s"])(e.title),1),Object(a["f"])("td",Me,Object(a["s"])(e.wins),1),Object(a["f"])("td",Be,Object(a["s"])(e.buhgolts),1),Object(a["f"])("td",Ee,Object(a["s"])(e.smallBuhgolts),1),Object(a["f"])("td",Ne,Object(a["s"])(e.pointsPlus)+":"+Object(a["s"])(e.pointsMinus),1),n.tournament.useRating?(Object(a["l"])(),Object(a["e"])("td",Ae,Object(a["s"])(e.rating),1)):Object(a["d"])("",!0)])})),128))])])])])):n.tournament.groups?(Object(a["l"])(),Object(a["e"])("div",Ge,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(n.rankingTeams,(function(e,t){return Object(a["l"])(),Object(a["e"])("div",{key:t},[n.tournament.groups&&n.tournament.groups.length>1?(Object(a["l"])(),Object(a["e"])("h4",Le,"Group "+Object(a["s"])(r.groupsNames[t]),1)):Object(a["d"])("",!0),Object(a["f"])("div",$e,[Object(a["f"])("table",Ve,[Object(a["f"])("thead",null,[Object(a["f"])("tr",null,[ze,Je,(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e,(function(e,t){return Object(a["l"])(),Object(a["e"])("th",{key:t,align:"center"},Object(a["s"])(t+1),1)})),128)),Ue,Fe])]),Object(a["f"])("tbody",null,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e,(function(t,s){return Object(a["l"])(),Object(a["e"])("tr",{key:s},[Object(a["f"])("td",null,Object(a["s"])(s+1),1),Object(a["f"])("td",null,Object(a["s"])(t.title),1),(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e,(function(e,s){return Object(a["l"])(),Object(a["e"])("td",{key:s,align:"center",class:"no-wrap"},Object(a["s"])(r.getGameResultInGroup(n.tournament.games,t.title,e.title)),1)})),128)),Object(a["f"])("td",He,Object(a["s"])(t.wins),1),Object(a["f"])("td",Ke,Object(a["s"])(t.pointsPlus)+":"+Object(a["s"])(t.pointsMinus),1)])})),128))])])])])})),128))])):Object(a["d"])("",!0)])):Object(a["d"])("",!0)])}n("498a"),n("7db0");var qe={name:"Ranking",props:["tournament","rankingTeams","activeRound","showInSaved"],emits:["is-playoff"],data:function(){return{playOffBracket:localStorage.getItem("playOffBracket")?JSON.parse(localStorage.getItem("playOffBracket")):null}},methods:{getGameResultInGroup:V,copyResults:function(){var e=document.createElement("div"),t="";this.tournamentRanking.forEach((function(e){t=t+"<span>"+e.place+"</span><p>"+e.title+"</p>"})),e.innerHTML=t.trim(),document.body.appendChild(e);var n=new Range;n.selectNode(e);var a=window.getSelection();a.removeAllRanges(),a.addRange(n),document.execCommand("copy"),e.remove()},getTeamPlayers:function(e){return this.tournament.teams&&this.tournament.teams.find((function(t){return t.title===e})).players?this.tournament.teams.find((function(t){return t.title===e})).players:""}},computed:{groupsNames:function(){return $},tournamentRanking:function(){return z(this.tournament,this.rankingTeams)}}};const We=g()(qe,[["render",De]]);var Ye=We,Qe={class:"modal is-active"},Xe={class:"modal-content"},Ze={class:"box"};function et(e,t,n,s,c,r){return Object(a["l"])(),Object(a["e"])("div",Qe,[Object(a["f"])("div",{class:"modal-background",onClick:t[0]||(t[0]=Object(a["A"])((function(t){return e.$emit("close-modal")}),["self"]))}),Object(a["f"])("div",Xe,[Object(a["f"])("div",Ze,[Object(a["q"])(e.$slots,"default")])]),Object(a["f"])("button",{class:"modal-close is-large","aria-label":"close",onClick:t[1]||(t[1]=function(t){return e.$emit("close-modal")})})])}var tt={name:"Modal",emits:["close-modal"]};const nt=g()(tt,[["render",et]]);var at=nt,st={name:"SavedTournamentModal",components:{Modal:at,Ranking:Ye},props:["tournament"],emits:["close-modal"],data:function(){return{showSwissTable:!1,showGames:!1}},methods:Object(j["b"])(["removeSavedTournament"])};n("546a");const ct=g()(st,[["render",oe],["__scopeId","data-v-65d45036"]]);var rt=ct,ot={class:"text-center is-size-3"},lt=Object(a["g"])(),ut={class:"is-size-5 is-capitalized"},it={key:0},mt={class:"field"},bt=Object(a["f"])("label",{class:"label",for:""},"System",-1),Ot={class:"control"},ft={class:"radio"},dt=Object(a["g"])(" Swiss "),jt={class:"radio"},pt=Object(a["g"])(" Groups "),ht={key:0,class:"field"},gt=Object(a["f"])("label",{class:"label"},"How many team in group?",-1),vt={class:"control"},yt={class:"select"},kt={key:0},_t={class:"tabs"},Tt=["onClick"],xt={key:1,class:"content tabs-content"},wt={key:2,class:"mb-5 mt-5"},Rt={class:"field is-grouped"},It={class:"control"},St={key:0,class:"control"},Ct={key:1,class:"control"},Pt={key:4,class:"content tabs-content"},Mt={key:0},Bt={class:"mt-5"},Et=Object(a["f"])("h2",{class:"h2"},"Go to play-off?",-1),Nt={class:"is-flex is-align-items-center"},At=Object(a["g"])("Choose number of teams "),Gt={class:"select ml-3"},Lt={key:0},$t={key:1},Vt={key:2},zt={key:3},Jt={key:4},Ut={key:5},Ft={key:0,class:"mt-5"},Ht={class:"checkbox"},Kt=["checked"],Dt=Object(a["g"])(" Also play "),qt=Object(a["f"])("strong",null,"Tournament B",-1),Wt=Object(a["g"])("? ");function Yt(e,t,n,s,c,r){var o=Object(a["r"])("AddTeam"),l=Object(a["r"])("TeamsList"),u=Object(a["r"])("Games"),i=Object(a["r"])("Results"),m=Object(a["r"])("Ranking"),b=Object(a["r"])("SaveTournament"),O=Object(a["r"])("ConfirmRemoveModal"),f=Object(a["r"])("ChangeTournamentName");return Object(a["l"])(),Object(a["e"])("div",null,[Object(a["f"])("div",ot,[Object(a["f"])("strong",{class:"pointer",onClick:t[0]||(t[0]=function(e){return c.changeNameModal=!0})},Object(a["s"])(r.tournament.name),1),lt,Object(a["f"])("span",ut,"("+Object(a["s"])(r.tournament.system)+")",1)]),r.tournament.games.length?Object(a["d"])("",!0):(Object(a["l"])(),Object(a["e"])("div",it,[Object(a["f"])("div",mt,[bt,Object(a["f"])("div",Ot,[Object(a["f"])("label",ft,[Object(a["y"])(Object(a["f"])("input",{type:"radio",name:"system",id:"swiss",value:"swiss","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.tournament.system=e})},null,512),[[a["t"],r.tournament.system]]),dt]),Object(a["f"])("label",jt,[Object(a["y"])(Object(a["f"])("input",{type:"radio",name:"system",id:"groups",value:"groups","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.tournament.system=e})},null,512),[[a["t"],r.tournament.system]]),pt])])]),"groups"===r.tournament.system?(Object(a["l"])(),Object(a["e"])("div",ht,[gt,Object(a["f"])("div",vt,[Object(a["f"])("div",yt,[Object(a["y"])(Object(a["f"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.teamsInGroup=e})},[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(r.tournament.teams,(function(e,t){return Object(a["l"])(),Object(a["e"])(a["a"],{key:t},[t>1?(Object(a["l"])(),Object(a["e"])("option",kt,Object(a["s"])(t+1),1)):Object(a["d"])("",!0)],64)})),128))],512),[[a["u"],c.teamsInGroup,void 0,{number:!0}]])])])])):Object(a["d"])("",!0)])),Object(a["f"])("div",_t,[Object(a["f"])("ul",null,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(c.tabs,(function(e,t){return Object(a["l"])(),Object(a["e"])("li",{key:t,class:Object(a["j"])({"is-active":e===c.activeTab})},[Object(a["f"])("a",{href:"#",onClick:Object(a["A"])((function(t){return c.activeTab=e}),["prevent"])},Object(a["s"])(e),9,Tt)],2)})),128))])]),"Teams"===c.activeTab?(Object(a["l"])(),Object(a["e"])("div",xt,[r.tournament.games.length?Object(a["d"])("",!0):(Object(a["l"])(),Object(a["c"])(o,{key:0})),r.tournament.teams.length?(Object(a["l"])(),Object(a["c"])(l,{key:1,activeRound:r.activeRound},null,8,["activeRound"])):(Object(a["l"])(),Object(a["e"])("div",wt," Please, add team ")),Object(a["f"])("div",Rt,[Object(a["f"])("div",It,[Object(a["f"])("button",{class:"button is-danger",onClick:t[4]||(t[4]=function(e){return c.removeConfirm=!0})},"Remove tournament")]),r.canSaveTournament||r.tournament.tournamentIsFinished?(Object(a["l"])(),Object(a["e"])("div",St,[Object(a["f"])("button",{class:"button is-success",onClick:t[5]||(t[5]=function(e){return c.showSaveTournament=!0})},"Save tournament")])):Object(a["d"])("",!0),!r.tournament.tournamentIsFinished&&r.tournament.games.length>1?(Object(a["l"])(),Object(a["e"])("div",Ct,[Object(a["f"])("button",{class:"button is-info",onClick:t[6]||(t[6]=function(){return e.finishTournament&&e.finishTournament.apply(e,arguments)})},"Finish tournament")])):Object(a["d"])("",!0)])])):Object(a["d"])("",!0),"Games"===c.activeTab?(Object(a["l"])(),Object(a["c"])(u,{key:2,activeRound:r.activeRound,"teams-in-group":c.teamsInGroup,onOpenResults:t[7]||(t[7]=function(e){return c.activeTab="Ranking"})},null,8,["activeRound","teams-in-group"])):Object(a["d"])("",!0),"Results"===c.activeTab?(Object(a["l"])(),Object(a["c"])(i,{key:3})):Object(a["d"])("",!0),"Ranking"===c.activeTab?(Object(a["l"])(),Object(a["e"])("div",Pt,[Object(a["h"])(m,{tournament:r.tournament,rankingTeams:r.rankingTeams,activeRound:r.activeRound},null,8,["tournament","rankingTeams","activeRound"]),!r.tournament.playOff&&r.tournament.teams.length>1?(Object(a["l"])(),Object(a["e"])("div",Mt,[Object(a["f"])("div",Bt,[Et,Object(a["f"])("div",Nt,[At,Object(a["f"])("div",Gt,[Object(a["y"])(Object(a["f"])("select",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return c.teamToPlayOff=e})},[r.tournament.teams.length>=2?(Object(a["l"])(),Object(a["e"])("option",Lt,"2")):Object(a["d"])("",!0),r.tournament.teams.length>=4?(Object(a["l"])(),Object(a["e"])("option",$t,"4")):Object(a["d"])("",!0),r.tournament.teams.length>=8?(Object(a["l"])(),Object(a["e"])("option",Vt,"8")):Object(a["d"])("",!0),r.tournament.teams.length>=16?(Object(a["l"])(),Object(a["e"])("option",zt,"16")):Object(a["d"])("",!0),r.tournament.teams.length>=32?(Object(a["l"])(),Object(a["e"])("option",Jt,"32")):Object(a["d"])("",!0),r.tournament.teams.length>=64?(Object(a["l"])(),Object(a["e"])("option",Ut,"64")):Object(a["d"])("",!0)],512),[[a["u"],c.teamToPlayOff,void 0,{number:!0}]])]),Object(a["f"])("button",{onClick:t[9]||(t[9]=function(){return r.startPlayOff&&r.startPlayOff.apply(r,arguments)}),class:"button is-success ml-3"},"Go!")])]),"swiss"===r.tournament.system?(Object(a["l"])(),Object(a["e"])("div",Ft,[Object(a["f"])("label",Ht,[Object(a["f"])("input",{type:"checkbox",checked:c.playB,onChange:t[10]||(t[10]=function(){return c.playB&&c.playB.apply(c,arguments)})},null,40,Kt),Dt,qt,Wt])])):Object(a["d"])("",!0)])):Object(a["d"])("",!0)])):Object(a["d"])("",!0),c.showSaveTournament?(Object(a["l"])(),Object(a["c"])(b,{key:5,"ranking-teams":r.rankingTeams,onCloseModal:t[11]||(t[11]=function(e){return c.showSaveTournament=!1})},null,8,["ranking-teams"])):Object(a["d"])("",!0),c.removeConfirm?(Object(a["l"])(),Object(a["c"])(O,{key:6,onCloseModal:t[12]||(t[12]=function(e){return c.removeConfirm=!1})})):Object(a["d"])("",!0),c.changeNameModal?(Object(a["l"])(),Object(a["c"])(f,{key:7,onCloseModal:t[13]||(t[13]=function(e){return c.changeNameModal=!1})})):Object(a["d"])("",!0)])}n("4e82"),n("c740");var Qt={class:"columns"},Xt={class:"column is-three-fifths"},Zt={class:"field control"},en={class:"column is-two-fifths"},tn={class:"field control"},nn={class:"columns"},an={class:"column is-three-fifths-desktop is-two-fifths-tablet"},sn={class:"field control"},cn={key:0,class:"column is-one-fifth"},rn={class:"field control"},on={class:"column is-one-fifth-desktop is-two-fifths-tablet is-full-mobile"},ln={class:"field control"},un={class:"checkbox"},mn=["checked"],bn=Object(a["g"])(" Use team rating for drawing ");function On(e,t,n,s,c,r){return Object(a["l"])(),Object(a["e"])(a["a"],null,[Object(a["f"])("div",Qt,[Object(a["f"])("div",Xt,[Object(a["f"])("div",Zt,[Object(a["y"])(Object(a["f"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.tournamentId=e}),onKeydown:t[1]||(t[1]=Object(a["z"])((function(){return r.importList&&r.importList.apply(r,arguments)}),["enter"])),class:"input",type:"number",placeholder:"Tournament ID"},null,544),[[a["v"],c.tournamentId]])])]),Object(a["f"])("div",en,[Object(a["f"])("div",tn,[Object(a["f"])("button",{class:"button is-success is-fullwidth",onClick:t[2]||(t[2]=function(){return r.importList&&r.importList.apply(r,arguments)})},"Import from portal")])])]),Object(a["f"])("div",nn,[Object(a["f"])("div",an,[Object(a["f"])("div",sn,[Object(a["y"])(Object(a["f"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.teamTitle=e}),onKeyup:t[4]||(t[4]=Object(a["z"])((function(e){return r.addTeam(c.teamTitle,c.teamRating)}),["enter"])),class:"input",type:"text",placeholder:"Team title"},null,544),[[a["v"],c.teamTitle]])])]),r.tournament.useRating?(Object(a["l"])(),Object(a["e"])("div",cn,[Object(a["f"])("div",rn,[Object(a["y"])(Object(a["f"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.teamRating=e}),onKeyup:t[6]||(t[6]=Object(a["z"])((function(e){return r.addTeam(c.teamTitle,c.teamRating)}),["enter"])),class:"input",type:"number",id:"rating",placeholder:"Rating"},null,544),[[a["v"],c.teamRating]])])])):Object(a["d"])("",!0),Object(a["f"])("div",on,[Object(a["f"])("div",ln,[Object(a["f"])("button",{class:"button is-success is-fullwidth",onClick:t[7]||(t[7]=function(e){return r.addTeam(c.teamTitle,c.teamRating)})},"Add team")])])]),Object(a["f"])("div",null,[Object(a["f"])("label",un,[Object(a["f"])("input",{type:"checkbox",checked:r.tournament.useRating,onChange:t[8]||(t[8]=function(t){return e.changeDrawType(t.target.checked)})},null,40,mn),bn])])],64)}var fn=n("1da1"),dn=(n("96cf"),{name:"AddTeam",props:["showRating"],data:function(){return{teamTitle:null,teamRating:null,tournamentId:null}},emits:["add-team","change-draw-style"],computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["addTeamToStore","changeDrawType","showMessage"])),{},{addTeam:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!==e&&""!==e){var a=!1;if(this.tournament.teams.forEach((function(t){t.title===e&&(a=!0)})),a)this.showMessage({title:"Error",text:"Such team already registered! Change team title, please",type:"error"});else{var s={title:e.trim(),rating:t,players:n,wins:0,buhgolts:0,smallBuhgolts:0,pointsPlus:0,pointsMinus:0,opponents:[]};this.addTeamToStore(s),this.teamTitle=null,this.teamRating=null}}else this.showMessage({title:"Error",text:"Enter fields to add team",type:"error"})},importList:function(){var e=this;return Object(fn["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://portal.petanque.org.ua/tournament/team_export/".concat(e.tournamentId,"?format=json"));case 2:if(n=t.sent,!n.ok){t.next=10;break}return t.next=6,n.json();case 6:a=t.sent,a.teams.forEach((function(t){e.addTeam(t.name,+t.power,t.players)})),t.next=11;break;case 10:alert("Error"+n.status);case 11:case"end":return t.stop()}}),t)})))()}})});const jn=g()(dn,[["render",On]]);var pn=jn,hn={class:"content tabs-content"},gn={key:1},vn={class:"field is-grouped"},yn={key:0,class:"control"},kn={key:1,class:"control ml-auto"},_n={key:0},Tn=Object(a["g"])("Show "),xn={key:0},wn=Object(a["g"])(),Rn={key:1},In=Object(a["g"])(" View "),Sn={class:"text-center"},Cn={class:"games-list"},Pn={class:"text-right team-block"},Mn=["for"],Bn={class:"text-center score-block"},En=["id","onUpdate:modelValue","disabled"],Nn={class:"lane-block is-size-7"},An=Object(a["g"])(" Lane "),Gn={class:"is-size-5 has-text-weight-bold"},Ln=["id","onUpdate:modelValue","disabled"],$n={class:"team-block"},Vn=["for"],zn={key:0,class:"has-text-centered has-text-danger mb-5"},Jn={class:"text-center mt-3"},Un=["disabled"],Fn={key:0,class:"has-text-danger mt-3"},Hn={key:1},Kn={key:2},Dn={key:3,class:"mb-5 mt-5"},qn=Object(a["g"])(" Please, click on button to draw "),Wn=Object(a["g"])(" round ");function Yn(e,t,n,s,c,r){var o=Object(a["r"])("PlayOff");return Object(a["l"])(),Object(a["e"])("div",hn,[r.tournament.playOff?(Object(a["l"])(),Object(a["c"])(o,{key:0,onOpenResults:t[0]||(t[0]=function(t){return e.$emit("openResults")})})):(Object(a["l"])(),Object(a["e"])("div",gn,[Object(a["f"])("div",vn,[!r.tournament.playOff&&!r.tournament.roundIsActive&&r.tournament.games.length<r.teamsCount?(Object(a["l"])(),Object(a["e"])("div",yn,[Object(a["f"])("button",{class:"button is-info",onClick:t[1]||(t[1]=function(){return r.drawRound&&r.drawRound.apply(r,arguments)})},Object(a["s"])(1===n.activeRound?"First":"Draw ".concat(n.activeRound))+" Round ",1)])):Object(a["d"])("",!0),"swiss"===r.tournament.system&&r.tournament.games.length>1&&r.tournament.roundIsActive?(Object(a["l"])(),Object(a["e"])("div",kn,[Object(a["f"])("button",{class:"button is-danger",onClick:t[2]||(t[2]=function(){return r.restoreRoundGames&&r.restoreRoundGames.apply(r,arguments)})}," Restore previous round ")])):Object(a["d"])("",!0)]),r.tournament.games.length&&r.tournament.roundIsActive?(Object(a["l"])(),Object(a["e"])("div",_n,[Object(a["f"])("button",{class:"button is-info is-hidden-tablet",onClick:t[3]||(t[3]=function(e){return c.compactView=!c.compactView})},[Tn,c.compactView?Object(a["d"])("",!0):(Object(a["l"])(),Object(a["e"])("span",xn," Compact ")),wn,c.compactView?(Object(a["l"])(),Object(a["e"])("span",Rn," Full ")):Object(a["d"])("",!0),In]),Object(a["f"])("h2",Sn,"Round "+Object(a["s"])(n.activeRound),1),Object(a["f"])("div",Cn,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(r.tournament.games[n.activeRound-1],(function(e,n){return Object(a["l"])(),Object(a["e"])("div",{class:Object(a["j"])(["game-row",{compact:c.compactView}]),key:n},[Object(a["f"])("span",Pn,[Object(a["f"])("label",{for:"team_"+n},Object(a["s"])(e.team_1),9,Mn)]),Object(a["f"])("span",Bn,[c.compactView?Object(a["d"])("",!0):Object(a["y"])((Object(a["l"])(),Object(a["e"])("input",{key:0,id:"team_"+n,"onUpdate:modelValue":function(t){return e.team_1_score=t},class:"input -small",type:"number",min:"0",max:"13",disabled:"Technical"===e.team_2,onKeyup:t[4]||(t[4]=Object(a["z"])((function(){return r.saveResults&&r.saveResults.apply(r,arguments)}),["enter"]))},null,40,En)),[[a["v"],e.team_1_score]]),Object(a["f"])("span",Nn,[An,Object(a["f"])("span",Gn,Object(a["s"])(n+1),1)]),c.compactView?Object(a["d"])("",!0):Object(a["y"])((Object(a["l"])(),Object(a["e"])("input",{key:1,id:"opponent_"+n,"onUpdate:modelValue":function(t){return e.team_2_score=t},class:"input -small",type:"number",min:"0",max:"13",disabled:"Technical"===e.team_2,onKeyup:t[5]||(t[5]=Object(a["z"])((function(){return r.saveResults&&r.saveResults.apply(r,arguments)}),["enter"]))},null,40,Ln)),[[a["v"],e.team_2_score]])]),Object(a["f"])("span",$n,[Object(a["f"])("label",{for:"opponent_"+n},Object(a["s"])(e.team_2),9,Vn)])],2)})),128)),c.scoreError?(Object(a["l"])(),Object(a["e"])("div",zn,"Something wrong in games results ")):Object(a["d"])("",!0)]),Object(a["f"])("div",Jn,[Object(a["f"])("button",{class:"button is-success",onClick:t[6]||(t[6]=function(){return r.saveResults&&r.saveResults.apply(r,arguments)}),disabled:c.saveDisabled},"Save results",8,Un)]),c.saveDisabled?(Object(a["l"])(),Object(a["e"])("div",Fn,"There was an unexpectable error, sorry for that, you can write developer about it (contact in footer), but this will not help you in this situation:)) ")):Object(a["d"])("",!0)])):0===r.tournament.games.length?(Object(a["l"])(),Object(a["e"])("div",Hn,"No games, yet")):r.tournament.games.length>=r.teamsCount?(Object(a["l"])(),Object(a["e"])("div",Kn,"Rounds quantity can't be more than teams")):(Object(a["l"])(),Object(a["e"])("div",Dn,[qn,Object(a["f"])("b",null,Object(a["s"])(1===n.activeRound?"first":n.activeRound),1),Wn]))]))])}var Qn=n("53ca"),Xn=(n("2532"),n("a434"),n("4de4"),{class:"is-flex is-justify-content-space-between is-align-content-center"}),Zn=Object(a["f"])("h2",null,"PlayOff",-1),ea={key:0,class:"column play-off-stage-wrapper"},ta={key:0,class:"has-text-centered is-size-4"},na=Object(a["g"])(" Tournament has finished. "),aa={class:"text-center"},sa={class:"text-right team-block"},ca=["for"],ra={class:"text-center score-block"},oa=["id","onUpdate:modelValue"],la={class:"lane-block is-size-7"},ua=Object(a["g"])(" Lane "),ia={class:"is-size-5 has-text-weight-bold"},ma=["id","onUpdate:modelValue"],ba={class:"team-block"},Oa=["for"],fa={key:0},da=Object(a["f"])("h3",{class:"text-center mt-5"},"Game for 3d place",-1),ja={class:"game-row"},pa={class:"text-right team-block"},ha={for:"team_1_3p"},ga={class:"text-center score-block"},va=Object(a["f"])("span",{class:"lane-block is-size-7"},[Object(a["g"])(" Lane "),Object(a["f"])("span",{class:"is-size-5 has-text-weight-bold"},"2")],-1),ya={class:"team-block"},ka={for:"opponent_3p"},_a={key:1,class:"has-text-centered has-text-danger mb-5"},Ta={class:"text-center mt-5"};function xa(e,t,n,s,c,r){var o=Object(a["r"])("Bracket");return Object(a["l"])(),Object(a["e"])("div",null,[Object(a["f"])("div",Xn,[Zn,Object(a["f"])("button",{class:"button is-info",onClick:t[0]||(t[0]=function(e){return c.showBracket=!0})},"Show play off bracket")]),r.playOffBracket?(Object(a["l"])(),Object(a["e"])("div",ea,[0===r.playOffStageCurrent?(Object(a["l"])(),Object(a["e"])("div",ta,[na,Object(a["f"])("a",{href:"#",onClick:t[1]||(t[1]=Object(a["A"])((function(t){return e.$emit("openResults")}),["prevent"]))},"See result")])):(Object(a["l"])(),Object(a["e"])(a["a"],{key:1},[Object(a["f"])("h2",aa,Object(a["s"])(1===r.playOffStageCurrent?"Final":"1/"+r.playOffStageCurrent+" final"),1),(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(r.playOffBracket.stages[r.currentPlayOffBracketIndex].teams,(function(e,n){return Object(a["l"])(),Object(a["e"])("div",{class:"game-row",key:n},[Object(a["f"])("span",sa,[Object(a["f"])("label",{for:"team_"+n},Object(a["s"])(e.team_1),9,ca)]),Object(a["f"])("span",ra,[Object(a["y"])(Object(a["f"])("input",{id:"team_"+n,"onUpdate:modelValue":function(t){return e.team_1_score=t},class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[2]||(t[2]=Object(a["z"])((function(){return r.saveResults&&r.saveResults.apply(r,arguments)}),["enter"]))},null,40,oa),[[a["v"],e.team_1_score]]),Object(a["f"])("span",la,[ua,Object(a["f"])("span",ia,Object(a["s"])(n+1),1)]),Object(a["y"])(Object(a["f"])("input",{id:"opponent_"+n,"onUpdate:modelValue":function(t){return e.team_2_score=t},class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[3]||(t[3]=Object(a["z"])((function(){return r.saveResults&&r.saveResults.apply(r,arguments)}),["enter"]))},null,40,ma),[[a["v"],e.team_2_score]])]),Object(a["f"])("span",ba,[Object(a["f"])("label",{for:"opponent_"+n},Object(a["s"])(e.team_2),9,Oa)])])})),128)),1===r.playOffStageCurrent&&r.tournament.playOff.length>1?(Object(a["l"])(),Object(a["e"])("div",fa,[da,Object(a["f"])("div",ja,[Object(a["f"])("span",pa,[Object(a["f"])("label",ha,Object(a["s"])(r.playOffBracket.thirdPlace.team_1),1)]),Object(a["f"])("span",ga,[Object(a["y"])(Object(a["f"])("input",{id:"team_1_3p","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.playOffBracket.thirdPlace.team_1_score=e}),class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[5]||(t[5]=Object(a["z"])((function(){return r.saveResults&&r.saveResults.apply(r,arguments)}),["enter"]))},null,544),[[a["v"],r.playOffBracket.thirdPlace.team_1_score]]),va,Object(a["y"])(Object(a["f"])("input",{id:"opponent_3p","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.playOffBracket.thirdPlace.team_2_score=e}),class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[7]||(t[7]=Object(a["z"])((function(){return r.saveResults&&r.saveResults.apply(r,arguments)}),["enter"]))},null,544),[[a["v"],r.playOffBracket.thirdPlace.team_2_score]])]),Object(a["f"])("span",ya,[Object(a["f"])("label",ka,Object(a["s"])(r.playOffBracket.thirdPlace.team_2),1)])])])):Object(a["d"])("",!0),c.scoreError?(Object(a["l"])(),Object(a["e"])("div",_a,"Something wrong in games results")):Object(a["d"])("",!0),Object(a["f"])("div",Ta,[Object(a["f"])("button",{class:"button is-success",onClick:t[8]||(t[8]=function(){return r.saveResults&&r.saveResults.apply(r,arguments)})},"Save results")])],64))])):Object(a["d"])("",!0),c.showBracket?(Object(a["l"])(),Object(a["c"])(o,{key:1,bracket:r.playOffBracket,onCloseModal:t[9]||(t[9]=function(e){return c.showBracket=!1})},null,8,["bracket"])):Object(a["d"])("",!0)])}var wa={class:"modal is-active"},Ra={class:"modal-content"},Ia={class:"columns play-off-wrapper"},Sa={class:"has-text-centered has-text-weight-bold mb-3"},Ca={class:"play-off-team"},Pa={key:0,class:"play-off-team-place"},Ma={class:"play-off-team-score"},Ba={class:"play-off-team"},Ea={key:0,class:"play-off-team-place"},Na={class:"play-off-team-score"},Aa=Object(a["f"])("div",{class:"has-text-centered has-text-weight-bold mb-3 third-place-title"},"Third Place",-1),Ga={class:"play-off-team"},La={class:"play-off-team-score"},$a={class:"play-off-team"},Va={class:"play-off-team-score"},za={key:0,style:{height:"80px"}};function Ja(e,t,n,s,c,r){return Object(a["l"])(),Object(a["e"])("div",wa,[Object(a["f"])("div",{class:"modal-background",onClick:t[0]||(t[0]=Object(a["A"])((function(t){return e.$emit("close-modal")}),["self"]))}),Object(a["f"])("div",Ra,[Object(a["f"])("div",Ia,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(n.bracket.stages,(function(e,t){return Object(a["l"])(),Object(a["e"])("div",{key:t,class:"column play-off-stage-wrapper"},[Object(a["f"])("div",Sa,Object(a["s"])(1===e.stageLabel?"Final":"1/"+e.stageLabel+" final"),1),Object(a["f"])("div",{class:"play-off-stage",ref_for:!0,ref:"stage"},[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e.teams,(function(n,s){return Object(a["l"])(),Object(a["e"])("div",{key:s,class:"play-off-game box"},[0!==t?(Object(a["l"])(),Object(a["e"])("div",{key:0,class:"play-off-game-vertical-line -top",style:Object(a["k"])({height:r.stageHeight/e.teamsCount/2+"px"})},null,4)):Object(a["d"])("",!0),0!==t?(Object(a["l"])(),Object(a["e"])("div",{key:1,class:"play-off-game-vertical-line -bottom",style:Object(a["k"])({height:r.stageHeight/e.teamsCount/2+"px"})},null,4)):Object(a["d"])("",!0),Object(a["f"])("div",Ca,[n.team_1_place?(Object(a["l"])(),Object(a["e"])("span",Pa,Object(a["s"])(n.team_1_place),1)):Object(a["d"])("",!0),Object(a["f"])("span",{class:Object(a["j"])(["play-off-team-title",{"has-text-grey-lighter":!n.team_1}])},Object(a["s"])(n.team_1||"Someone"),3),Object(a["f"])("span",Ma,Object(a["s"])(n.team_1_score),1)]),Object(a["f"])("div",Ba,[n.team_2_place?(Object(a["l"])(),Object(a["e"])("span",Ea,Object(a["s"])(n.team_2_place),1)):Object(a["d"])("",!0),Object(a["f"])("span",{class:Object(a["j"])(["play-off-team-title",{"has-text-grey-lighter":!n.team_2}])},Object(a["s"])(n.team_2||"Lucky guy"),3),Object(a["f"])("span",Na,Object(a["s"])(n.team_2_score),1)])])})),128)),1===e.stageLabel?(Object(a["l"])(),Object(a["e"])("div",{key:0,class:Object(a["j"])(["play-off-game box third-place",{"third-place-bottom":2===n.bracket.stages.length}])},[Aa,Object(a["f"])("div",Ga,[Object(a["f"])("span",{class:Object(a["j"])(["play-off-team-title",{"has-text-grey-lighter":!n.bracket.thirdPlace.team_1}])},Object(a["s"])(n.bracket.thirdPlace.team_1||"Someone"),3),Object(a["f"])("span",La,Object(a["s"])(n.bracket.thirdPlace.team_1_score),1)]),Object(a["f"])("div",$a,[Object(a["f"])("span",{class:Object(a["j"])(["play-off-team-title",{"has-text-grey-lighter":!n.bracket.thirdPlace.team_2}])},Object(a["s"])(n.bracket.thirdPlace.team_2||"Lucky guy"),3),Object(a["f"])("span",Va,Object(a["s"])(n.bracket.thirdPlace.team_2_score),1)])],2)):Object(a["d"])("",!0)],512)])})),128))]),2===n.bracket.stages.length?(Object(a["l"])(),Object(a["e"])("div",za)):Object(a["d"])("",!0)]),Object(a["f"])("button",{class:"modal-close is-large","aria-label":"close",onClick:t[1]||(t[1]=function(t){return e.$emit("close-modal")})})])}var Ua={name:"Bracket",props:["bracket"],emits:["close-modal"],data:function(){return{isMounted:!1}},mounted:function(){this.isMounted=!0},computed:{stageHeight:function(){return this.isMounted?this.$refs.stage[0].offsetHeight:100}}};const Fa=g()(Ua,[["render",Ja]]);var Ha=Fa,Ka={name:"PlayOff",emits:["openResults"],components:{Bracket:Ha},data:function(){return{scoreError:!1,showBracket:!1}},mounted:function(){this.tournament.playOffBracket||this.getPlayOffBracket()},computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]},playOffStageCurrent:function(){return"playOffStage"in this.tournament?this.tournament.playOffStage:this.tournament.playOff[0].stage},playOffBracket:function(){return this.tournament.playOffBracket?this.tournament.playOffBracket:null},stagesCount:function(){return Math.log(2*this.tournament.playOff.length)/Math.log(2)},currentPlayOffBracketIndex:function(){var e=this;return this.tournament.playOffBracket?this.tournament.playOffBracket.stages.findIndex((function(t){return t.stageLabel===e.playOffStageCurrent})):"0"}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["finishTournament","setPlayOffBracket","setPlayOffStage"])),{},{saveResults:function(){var e=this;this.scoreError=!1;var t=function(e){return null===e.team_1_score||e.team_1_score<0||e.team_1_score>13||null===e.team_2_score||e.team_2_score<0||e.team_2_score>13};if(this.playOffBracket.stages[this.currentPlayOffBracketIndex].teams.some((function(e){return t(e)})))return this.scoreError=!0,!1;if(2===this.playOffBracket.stages[this.currentPlayOffBracketIndex].teamsCount)this.setPlayOffStage(0),this.finishTournament();else{var n=JSON.parse(JSON.stringify(this.playOffBracket));n.stages[this.currentPlayOffBracketIndex].teams.forEach((function(t,a){a%2===0?(n.stages[e.currentPlayOffBracketIndex+1].teams[a/2].team_1=t.team_1_score>t.team_2_score?t.team_1:t.team_2,4===n.stages[e.currentPlayOffBracketIndex].teamsCount&&(n.thirdPlace.team_1=t.team_1_score<t.team_2_score?t.team_1:t.team_2)):(n.stages[e.currentPlayOffBracketIndex+1].teams[(a-1)/2].team_2=t.team_1_score>t.team_2_score?t.team_1:t.team_2,4===n.stages[e.currentPlayOffBracketIndex].teamsCount&&(n.thirdPlace.team_2=t.team_1_score<t.team_2_score?t.team_1:t.team_2))})),this.setPlayOffBracket(n),this.setPlayOffStage(this.playOffStageCurrent/2)}},getPlayOffBracket:function(){for(var e={stages:[],thirdPlace:{}},t=this.stagesCount;t>0;t--){var n=Math.pow(2,t),a=n/2,s=[];if(t===this.stagesCount)s=this.tournament.playOff;else for(var c=1;c<=a;c++){var r={id:t+1,stage:a,team_1:null,team_1_score:null,team_2:null,team_2_score:null};s.push(r)}var o={teamsCount:n,stageLabel:a,teams:s};e.stages.push(o)}this.setPlayOffBracket(e)}})};const Da=g()(Ka,[["render",xa]]);var qa=Da,Wa={name:"Games",components:{PlayOff:qa},props:["activeRound","teamsInGroup"],data:function(){return{saveDisabled:!1,scoreError:!1,compactView:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]},teamsCount:function(){return"swiss"===this.tournament.system?this.tournament.teams.length-1:this.teamsInGroup%2!==0?this.teamsInGroup:this.teamsInGroup-1}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["startRound","endRound","addRoundToGames","restoreRound","showMessage"])),{},{getRandomWithOneExclusion:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;while(null===n||n===t)n=Math.round(Math.random()*(e-1));return n},generateCompetitors:function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(1!==this.activeRound||this.tournament.useRating){t=a?e.length-1:0;var s=1===this.activeRound?e.length/2:1,c=a?e.length-2:s;while(e[t].opponents.includes(e[c].title))if(a?c--:c++,!e[c])return c=-1,{teamIndex:t,opponentIndex:c};return{teamIndex:t,opponentIndex:c}}return t=this.getRandomWithOneExclusion(e.length),n=this.getRandomWithOneExclusion(e.length,t),{teamIndex:t,opponentIndex:n}},drawRound:function(){var e,t=this,n=JSON.parse(JSON.stringify(this.tournament.teams)),a=[];if("swiss"===this.tournament.system){var s,c=0,r=Math.round(n.length/2-1),o=[],l=n.length%2!==0;if(l){var u=this.tournament.useRating||1!==this.activeRound?n.length-1:this.getRandomWithOneExclusion(n.length),i=n[u];if(i.opponents.includes("Technical"))for(var m=2;m<n.length;m++)if(u=n.length-m,i=n[u],!i.opponents.includes("Technical"))break;e={team_1:i.title,team_1_score:13,team_2:"Technical",team_2_score:7},a.push(e),n.splice(u,1)}var b=function(){s=t.generateCompetitors(n,c>0);while(-1===s.opponentIndex&&c<r)c++,a.splice(a.length-1,1),n.unshift(o[o.length-1]),n.unshift(o[o.length-2]),o.splice(o.length-2,2),s=t.generateCompetitors(n,!0);if(c===r&&-1===s.opponentIndex)return t.saveDisabled=!0,t.showMessage({title:"Can't draw this round",text:"Too mush games for swiss with this number of teams. Sorry, shit happens",type:"error"}),{v:void 0};e={team_1:n[s.teamIndex].title,team_1_score:null,team_2:n[Math.floor(s.opponentIndex)].title,team_2_score:null},o.push(n[s.teamIndex],n[Math.floor(s.opponentIndex)]);var l=[n[s.teamIndex].title,n[Math.floor(s.opponentIndex)].title];n=n.filter((function(e){return!l.includes(e.title)})),e?a.push(e):console.log("Game is empty")};while(n.length>0){var O=b();if("object"===Object(Qn["a"])(O))return O.v}this.addRoundToGames(this.shuffleArray(a)),this.startRound()}else"groups"===this.tournament.system&&(1===this.activeRound&&this.createGroups(),this.tournament.groups&&(this.tournament.groups.forEach((function(n,s){for(var c=n.length%2!==0,r=0;r<t.tournament.groupsScheme.top.length;r++)(!c||c&&t.tournament.groupsScheme.top[r]!==n.length&&t.tournament.groupsScheme.bottom[r]!==n.length)&&(e={group:s,team_1:n[t.tournament.groupsScheme.top[r]].title,team_1_score:null,team_2:n[t.tournament.groupsScheme.bottom[r]].title,team_2_score:null},a.push(e))})),this.tournament.groupsScheme.bottom.push(this.tournament.groupsScheme.top[this.tournament.groupsScheme.top.length-1]),this.tournament.groupsScheme.top.unshift(this.tournament.groupsScheme.bottom[0]),this.tournament.groupsScheme.top.splice(this.tournament.groupsScheme.top.length-1,1),this.tournament.groupsScheme.top.splice(1,1),this.tournament.groupsScheme.top.unshift(0),this.tournament.groupsScheme.bottom.splice(0,1),this.addRoundToGames(this.shuffleArray(a)),this.startRound()))},createGroups:function(){var e=this;if(this.teamsInGroup<3)return this.showMessage({title:"Can't draw",text:"Choose correct number of teams in group",type:"error"}),!1;for(var t=Math.round(this.tournament.teams.length/this.teamsInGroup),n=[],a=1;a<=t;a++)n.push([]);var s=JSON.parse(JSON.stringify(this.tournament.teams));while(s.length>=1)for(var c=0;c<s.length;c++)for(var r=function(t){var a=e.tournament.useRating?0:e.getRandomWithOneExclusion(s.length);if(-1!==a&&s.length>=1){var c=e.tournament.teams.findIndex((function(e){return e.title===s[a].title}));n[t].push(e.tournament.teams[c]),s.splice(a,1)}},o=0;o<t;o++)r(o);this.tournament.groups=n;var l={top:[],bottom:[]},u=[];this.tournament.groups[0].forEach((function(e,t){u.push(t)})),u.length%2!==0&&u.push(u.length);for(var i=0;i<u.length/2;i++)l.top.push(i);for(var m=u.length-1;m>=u.length/2;m--)l.bottom.push(m);this.tournament.groupsScheme=l},saveResults:function(){this.scoreError=!1;var e=function(e){return e.team_1_score===e.team_2_score||null===e.team_1_score||e.team_1_score<0||e.team_1_score>13||null===e.team_2_score||e.team_2_score<0||e.team_2_score>13};if(this.tournament.games[this.activeRound-1].some((function(t){return e(t)})))return this.scoreError=!0,!1;this.saveResultsForRound(this.activeRound-1),this.endRound(),this.showMessage({title:"Success",text:"Your results saved"})},restoreRoundGames:function(){this.restoreRound(),this.tournament.teams.forEach((function(e){e.opponents=[],e.pointsPlus=0,e.pointsMinus=0,e.wins=0}));for(var e=0;e<this.activeRound-2;e++)this.saveResultsForRound(e)},saveResultsForRound:function(e){var t=this;this.tournament.games[e].forEach((function(e){var n=t.tournament.teams.findIndex((function(t){return t.title===e.team_1}));-1!=n&&(t.tournament.teams[n].opponents.push(e.team_2),t.tournament.teams[n].pointsPlus+=e.team_1_score,t.tournament.teams[n].pointsMinus+=e.team_2_score);var a=t.tournament.teams.findIndex((function(t){return t.title===e.team_2}));-1!=a&&(t.tournament.teams[a].opponents.push(e.team_1),t.tournament.teams[a].pointsPlus+=e.team_2_score,t.tournament.teams[a].pointsMinus+=e.team_1_score),e.team_1_score>e.team_2_score?-1!=n&&t.tournament.teams[n].wins++:-1!=!a&&"Technical"!==e.team_2&&t.tournament.teams[a].wins++}))},shuffleArray:function(e){var t,n=e.length;while(0!=n){t=Math.floor(Math.random()*n),n--;var a=[e[t],e[n]];e[n]=a[0],e[t]=a[1]}if("swiss"===this.tournament.system&&this.tournament.teams.length%2!==0){var s=e.findIndex((function(e){return"Technical"===e.team_2})),c=e[s];e.splice(s,1),e.push(c)}return e}})};const Ya=g()(Wa,[["render",Yn]]);var Qa=Ya,Xa=(n("b64b"),{class:"content tabs-content"}),Za={key:0},es={key:0,class:"has-text-centered"},ts={key:0},ns={key:1},as=Object(a["g"])(" rounds"),ss={class:"table-container"},cs={key:0,class:"table is-striped mb-5"},rs={key:1},os={class:"has-text-centered"},ls={class:"table-container"},us={class:"table is-striped"},is={key:0},ms=Object(a["f"])("h4",{class:"has-text-centered"},"Game for 3d Place",-1),bs={class:"table-container"},Os={class:"table is-striped"},fs={key:1,class:"mb-5 mt-5"};function ds(e,t,n,s,c,r){return Object(a["l"])(),Object(a["e"])("div",Xa,[r.tournament.games.length||r.tournament.playOffBracket?(Object(a["l"])(),Object(a["e"])("div",Za,[r.tournament.games.length?(Object(a["l"])(),Object(a["e"])("h3",es,["swiss"===r.tournament.system?(Object(a["l"])(),Object(a["e"])("span",ts,"Swiss")):(Object(a["l"])(),Object(a["e"])("span",ns,"Group")),as])):Object(a["d"])("",!0),Object(a["f"])("div",ss,[r.tournament.games.length?(Object(a["l"])(),Object(a["e"])("table",cs,[Object(a["f"])("tbody",null,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(r.tournament.games,(function(e,t){return Object(a["l"])(),Object(a["e"])(a["a"],{key:t},[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e,(function(e,n){return Object(a["l"])(),Object(a["e"])("tr",{key:n},[Object(a["f"])("td",null,"R"+Object(a["s"])(t+1),1),Object(a["f"])("td",null,Object(a["s"])(e.team_1),1),Object(a["f"])("td",null,Object(a["s"])(e.team_1_score),1),Object(a["f"])("td",null,Object(a["s"])(e.team_2_score),1),Object(a["f"])("td",null,Object(a["s"])(e.team_2),1)])})),128))],64)})),128))])])):Object(a["d"])("",!0)]),r.tournament.playOffBracket?(Object(a["l"])(),Object(a["e"])("div",rs,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(r.tournament.playOffBracket.stages,(function(e,t){return Object(a["l"])(),Object(a["e"])("div",{key:t,class:"mb-5"},[Object(a["f"])("h3",os,Object(a["s"])(1===e.stageLabel?"Final":"1/"+e.stageLabel+" final"),1),Object(a["f"])("div",ls,[Object(a["f"])("table",us,[Object(a["f"])("tbody",null,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e.teams,(function(e,t){return Object(a["l"])(),Object(a["e"])("tr",{key:t},[Object(a["f"])("td",null,Object(a["s"])(e.team_1),1),Object(a["f"])("td",null,Object(a["s"])(e.team_1_score),1),Object(a["f"])("td",null,Object(a["s"])(e.team_2_score),1),Object(a["f"])("td",null,Object(a["s"])(e.team_2),1)])})),128))])])])])})),128)),r.tournament.playOffBracket.thirdPlace&&0!==Object.keys(r.tournament.playOffBracket.thirdPlace).length?(Object(a["l"])(),Object(a["e"])("div",is,[ms,Object(a["f"])("div",bs,[Object(a["f"])("table",Os,[Object(a["f"])("tbody",null,[Object(a["f"])("tr",null,[Object(a["f"])("td",null,Object(a["s"])(r.tournament.playOffBracket.thirdPlace.team_1),1),Object(a["f"])("td",null,Object(a["s"])(r.tournament.playOffBracket.thirdPlace.team_1_score),1),Object(a["f"])("td",null,Object(a["s"])(r.tournament.playOffBracket.thirdPlace.team_2_score),1),Object(a["f"])("td",null,Object(a["s"])(r.tournament.playOffBracket.thirdPlace.team_2),1)])])])])])):Object(a["d"])("",!0)])):Object(a["d"])("",!0)])):(Object(a["l"])(),Object(a["e"])("div",fs," No games, yet "))])}var js={name:"Results",computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]}})};const ps=g()(js,[["render",ds]]);var hs=ps,gs=Object(a["f"])("h2",null,"Current list",-1),vs={key:0,class:"mb-5"},ys={key:0,class:"mt-5 text-center"},ks={class:"table"},_s={style:{width:"30px"}},Ts={key:0,class:"is-size-7"},xs=Object(a["g"])(" ("),ws={key:0},Rs=Object(a["g"])(") "),Is={key:0,class:"td-100"},Ss={key:1,id:"table-list",class:"table"},Cs={key:0,class:"is-size-7"},Ps=Object(a["g"])(" ("),Ms={key:0},Bs=Object(a["g"])(") "),Es={key:0,class:"td-100"},Ns={key:1,class:"td-50"},As=["onClick"];function Gs(e,t,n,s,c,r){return Object(a["l"])(),Object(a["e"])(a["a"],null,[gs,"groups"===r.tournament.system&&(n.activeRound>1||r.tournament.roundIsActive)?(Object(a["l"])(),Object(a["e"])("div",vs,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(r.tournament.groups,(function(e,t){return Object(a["l"])(),Object(a["e"])("div",{key:t},[r.tournament.groups.length>1?(Object(a["l"])(),Object(a["e"])("h4",ys,"Group "+Object(a["s"])(r.groupsNames[t]),1)):Object(a["d"])("",!0),Object(a["f"])("table",ks,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e,(function(e,t){return Object(a["l"])(),Object(a["e"])("tr",{key:e.title},[Object(a["f"])("td",_s,Object(a["s"])(t+1)+".",1),Object(a["f"])("td",null,[Object(a["g"])(Object(a["s"])(e.title)+" ",1),e.players&&e.players.length>1?(Object(a["l"])(),Object(a["e"])("div",Ts,[xs,(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e.players,(function(t,n){return Object(a["l"])(),Object(a["e"])("span",{class:"has-text-dark",key:n},[Object(a["g"])(Object(a["s"])(t.name)+" "+Object(a["s"])(t.surname),1),n<e.players.length-1?(Object(a["l"])(),Object(a["e"])("span",ws,", ")):Object(a["d"])("",!0)])})),128)),Rs])):Object(a["d"])("",!0)]),r.tournament.useRating?(Object(a["l"])(),Object(a["e"])("td",Is,Object(a["s"])(e.rating),1)):Object(a["d"])("",!0)])})),128))])])})),128))])):(Object(a["l"])(),Object(a["e"])("table",Ss,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(r.tournament.teams,(function(t){return Object(a["l"])(),Object(a["e"])("tr",{key:t.title},[Object(a["f"])("td",null,[Object(a["g"])(Object(a["s"])(t.title)+" ",1),t.players&&t.players.length>1?(Object(a["l"])(),Object(a["e"])("div",Cs,[Ps,(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(t.players,(function(e,n){return Object(a["l"])(),Object(a["e"])("span",{class:"has-text-dark",key:n},[Object(a["g"])(Object(a["s"])(e.name)+" "+Object(a["s"])(e.surname),1),n<t.players.length-1?(Object(a["l"])(),Object(a["e"])("span",Ms,", ")):Object(a["d"])("",!0)])})),128)),Bs])):Object(a["d"])("",!0)]),r.tournament.useRating?(Object(a["l"])(),Object(a["e"])("td",Es,Object(a["s"])(t.rating),1)):Object(a["d"])("",!0),r.tournament.games.length?Object(a["d"])("",!0):(Object(a["l"])(),Object(a["e"])("td",Ns,[Object(a["f"])("span",{class:"delete",onClick:function(n){return e.removeTeam(t.title)}},null,8,As)]))])})),128))]))],64)}var Ls={name:"TeamsList",props:["activeRound"],computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]},groupsNames:function(){return $}}),methods:Object(b["a"])({},Object(j["b"])(["removeTeam"]))};const $s=g()(Ls,[["render",Gs]]);var Vs=$s,zs=Object(a["f"])("div",{class:"is-size-4 mb-3"},"Please, enter tournament name",-1),Js={class:"field"},Us={class:"control"},Fs={key:0,class:"field has-text-danger"},Hs={class:"buttons is-centered"},Ks={class:"control"},Ds={class:"control"};function qs(e,t,n,s,c,r){var o=Object(a["r"])("Modal");return Object(a["l"])(),Object(a["c"])(o,{onCloseModal:t[4]||(t[4]=function(t){return e.$emit("close-modal")})},{default:Object(a["x"])((function(){return[zs,Object(a["f"])("div",Js,[Object(a["f"])("div",Us,[Object(a["y"])(Object(a["f"])("input",{class:Object(a["j"])(["input",{"is-danger":c.hasError}]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.name=e}),type:"text",placeholder:"Tournament name",onKeyup:t[1]||(t[1]=Object(a["z"])((function(){return r.saveTournament&&r.saveTournament.apply(r,arguments)}),["enter"]))},null,34),[[a["v"],c.name]])])]),c.hasError?(Object(a["l"])(),Object(a["e"])("div",Fs," It seems you already have such tournament name ")):Object(a["d"])("",!0),Object(a["f"])("div",Hs,[Object(a["f"])("div",Ks,[Object(a["f"])("button",{class:"button",onClick:t[2]||(t[2]=function(t){return e.$emit("close-modal")})},"Cancel")]),Object(a["f"])("div",Ds,[Object(a["f"])("button",{class:"button is-success",onClick:t[3]||(t[3]=function(){return r.saveTournament&&r.saveTournament.apply(r,arguments)})},"Save")])])]})),_:1})}var Ws={name:"SaveTournament",components:{Modal:at},props:["rankingTeams"],emits:["close-modal"],data:function(){return{name:"",hasError:!1}},created:function(){this.name=this.tournament.name},computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex","savedTournaments"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]},tournamentsNames:function(){if(this.savedTournaments.length>0){var e=[];return this.savedTournaments.forEach((function(t){e.push(t.name)})),e}return!1},tournamentRanking:function(){return z(this.tournament,this.rankingTeams)}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["addToSaved","showMessage"])),{},{saveTournament:function(){if(this.hasError=!1,!this.tournament.name||this.tournamentsNames&&this.tournamentsNames.includes(this.name))this.hasError=!0;else{var e={name:this.name,system:this.tournament.system,tournamentIsFinished:this.tournament.tournamentIsFinished,games:this.tournament.games,playOff:this.tournament.playOffBracket?this.tournament.playOffBracket:null,ranking:this.tournamentRanking};this.addToSaved(e),this.$emit("close-modal"),this.showMessage({title:"Saved",text:"You can see your saved tournaments in the menu"})}}})};const Ys=g()(Ws,[["render",qs]]);var Qs=Ys,Xs={class:"text-center mb-4 is-size-4"},Zs=Object(a["g"])("Are you sure you want to delete "),ec=Object(a["f"])("br",null,null,-1),tc=Object(a["g"])("?"),nc={class:"buttons is-centered"},ac={class:"control"},sc={class:"control"};function cc(e,t,n,s,c,r){var o=Object(a["r"])("Modal");return Object(a["l"])(),Object(a["c"])(o,{onCloseModal:t[2]||(t[2]=function(t){return e.$emit("close-modal")})},{default:Object(a["x"])((function(){return[Object(a["f"])("p",Xs,[Zs,ec,Object(a["f"])("strong",null,Object(a["s"])(r.tournament.name),1),tc]),Object(a["f"])("div",nc,[Object(a["f"])("div",ac,[Object(a["f"])("button",{class:"button",onClick:t[0]||(t[0]=function(t){return e.$emit("close-modal")})},"Cancel")]),Object(a["f"])("div",sc,[Object(a["f"])("button",{class:"button is-danger",onClick:t[1]||(t[1]=function(){return r.removeCurrentTournament&&r.removeCurrentTournament.apply(r,arguments)})},"Remove")])])]})),_:1})}var rc={name:"ConfirmRemoveModal",components:{Modal:at},computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["removeTournament"])),{},{removeCurrentTournament:function(){this.removeTournament(),this.$emit("close-modal")}})};const oc=g()(rc,[["render",cc]]);var lc=oc,uc=Object(a["f"])("div",{class:"is-size-4 mb-3"},"Please, enter tournament name",-1),ic={class:"field"},mc={class:"control"},bc={class:"buttons is-centered"},Oc={class:"control"},fc={class:"control"};function dc(e,t,n,s,c,r){var o=Object(a["r"])("Modal");return Object(a["l"])(),Object(a["c"])(o,{onCloseModal:t[4]||(t[4]=function(t){return e.$emit("close-modal")})},{default:Object(a["x"])((function(){return[uc,Object(a["f"])("div",ic,[Object(a["f"])("div",mc,[Object(a["y"])(Object(a["f"])("input",{class:Object(a["j"])(["input",{"is-danger":c.hasError}]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.name=e}),type:"text",placeholder:"Tournament name",onKeyup:t[1]||(t[1]=Object(a["z"])((function(){return r.changeCurrentTournamentName&&r.changeCurrentTournamentName.apply(r,arguments)}),["enter"]))},null,34),[[a["v"],c.name]])])]),Object(a["f"])("div",bc,[Object(a["f"])("div",Oc,[Object(a["f"])("button",{class:"button",onClick:t[2]||(t[2]=function(t){return e.$emit("close-modal")})},"Cancel")]),Object(a["f"])("div",fc,[Object(a["f"])("button",{class:"button is-success",onClick:t[3]||(t[3]=function(){return r.changeCurrentTournamentName&&r.changeCurrentTournamentName.apply(r,arguments)})},"Change")])])]})),_:1})}var jc={name:"ChangeTournamentName",components:{Modal:at},data:function(){return{name:"",hasError:!1}},created:function(){this.name=this.tournament.name},computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["changeTournamentName"])),{},{changeCurrentTournamentName:function(){this.hasError=!1,""!==this.name?(this.changeTournamentName(this.name),this.$emit("close-modal")):this.hasError=!0}})};const pc=g()(jc,[["render",dc]]);var hc=pc,gc={name:"Tournament",data:function(){return{tabs:["Teams","Games","Results","Ranking"],activeTab:"Teams",showSaveTournament:!1,teamToPlayOff:null,removeConfirm:!1,changeNameModal:!1,playB:!1,teamsInGroup:null}},created:function(){this.teamsInGroup=this.tournament.groups?this.tournament.groups.length:4},methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["startRound","removeTournament","setPlayOff","addBTournament","finishTournament"])),{},{saveTournament:function(e){this.savedTournaments.push(e),this.showSaveTournament=!1,localStorage.setItem("tournamentsList",JSON.stringify(this.savedTournaments))},startPlayOff:function(){var e,t=this;if("swiss"===this.tournament.system)e=this.rankingTeams.slice(0,this.teamToPlayOff);else if(this.tournament.groups.length>1){e=[];for(var n=function(n){t.rankingTeams.forEach((function(t){return e.push(t[n])}))},a=0;a<this.teamToPlayOff/2;a++)n(a)}else e=this.rankingTeams[0].slice(0,this.teamToPlayOff);for(var s=[],c=e.length/2,r=0;r<e.length/2;r++){var o={};o=r%2===0?{id:r+1,stage:c,team_1:e[r].title,team_1_place:r+1,team_1_score:null,team_2:e[e.length-1-r].title,team_2_place:e.length-r,team_2_score:null}:{id:r+1,stage:c,team_1:e[e.length/2-r].title,team_1_place:e.length/2+1-r,team_1_score:null,team_2:e[e.length/2-1+r].title,team_2_place:e.length/2+r,team_2_score:null},s.push(o)}if(this.setPlayOff(s),this.activeTab="Games",this.playB){var l=this.rankingTeams.slice(this.teamToPlayOff,this.rankingTeams.length);l.forEach((function(e){e.wins=0,e.buhgolts=0,e.smallBuhgolts=0,e.pointsPlus=0,e.pointsMinus=0,e.opponents=[]})),this.addBTournament(l)}},sortTeams:function(e){this.countBuhgolts(e,"buhgolts"),this.countBuhgolts(e,"smallBuhgolts");var t=e.sort((function(e,t){return t.wins-e.wins||t.buhgolts-e.buhgolts||t.smallBuhgolts-e.smallBuhgolts||t.pointsPlus-t.pointsMinus-(e.pointsPlus-e.pointsMinus)||t.rating-e.rating}));return t},countBuhgolts:function(e,t){var n="buhgolts"===t?"wins":"buhgolts";return e.forEach((function(a){var s=0;a.opponents.length&&a.opponents.forEach((function(t){var a=e.findIndex((function(e){return e.title===t}));-1!==a&&(s+=e[a][n])})),a[t]=s})),e}}),computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]},canSaveTournament:function(){return this.tournament.tournamentIsFinished&&this.tournament.games&&this.tournament.games.length>1||this.tournament.playoff&&null!==this.tournament.playoff[this.tournament.playoff.length-1].teams[0].team_1_score},rankingTeams:function(){var e=this;if("groups"===this.tournament.system&&this.activeRound>1){var t=[];return this.tournament.groups.forEach((function(n){n.forEach((function(t){var a=0;t.opponents.forEach((function(s){var c=n.findIndex((function(e){return e.title===s}));t.wins===n[c].wins&&(a+=V(e.tournament.games,t.title,n[c].title,!0))})),t.directPoints=a}));var a=n.slice().sort((function(e,t){return t.wins-e.wins||t.directPoints-e.directPoints||t.pointsPlus-t.pointsMinus-(e.pointsPlus-e.pointsMinus)}));t.push(a)})),t}return this.sortTeams(this.tournament.teams)},activeRound:function(){return this.tournament.games.length?this.tournament.roundIsActive?this.tournament.games.length:this.tournament.games.length+1:1}}),components:{ChangeTournamentName:hc,ConfirmRemoveModal:lc,TeamsList:Vs,AddTeam:pn,Games:Qa,Results:hs,Ranking:Ye,SaveTournament:Qs}};const vc=g()(gc,[["render",Yt]]);var yc=vc,kc=n("8e99"),_c=n.n(kc),Tc=n("4ffd"),xc=n.n(Tc),wc=_c.a,Rc=xc.a,Ic={class:"navbar",role:"navigation","aria-label":"main navigation"},Sc={class:"navbar-brand"},Cc=Object(a["f"])("a",{class:"navbar-item",href:"/"},[Object(a["f"])("picture",null,[Object(a["f"])("source",{srcset:wc,type:"image/webp"}),Object(a["f"])("source",{srcset:Rc,type:"image/jpeg"}),Object(a["f"])("img",{src:xc.a,alt:"logo"})])],-1),Pc=Object(a["f"])("span",{"aria-hidden":"true"},null,-1),Mc=Object(a["f"])("span",{"aria-hidden":"true"},null,-1),Bc=Object(a["f"])("span",{"aria-hidden":"true"},null,-1),Ec=[Pc,Mc,Bc],Nc={id:"navbarBasicExample",class:"navbar-menu"},Ac={class:"navbar-start"},Gc={key:0,class:"navbar-item has-dropdown is-hoverable"},Lc=Object(a["f"])("a",{class:"navbar-link"}," Active tournaments ",-1),$c={key:0,class:"navbar-dropdown"},Vc=["onClick"],zc=Object(a["f"])("div",{class:"navbar-end"},[Object(a["f"])("div",{class:"navbar-item"},[Object(a["f"])("div",{class:"buttons"},[Object(a["f"])("a",{class:"button is-light"}," Log in ")])])],-1);function Jc(e,t,n,s,c,r){return Object(a["l"])(),Object(a["e"])("nav",Ic,[Object(a["f"])("div",Sc,[Cc,Object(a["f"])("a",{role:"button",class:"navbar-burger",onClick:t[0]||(t[0]=function(t){return e.$emit("open-menu")}),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},Ec)]),Object(a["f"])("div",Nc,[Object(a["f"])("div",Ac,[Object(a["f"])("a",{class:"navbar-item",onClick:t[1]||(t[1]=function(t){return e.$emit("open-menu")})}," Menu "),e.tournaments.length>1?(Object(a["l"])(),Object(a["e"])("div",Gc,[Lc,e.tournaments.length>1?(Object(a["l"])(),Object(a["e"])("div",$c,[(Object(a["l"])(!0),Object(a["e"])(a["a"],null,Object(a["p"])(e.tournaments,(function(t,n){return Object(a["l"])(),Object(a["e"])("a",{class:Object(a["j"])(["navbar-item",{"is-active":n===e.currentTournamentIndex}]),key:n,onClick:Object(a["A"])((function(t){return e.setActiveTournament(n)}),["prevent"])},Object(a["s"])(t.name),11,Vc)})),128))])):Object(a["d"])("",!0)])):Object(a["d"])("",!0)]),zc])])}var Uc={name:"Navbar",computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]}}),methods:Object(b["a"])({},Object(j["b"])(["setActiveTournament"]))};const Fc=g()(Uc,[["render",Jc]]);var Hc=Fc,Kc={class:"content"},Dc=Object(a["f"])("h3",null,"Some notes",-1),qc=Object(a["f"])("ol",null,[Object(a["f"])("li",null,"To change tournament name just click on its default name."),Object(a["f"])("li",null,"In swiss system you can modify previous round result if you wrote it not correct. This possibility available when you already draw next round.")],-1),Wc={class:"buttons is-centered"},Yc={class:"control"};function Qc(e,t,n,s,c,r){var o=Object(a["r"])("Modal");return Object(a["l"])(),Object(a["c"])(o,{onCloseModal:t[1]||(t[1]=function(t){return e.$emit("close-modal")})},{default:Object(a["x"])((function(){return[Object(a["f"])("div",Kc,[Dc,qc,Object(a["f"])("div",Wc,[Object(a["f"])("div",Yc,[Object(a["f"])("button",{class:"button",onClick:t[0]||(t[0]=function(t){return e.$emit("close-modal")})},"Close")])])])]})),_:1})}var Xc={name:"Help",components:{Modal:at},computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["removeTournament"])),{},{removeCurrentTournament:function(){this.removeTournament(),this.$emit("close-modal")}})};const Zc=g()(Xc,[["render",Qc]]);var er=Zc,tr={name:"App",data:function(){return{showSaveTournament:!1,menuOpen:!1,showSavedTournament:!1,helpOpen:!1,savedTournamentsActive:!1}},mounted:function(){this.setActiveTournament(0)},methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["setActiveTournament","addTournament"])),{},{openSavedTournament:function(e){this.savedTournamentsActive=e,this.menuOpen=!1,this.openTournamentModal()},openTournamentModal:function(){this.showSavedTournament=!0,document.querySelector("html").classList.add("is-clipped")},closeTournamentModal:function(){this.showSavedTournament=!1,document.querySelector("html").classList.remove("is-clipped")}}),computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["message","tournaments","currentTournamentIndex","savedTournaments"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]},canSaveTournament:function(){return this.games&&this.games.length>0||this.playoff&&null!==this.playoff[this.playoff.length-1].teams[0].team_1_score}}),components:{Help:er,Navbar:Hc,Tournament:yc,SavedTournamentModal:rt,Menu:F,Message:y}};n("3815"),n("d73d"),n("4b25");const nr=g()(tr,[["render",m]]);var ar=nr,sr={name:"Tournament A",games:[],gamesCopy:[],teams:[],system:"swiss",roundIsActive:!1,useRating:!1,isPlayOff:!1,playoff:!1,tournamentIsFinished:!1},cr=Object(j["a"])({state:function(){return{tournaments:localStorage.getItem("tournaments")?JSON.parse(localStorage.getItem("tournaments")):[JSON.parse(JSON.stringify(sr))],message:{show:!1,type:"success",title:"Message",text:""},savedTournaments:localStorage.getItem("tournamentsList")?JSON.parse(localStorage.getItem("tournamentsList")):[],currentTournamentIndex:null}},mutations:{setActiveTournament:function(e,t){e.currentTournamentIndex=t},changeTournamentName:function(e,t){e.tournaments[e.currentTournamentIndex].name=t},removeTournament:function(e){e.tournaments.length>1?(e.tournaments.splice(e.currentTournamentIndex,1),e.currentTournamentIndex=0):e.tournaments[e.currentTournamentIndex]=JSON.parse(JSON.stringify(sr))},addTeamToStore:function(e,t){e.tournaments[e.currentTournamentIndex].teams.push(t)},removeTeam:function(e,t){e.tournaments[e.currentTournamentIndex].teams=e.tournaments[e.currentTournamentIndex].teams.filter((function(e){return e.title!==t}))},changeDrawType:function(e,t){e.tournaments[e.currentTournamentIndex].useRating=t},startRound:function(e){e.tournaments[e.currentTournamentIndex].roundIsActive=!0},endRound:function(e){e.tournaments[e.currentTournamentIndex].roundIsActive=!1},addRoundToGames:function(e,t){e.tournaments[e.currentTournamentIndex].games.push(t),e.tournaments[e.currentTournamentIndex].gamesCopy.push(t),e.tournaments[e.currentTournamentIndex].roundIsActive=!0},restoreRound:function(e){e.tournaments[e.currentTournamentIndex].games.pop(),e.tournaments[e.currentTournamentIndex].teams.forEach((function(e){return e.opponents.pop()}))},setPlayOff:function(e,t){e.tournaments[e.currentTournamentIndex].playOff=t},setPlayOffBracket:function(e,t){e.tournaments[e.currentTournamentIndex].playOffBracket=t},setPlayOffStage:function(e,t){e.tournaments[e.currentTournamentIndex].playOffStage=t},finishTournament:function(e){e.tournaments[e.currentTournamentIndex].tournamentIsFinished=!0},showMessage:function(e,t){var n=t.title,a=t.text,s=t.type,c=void 0===s?"success":s;e.message={show:!0,title:n,text:a,type:c}},hideMessage:function(e){e.message.show=!1},addTournament:function(e){e.tournaments.push(JSON.parse(JSON.stringify(sr))),e.currentTournamentIndex=e.tournaments.length-1,cr.commit("changeTournamentName","Tournament ".concat($[e.tournaments.length-1]))},addToSaved:function(e,t){e.savedTournaments.push(t)},removeSavedTournament:function(e,t){e.savedTournaments=e.savedTournaments.filter((function(e){return e.name!==t}))},addBTournament:function(e,t){cr.commit("addTournament"),e.tournaments[e.currentTournamentIndex].teams=t}}});cr.subscribe((function(e,t){localStorage.setItem("tournaments",JSON.stringify(t.tournaments)),localStorage.setItem("tournamentsList",JSON.stringify(t.savedTournaments))})),Object(a["b"])(ar).use(cr).mount("#app")},"7fda":function(e,t,n){"use strict";n("a8c3")},"8e99":function(e,t,n){e.exports=n.p+"img/logo.70b28108.webp"},a2bf:function(e,t,n){},a8c3:function(e,t,n){},d1b4:function(e,t,n){e.exports=n.p+"img/bg.811ee66e.jpg"},d73d:function(e,t,n){"use strict";n("1c50")}});
//# sourceMappingURL=app.982b19d2.js.map