(function(e){function t(t){for(var s,i,o=t[0],l=t[1],r=t[2],m=0,b=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&b.push(a[i][0]),a[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(b.length)b.shift()();return c.push.apply(c,r||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],s=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(s=!1)}s&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},a={app:0},c=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/petanque-swiss-vue/dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var r=0;r<o.length;r++)t(o[r]);var u=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1542:function(e,t,n){"use strict";n("d529")},"1c50":function(e,t,n){},3815:function(e,t,n){"use strict";n("51f9")},"51f9":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("7a23"),a=n("d1b4"),c=n.n(a),i={class:"container"},o=Object(s["f"])("h1",{class:"title is-1 text-center"},[Object(s["g"])("Petanque - swiss system "),Object(s["f"])("sup",null,"Version Alpha")],-1),l={class:"columns"},r={class:"column"},u={class:"tabs"},m=["onClick"],b={href:"#"},d={key:0,class:"content tabs-content"},f={key:1},O={key:2,id:"table-list",class:"table"},g={key:0,class:"td-100"},j={key:1,class:"td-50"},h=["onClick"],p={key:3,class:"mb-5 mt-5"},v={class:"field is-grouped"},y={class:"control"},R={class:"control"},k=Object(s["f"])("div",{class:"column is-one-third"},[Object(s["f"])("img",{src:c.a,alt:"Petanque in Alps",class:"image"})],-1);function w(e,t,n,a,c,w){var T=Object(s["m"])("AddTeam"),_=Object(s["m"])("Games"),I=Object(s["m"])("Results"),x=Object(s["m"])("Ranking"),S=Object(s["m"])("Message");return Object(s["i"])(),Object(s["e"])("div",i,[o,Object(s["f"])("div",l,[Object(s["f"])("div",r,[Object(s["f"])("div",u,[Object(s["f"])("ul",null,[(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(c.tabs,(function(e,t){return Object(s["i"])(),Object(s["e"])("li",{key:t,onClick:function(t){return c.activeTab=e},class:Object(s["h"])({"is-active":e===c.activeTab})},[Object(s["f"])("a",b,Object(s["n"])(e),1)],10,m)})),128))])]),"Teams"===c.activeTab?(Object(s["i"])(),Object(s["e"])("div",d,[c.games.length?Object(s["d"])("",!0):(Object(s["i"])(),Object(s["c"])(T,{key:0,showRating:c.useRating,onAddTeam:w.addTeam,onChangeDrawStyle:w.changeDrawStyle},null,8,["showRating","onAddTeam","onChangeDrawStyle"])),c.teams.length?(Object(s["i"])(),Object(s["e"])("h2",f,"Current list")):Object(s["d"])("",!0),c.teams.length?(Object(s["i"])(),Object(s["e"])("table",O,[(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(c.teams,(function(e){return Object(s["i"])(),Object(s["e"])("tr",{key:e.title},[Object(s["f"])("td",null,Object(s["n"])(e.title),1),c.useRating?(Object(s["i"])(),Object(s["e"])("td",g,Object(s["n"])(e.rating),1)):Object(s["d"])("",!0),c.games.length?Object(s["d"])("",!0):(Object(s["i"])(),Object(s["e"])("td",j,[Object(s["f"])("span",{class:"delete",onClick:function(t){return w.removeTeam(e.title)}},null,8,h)]))])})),128))])):(Object(s["i"])(),Object(s["e"])("div",p," Please, add team ")),Object(s["f"])("div",v,[Object(s["f"])("div",y,[Object(s["f"])("button",{class:"button is-danger",onClick:t[0]||(t[0]=function(){return w.removeTournament&&w.removeTournament.apply(w,arguments)})},"Remove tournament")]),Object(s["f"])("div",R,[Object(s["f"])("button",{class:"button is-success",onClick:t[1]||(t[1]=function(){return e.saveTournament&&e.saveTournament.apply(e,arguments)})},"Save tournament")])])])):Object(s["d"])("",!0),"Games"===c.activeTab?(Object(s["i"])(),Object(s["c"])(_,{key:1,gamesList:c.games,teamsList:w.rankingTeams,activeRound:w.activeRound,roundIsActive:c.roundIsActive,teamsCount:c.teams.length-1,useRating:c.useRating,onStartRound:t[2]||(t[2]=function(e){return c.roundIsActive=!0}),onEndRound:t[3]||(t[3]=function(e){return c.roundIsActive=!1}),onDrawRound:w.addRoundToGames,onUpdateGames:e.updateGames,onUpdateTeams:e.updateTeams,onShowMessage:w.showMessage},null,8,["gamesList","teamsList","activeRound","roundIsActive","teamsCount","useRating","onDrawRound","onUpdateGames","onUpdateTeams","onShowMessage"])):Object(s["d"])("",!0),"Results"===c.activeTab?(Object(s["i"])(),Object(s["c"])(I,{key:2,results:c.games},null,8,["results"])):Object(s["d"])("",!0),"Ranking"===c.activeTab?(Object(s["i"])(),Object(s["c"])(x,{key:3,showIfUseRating:c.useRating,isPlayOff:c.isPlayOff,rankingTeams:w.rankingTeams},null,8,["showIfUseRating","isPlayOff","rankingTeams"])):Object(s["d"])("",!0)]),k]),c.message.show?(Object(s["i"])(),Object(s["c"])(S,{key:0,type:c.message.type,title:c.message.title,text:c.message.text,onClosemessage:t[4]||(t[4]=function(e){return c.message.show=!1})},null,8,["type","title","text"])):Object(s["d"])("",!0)])}n("4e82"),n("e9c4"),n("d3b7"),n("159b"),n("c740"),n("4de4");var T={class:"field is-grouped"},_={class:"control"},I={class:"control"},x={class:"field is-grouped"},S={class:"control"},P={key:0,class:"control"},M={class:"control"},C={class:"checkbox"},A=["checked"],U=Object(s["g"])(" Use team rating for drawing (else first round will be drawed randomly) ");function E(e,t,n,a,c,i){return Object(s["i"])(),Object(s["e"])(s["a"],null,[Object(s["f"])("div",T,[Object(s["f"])("div",_,[Object(s["p"])(Object(s["f"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.tournamentId=e}),onKeydown:t[1]||(t[1]=Object(s["q"])((function(){return i.importList&&i.importList.apply(i,arguments)}),["enter"])),class:"input",type:"number",placeholder:"Tournament ID"},null,544),[[s["o"],c.tournamentId]])]),Object(s["f"])("div",I,[Object(s["f"])("button",{class:"button is-success",onClick:t[2]||(t[2]=function(){return i.importList&&i.importList.apply(i,arguments)})},"Import from portal")])]),Object(s["f"])("div",x,[Object(s["f"])("div",S,[Object(s["p"])(Object(s["f"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.teamTitle=e}),onKeyup:t[4]||(t[4]=Object(s["q"])((function(e){return i.addTeam(c.teamTitle,c.teamRating)}),["enter"])),class:"input",type:"text",placeholder:"Team title"},null,544),[[s["o"],c.teamTitle]])]),n.showRating?(Object(s["i"])(),Object(s["e"])("div",P,[Object(s["p"])(Object(s["f"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.teamRating=e}),onKeyup:t[6]||(t[6]=Object(s["q"])((function(e){return i.addTeam(c.teamTitle,c.teamRating)}),["enter"])),class:"input -rating",type:"number",id:"rating",placeholder:"Rating"},null,544),[[s["o"],c.teamRating]])])):Object(s["d"])("",!0),Object(s["f"])("div",M,[Object(s["f"])("button",{class:"button",onClick:t[7]||(t[7]=function(e){return i.addTeam(c.teamTitle,c.teamRating)})},"Add team")])]),Object(s["f"])("div",null,[Object(s["f"])("label",C,[Object(s["f"])("input",{type:"checkbox",checked:n.showRating,onChange:t[8]||(t[8]=function(e){return i.changeDraw(e.target.checked)})},null,40,A),U])])],64)}var G=n("1da1"),L=(n("96cf"),n("498a"),n("b0c0"),{name:"AddTeam",props:["showRating"],data:function(){return{teamTitle:null,teamRating:null,tournamentId:null}},emits:["add-team","change-draw-style"],methods:{changeDraw:function(e){this.$emit("change-draw-style",e)},addTeam:function(e,t){this.$emit("add-team",e.trim(),t),this.teamTitle=null,this.teamRating=null},importList:function(){var e=this;return Object(G["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://portal.petanque.org.ua/tournament/team_export/".concat(e.tournamentId,"?format=json"));case 2:if(n=t.sent,!n.ok){t.next=10;break}return t.next=6,n.json();case 6:s=t.sent,s.teams.forEach((function(t){console.log(t),e.addTeam(t.name,+t.power)})),t.next=11;break;case 10:alert("Error"+n.status);case 11:case"end":return t.stop()}}),t)})))()}}}),B=n("6b0d"),D=n.n(B);const J=D()(L,[["render",E]]);var N=J,q={class:"message-header"},V={class:"message-body"};function $(e,t,n,a,c,i){return Object(s["i"])(),Object(s["e"])("article",{class:Object(s["h"])(["message is-success",{"is-danger":"error"===n.type}])},[Object(s["f"])("div",q,[Object(s["f"])("p",null,Object(s["n"])(n.title),1),Object(s["f"])("button",{class:"delete","aria-label":"delete",onClick:t[0]||(t[0]=function(){return i.closeMessage&&i.closeMessage.apply(i,arguments)})})]),Object(s["f"])("div",V,Object(s["n"])(n.text),1)],2)}var W={name:"Message",props:["type","title","text"],mounted:function(){setTimeout(this.closeMessage,3e3)},methods:{closeMessage:function(){this.$emit("closemessage")}}};n("1542");const K=D()(W,[["render",$],["__scopeId","data-v-0b9e1740"]]);var F=K,Y={class:"content tabs-content"},z={class:"field is-grouped"},H={class:"control"},Q={key:0},X={class:"text-center"},Z={class:"games-list"},ee={class:"text-right"},te={for:""},ne={class:"text-center lh-40 score-block"},se=["onUpdate:modelValue","disabled"],ae=Object(s["g"])(" vs "),ce=["onUpdate:modelValue","disabled"],ie={for:""},oe={class:"text-center"},le={key:1},re={key:2,class:"mb-5 mt-5"},ue=Object(s["g"])(" Please, click on button to draw "),me=Object(s["g"])(" round ");function be(e,t,n,a,c,i){return Object(s["i"])(),Object(s["e"])("div",Y,[Object(s["f"])("div",z,[Object(s["f"])("div",H,[!n.roundIsActive&&c.games.length<n.teamsCount?(Object(s["i"])(),Object(s["e"])("button",{key:0,class:"button is-info",onClick:t[0]||(t[0]=function(){return i.drawRound&&i.drawRound.apply(i,arguments)})},Object(s["n"])(0===n.activeRound?"First":"Draw ".concat(n.activeRound))+" Round",1)):Object(s["d"])("",!0)])]),c.games.length&&n.roundIsActive?(Object(s["i"])(),Object(s["e"])("div",Q,[Object(s["f"])("h2",X,"Round "+Object(s["n"])(n.activeRound-1),1),Object(s["f"])("div",Z,[(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(c.games[n.activeRound-2],(function(e,t){return Object(s["i"])(),Object(s["e"])("div",{class:"game-row",key:t},[Object(s["f"])("span",ee,[Object(s["f"])("label",te,Object(s["n"])(e.team_1),1)]),Object(s["f"])("span",ne,[Object(s["p"])(Object(s["f"])("input",{"onUpdate:modelValue":function(t){return e.team_1_score=t},class:"input -small",type:"number",disabled:"Technical"===e.team_2},null,8,se),[[s["o"],e.team_1_score]]),ae,Object(s["p"])(Object(s["f"])("input",{"onUpdate:modelValue":function(t){return e.team_2_score=t},class:"input -small",type:"number",disabled:"Technical"===e.team_2},null,8,ce),[[s["o"],e.team_2_score]])]),Object(s["f"])("span",null,[Object(s["f"])("label",ie,Object(s["n"])(e.team_2),1)])])})),128))]),Object(s["f"])("div",oe,[Object(s["f"])("button",{class:"button is-success",onClick:t[1]||(t[1]=function(){return i.saveResults&&i.saveResults.apply(i,arguments)})},"Save results")])])):c.games.length>=n.teamsCount?(Object(s["i"])(),Object(s["e"])("div",le,"Rounds quantity can't be more than teams")):(Object(s["i"])(),Object(s["e"])("div",re,[ue,Object(s["f"])("b",null,Object(s["n"])(0===n.activeRound?"first":n.activeRound),1),me]))])}var de=n("53ca"),fe=(n("caad"),n("2532"),n("a434"),{name:"Games",props:["roundIsActive","activeRound","gamesList","teamsList","teamsCount","useRating"],emits:["start-round","end-round","draw-round","update-teams","update-games","show-message"],data:function(){return{games:this.gamesList,teams:this.teamsList}},methods:{getRandomWithOneExclusion:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;console.log(t);while(null===n||n===t)n=Math.round(Math.random()*(e-1)),console.log(n);return n},generateCompetitors:function(e){var t,n,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0!==this.activeRound||this.useRating){t=s?e.length-1:0;var a=0===this.activeRound?e.length/2:1,c=s?e.length-2:a;while(e[t].opponents.includes(e[c].title))if(s?c--:c++,!e[c])return c=-1,{teamIndex:t,opponentIndex:c};return console.log(c),{teamIndex:t,opponentIndex:c}}return t=this.getRandomWithOneExclusion(e.length),n=this.getRandomWithOneExclusion(e.length,t),console.log(t,n),{teamIndex:t,opponentIndex:n}},drawRound:function(){var e=this;this.$emit("start-round");var t,n,s=[],a=this.teams,c=0,i=a.length/2-1,o=[],l=a.length%2!==0,r=l?a[a.length-1]:null;if(l){if(r.opponents.includes("Technical"))for(var u=2;u<a.length;u++)if(r=a[a.length-u],!r.opponents.includes("Technical")){console.log(r);break}n={team_1:r.title,team_1_score:13,team_2:"Technical",team_2_score:7},s.push(n),a.splice(a.length-1,1)}var m=function(){t=e.generateCompetitors(a,c>0);while(-1===t.opponentIndex&&c<i){if(c++,s.splice(s.length-1,1),!o.length)return e.$emit("show-message",{title:"Error",text:"Sorry, shit happens",type:"error"}),{v:void 0};a.unshift(o[o.length-1]),a.unshift(o[o.length-2]),o.splice(o.length-2,2),t=e.generateCompetitors(a,!0)}n={team_1:a[t.teamIndex].title,team_1_score:null,team_2:a[Math.floor(t.opponentIndex)].title,team_2_score:null},o.push(a[t.teamIndex],a[Math.floor(t.opponentIndex)]);var l=[a[t.teamIndex].title,a[Math.floor(t.opponentIndex)].title];a=a.filter((function(e){return!l.includes(e.title)})),n?s.push(n):console.log("Game is empty")};while(a.length>0){var b=m();if("object"===Object(de["a"])(b))return b.v}this.$emit("draw-round",s)},saveResults:function(){var e=this;this.games[this.activeRound-2].forEach((function(t){var n=e.teams.findIndex((function(e){return e.title===t.team_1}));-1!=n&&(e.teams[n].opponents.push(t.team_2),e.teams[n].pointsPlus+=t.team_1_score,e.teams[n].pointsMinus+=t.team_2_score);var s=e.teams.findIndex((function(e){return e.title===t.team_2}));-1!=s&&(e.teams[s].opponents.push(t.team_1),e.teams[s].pointsPlus+=t.team_2_score,e.teams[s].pointsMinus+=t.team_1_score),t.team_1_score>t.team_2_score?-1!=n&&e.teams[n].wins++:-1!=!s&&"Technical"!==t.team_2&&e.teams[s].wins++})),localStorage.setItem("teams",JSON.stringify(this.teams)),localStorage.setItem("games",JSON.stringify(this.games)),this.$emit("end-round"),this.$emit("show-message","Success","Your results saved")}}});const Oe=D()(fe,[["render",be]]);var ge=Oe,je={class:"content tabs-content"},he={key:0,class:"table"},pe={key:1,class:"mb-5 mt-5"};function ve(e,t,n,a,c,i){return Object(s["i"])(),Object(s["e"])("div",je,[n.results.length?(Object(s["i"])(),Object(s["e"])("table",he,[(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(n.results,(function(e,t){return Object(s["i"])(),Object(s["e"])(s["a"],{key:t},[(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(e,(function(e,n){return Object(s["i"])(),Object(s["e"])("tr",{key:n},[Object(s["f"])("td",null,"R"+Object(s["n"])(t+1),1),Object(s["f"])("td",null,Object(s["n"])(e.team_1),1),Object(s["f"])("td",null,Object(s["n"])(e.team_1_score),1),Object(s["f"])("td",null,Object(s["n"])(e.team_2_score),1),Object(s["f"])("td",null,Object(s["n"])(e.team_2),1)])})),128))],64)})),128))])):(Object(s["i"])(),Object(s["e"])("div",pe," No games, yet "))])}var ye={name:"Ranking",props:["results"]};const Re=D()(ye,[["render",ve]]);var ke=Re,we={class:"content tabs-content"},Te={id:"table-ranking",class:"table"},_e=Object(s["f"])("th",null,"#",-1),Ie=Object(s["f"])("th",null,"Team",-1),xe=Object(s["f"])("th",null,"Wins",-1),Se=Object(s["f"])("th",null,"Buh",-1),Pe=Object(s["f"])("th",null,"Sm Buh",-1),Me=Object(s["f"])("th",null,"Points",-1),Ce={key:0},Ae=Object(s["f"])("td",null,[Object(s["f"])("span",{class:"team-count"})],-1),Ue={key:0},Ee={key:0,class:"mt-5"},Ge=Object(s["f"])("h2",{class:"h2"},"Go to play-off?",-1),Le={class:"is-flex is-align-items-center"},Be=Object(s["g"])("Choose number of teams "),De={class:"select ml-3"},Je=Object(s["f"])("option",null,"4",-1),Ne={key:0},qe={key:1},Ve={key:2},$e={key:3};function We(e,t,n,a,c,i){return Object(s["i"])(),Object(s["e"])("div",we,[Object(s["f"])("table",Te,[Object(s["f"])("thead",null,[Object(s["f"])("tr",null,[_e,Ie,xe,Se,Pe,Me,n.showIfUseRating?(Object(s["i"])(),Object(s["e"])("th",Ce,"Rating")):Object(s["d"])("",!0)])]),Object(s["f"])("tbody",null,[(Object(s["i"])(!0),Object(s["e"])(s["a"],null,Object(s["l"])(n.rankingTeams,(function(e){return Object(s["i"])(),Object(s["e"])("tr",{key:e.title},[Ae,Object(s["f"])("td",null,Object(s["n"])(e.title),1),Object(s["f"])("td",null,Object(s["n"])(e.wins),1),Object(s["f"])("td",null,Object(s["n"])(e.buhgolts),1),Object(s["f"])("td",null,Object(s["n"])(e.smallBuhgolts),1),Object(s["f"])("td",null,Object(s["n"])(e.pointsPlus)+":"+Object(s["n"])(e.pointsMinus),1),n.showIfUseRating?(Object(s["i"])(),Object(s["e"])("td",Ue,Object(s["n"])(e.rating),1)):Object(s["d"])("",!0)])})),128))])]),n.isPlayOff?Object(s["d"])("",!0):(Object(s["i"])(),Object(s["e"])("div",Ee,[Ge,Object(s["f"])("div",Le,[Be,Object(s["f"])("div",De,[Object(s["f"])("select",null,[Je,n.rankingTeams.length>8?(Object(s["i"])(),Object(s["e"])("option",Ne,"8")):Object(s["d"])("",!0),n.rankingTeams.length>16?(Object(s["i"])(),Object(s["e"])("option",qe,"16")):Object(s["d"])("",!0),n.rankingTeams.length>32?(Object(s["i"])(),Object(s["e"])("option",Ve,"32")):Object(s["d"])("",!0),n.rankingTeams.length>64?(Object(s["i"])(),Object(s["e"])("option",$e,"64")):Object(s["d"])("",!0)])]),Object(s["f"])("button",{onClick:t[0]||(t[0]=function(){return i.runPlayOff&&i.runPlayOff.apply(i,arguments)}),class:"button is-success ml-3"},"Go!")])]))])}var Ke={name:"Ranking",props:["showIfUseRating","isPlayOff","rankingTeams"],emits:["is-playoff"],mounted:function(){console.log(this.showIfUseRating,this.isPlayOff,this.rankingTeams)},methods:{runPlayOff:function(){}}};const Fe=D()(Ke,[["render",We]]);var Ye=Fe,ze={name:"App",data:function(){return{tabs:["Teams","Games","Results","Ranking"],activeTab:"Teams",teams:localStorage.getItem("teams")?JSON.parse(localStorage.getItem("teams")):[],games:localStorage.getItem("games")?JSON.parse(localStorage.getItem("games")):[],roundIsActive:!1,useRating:localStorage.getItem("useRating")||!0,isPlayOff:!1,message:{show:!1,type:"success",title:"Message",text:""}}},mounted:function(){},methods:{changeDrawStyle:function(e){this.useRating=e},addRoundToGames:function(e){this.games.push(e)},showMessage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";this.message={show:!0,type:n,title:e,text:t}},sortTeams:function(e){this.countBuhgolts(e,"buhgolts"),this.countBuhgolts(e,"smallBuhgolts");var t=e.sort((function(e,t){return t.wins-e.wins||t.buhgolts-e.buhgolts||t.smallBuhgolts-e.smallBuhgolts||t.pointsPlus-t.pointsMinus-(e.pointsPlus-e.pointsMinus)||t.rating-e.rating}));return localStorage.setItem("teams",JSON.stringify(t)),t},countBuhgolts:function(e,t){var n="buhgolts"===t?"wins":"buhgolts";return e.forEach((function(s){var a=0;s.opponents.length&&s.opponents.forEach((function(t){var s=e.findIndex((function(e){return e.title===t}));-1!==s&&(a+=e[s][n])})),s[t]=a})),e},addTeam:function(e,t){if(""!==e){var n=!1;if(this.teams.forEach((function(t){n=t.title===e})),n)this.showMessage("Error","Such team already registered! Change team title, please","error");else{var s={title:e,rating:t,wins:0,buhgolts:0,smallBuhgolts:0,pointsPlus:0,pointsMinus:0,opponents:[]};this.teams.push(s),localStorage.setItem("teams",JSON.stringify(this.teams))}}else this.showMessage("Error","Enter fields to add team","error")},removeTeam:function(e){this.teams=this.teams.filter((function(t){return t.title!==e}))},removeTournament:function(){this.teams=[],this.games=[],this.isPlayOff=!1,this.useRating=!0},runPlayOff:function(){}},computed:{rankingTeams:function(){return this.sortTeams(this.teams)},activeRound:function(){return this.games.length?this.games.length+1:0}},watch:{teams:function(){this.teams.length?localStorage.setItem("teams",JSON.stringify(this.teams)):localStorage.removeItem("teams")},games:function(){this.games.length?localStorage.setItem("games",JSON.stringify(this.games)):localStorage.removeItem("games")},useRating:function(){localStorage.setItem("useRating",this.useRating)},isPlayOff:function(){localStorage.setItem("isPlayOff",this.isPlayOff)}},components:{AddTeam:N,Message:F,Games:ge,Results:ke,Ranking:Ye}};n("3815"),n("d73d");const He=D()(ze,[["render",w]]);var Qe=He;Object(s["b"])(Qe).mount("#app")},d1b4:function(e,t,n){e.exports=n.p+"img/bg.be042820.jpg"},d529:function(e,t,n){},d73d:function(e,t,n){"use strict";n("1c50")}});
//# sourceMappingURL=app.85df8277.js.map