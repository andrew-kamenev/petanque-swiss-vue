(function(e){function t(t){for(var a,o,r=t[0],u=t[1],l=t[2],m=0,b=[];m<r.length;m++)o=r[m],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);i&&i(t);while(b.length)b.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var u=n[r];0!==c[u]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},c={app:0},s=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/petanque-swiss-vue/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var i=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0563":function(e,t,n){},"1c50":function(e,t,n){},"29bb":function(e,t,n){},"2abc":function(e,t,n){"use strict";n("29bb")},3815:function(e,t,n){"use strict";n("51f9")},"4b25":function(e,t,n){"use strict";n("a2bf")},"4ffd":function(e,t,n){e.exports=n.p+"img/logo.ec2cab1b.png"},"51f9":function(e,t,n){},"546a":function(e,t,n){"use strict";n("0563")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),c=n("d1b4"),s=n.n(c),o={class:"container"},r={class:"columns"},u={class:"column"},l=Object(a["f"])("div",{class:"column is-one-third is-hidden-touch"},[Object(a["f"])("img",{src:s.a,alt:"Petanque in Alps",class:"image"})],-1),i=Object(a["f"])("hr",null,null,-1);function m(e,t,n,c,s,m){var b=Object(a["s"])("Navbar"),O=Object(a["s"])("Tournament"),f=Object(a["s"])("Message"),d=Object(a["s"])("Menu"),j=Object(a["s"])("SavedTournamentModal"),h=Object(a["s"])("Help");return Object(a["m"])(),Object(a["e"])(a["a"],null,[Object(a["i"])(b,{onOpenMenu:t[0]||(t[0]=function(e){return s.menuOpen=!s.menuOpen})}),Object(a["f"])("div",o,[Object(a["f"])("div",r,[Object(a["f"])("div",u,[m.tournament?(Object(a["m"])(),Object(a["c"])(O,{key:0})):Object(a["d"])("",!0)]),l]),i,Object(a["f"])("button",{class:"button is-info",onClick:t[1]||(t[1]=function(){return e.addTournament&&e.addTournament.apply(e,arguments)})},"Add new tournament"),e.message.show?(Object(a["m"])(),Object(a["c"])(f,{key:0})):Object(a["d"])("",!0),Object(a["i"])(d,{active:s.menuOpen,onCloseMenu:t[2]||(t[2]=function(e){return s.menuOpen=!1}),onOpenSavedTournament:m.openSavedTournament,onOpenHelp:t[3]||(t[3]=function(e){s.menuOpen=!1,s.helpOpen=!0})},null,8,["active","onOpenSavedTournament"]),s.showSavedTournament?(Object(a["m"])(),Object(a["c"])(j,{key:1,tournament:e.savedTournaments[s.savedTournamentsActive],onCloseModal:m.closeTournamentModal},null,8,["tournament","onCloseModal"])):Object(a["d"])("",!0),s.helpOpen?(Object(a["m"])(),Object(a["c"])(h,{key:2,onCloseModal:t[4]||(t[4]=function(e){return s.helpOpen=!1})})):Object(a["d"])("",!0)])],64)}var b=n("5530"),O={class:"message-header"},f={class:"message-body"};function d(e,t,n,c,s,o){return Object(a["m"])(),Object(a["e"])("article",{class:Object(a["k"])(["message is-success",{"is-danger":"error"===e.message.type}])},[Object(a["f"])("div",O,[Object(a["f"])("p",null,Object(a["t"])(e.message.title),1),Object(a["f"])("button",{class:"delete","aria-label":"delete",onClick:t[0]||(t[0]=function(){return e.closeMessage&&e.closeMessage.apply(e,arguments)})})]),Object(a["f"])("div",f,Object(a["t"])(e.message.text),1)],2)}var j=n("5502"),h={name:"Message",mounted:function(){var e=this;setTimeout(e.hideMessage,3e3)},computed:Object(j["c"])(["message"]),methods:Object(b["a"])({},Object(j["b"])(["hideMessage"]))},p=(n("7fda"),n("6b0d")),g=n.n(p);const v=g()(h,[["render",d],["__scopeId","data-v-217e01bc"]]);var y=v,k=(n("b0c0"),function(e){return Object(a["o"])("data-v-01a2e258"),e=e(),Object(a["n"])(),e}),_={class:"menu"},T={class:"has-text-right"},w={key:0,class:"menu-label is-hidden-desktop"},x={key:1,class:"navbar-item has-dropdown is-hoverable is-hidden-desktop"},R=k((function(){return Object(a["f"])("a",{class:"navbar-link"}," Choose ",-1)})),I={key:0,class:"navbar-dropdown"},S=["onClick"],C={key:2,class:"menu-label"},P={class:"menu-list"},M=["onClick"],B=k((function(){return Object(a["f"])("p",{class:"menu-label"}," Info ",-1)})),E={class:"menu-list"},N=k((function(){return Object(a["f"])("li",null,[Object(a["f"])("a",{href:"https://en.wikipedia.org/wiki/Swiss-system_tournament",target:"_blank"},"Swiss system")],-1)})),A=k((function(){return Object(a["f"])("p",{class:"menu-label"}," Useful Links ",-1)})),G=k((function(){return Object(a["f"])("ul",{class:"menu-list"},[Object(a["f"])("li",null,[Object(a["f"])("a",{href:"http://portal.petanque.org.ua/",target:"_blank"},"Portal")])],-1)}));function q(e,t,n,c,s,o){return Object(a["m"])(),Object(a["e"])("div",{class:Object(a["k"])(["menu-wrapper",{active:n.active}]),onClick:t[2]||(t[2]=Object(a["B"])((function(t){return e.$emit("closeMenu")}),["self"]))},[Object(a["f"])("aside",_,[Object(a["f"])("div",T,[Object(a["f"])("a",{href:"#",class:"delete is-large",onClick:t[0]||(t[0]=Object(a["B"])((function(t){return e.$emit("closeMenu")}),["prevent"]))})]),e.tournaments.length>1?(Object(a["m"])(),Object(a["e"])("p",w," Active tournaments ")):Object(a["d"])("",!0),e.tournaments.length>1?(Object(a["m"])(),Object(a["e"])("div",x,[R,e.tournaments.length>1?(Object(a["m"])(),Object(a["e"])("div",I,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e.tournaments,(function(t,n){return Object(a["m"])(),Object(a["e"])("a",{class:Object(a["k"])(["navbar-item",{"is-active":n===e.currentTournamentIndex}]),key:n,onClick:Object(a["B"])((function(e){return o.chooseTournament(n)}),["prevent"])},Object(a["t"])(t.name||"Tournament "+s.tournamentNames[n]),11,S)})),128))])):Object(a["d"])("",!0)])):Object(a["d"])("",!0),e.savedTournaments.length?(Object(a["m"])(),Object(a["e"])("p",C," Saved tournaments ")):Object(a["d"])("",!0),Object(a["f"])("ul",P,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e.savedTournaments,(function(t,n){return Object(a["m"])(),Object(a["e"])("li",{key:n},[Object(a["f"])("a",{href:"#",onClick:Object(a["B"])((function(t){return e.$emit("openSavedTournament",n)}),["prevent"])},Object(a["t"])(t.name),9,M)])})),128))]),B,Object(a["f"])("ul",E,[N,Object(a["f"])("li",null,[Object(a["f"])("a",{href:"#",onClick:t[1]||(t[1]=Object(a["B"])((function(t){return e.$emit("openHelp")}),["prevent"]))},"How to use (in progress)?")])]),A,G])],2)}n("d3b7"),n("159b"),n("99af"),n("e9c4"),n("fb6a"),n("caad");var L=["A","B","C","D","E","F"];function z(e,t,n,a){return t===n?"-":(e.forEach((function(e){e.forEach((function(e){e.team_1+e.team_2!==t+n&&e.team_2+e.team_1!==t+n||(c=e)}))})),c?a?t===c.team_1?c.team_1_score-c.team_2_score||0:c.team_2_score-c.team_1_score||0:t===c.team_1?"".concat(c.team_1_score||0," : ").concat(c.team_2_score||0):"".concat(c.team_2_score||0," : ").concat(c.team_1_score||0):void 0);var c}function $(e,t){var n=[];if(e.playOffBracket)(function(){for(var a=JSON.parse(JSON.stringify(e.playOffBracket.stages)).reverse(),c=JSON.parse(JSON.stringify(e.playOffBracket.thirdPlace)),s=[],o=function(e){if(1===a[e].stageLabel){var t={place:"1",title:a[e].teams[0].team_1_score>a[e].teams[0].team_2_score?a[e].teams[0].team_1:a[e].teams[0].team_2};n.push(t),s.push(t.title);var o={place:"2",title:a[e].teams[0].team_1_score>a[e].teams[0].team_2_score?a[e].teams[0].team_2:a[e].teams[0].team_1};n.push(o),s.push(o.title)}else if(2===a[e].stageLabel){var r={place:"3",title:c.team_1_score>c.team_2_score?c.team_1:c.team_2};n.push(r),s.push(r.title);var u={place:"4",title:c.team_1_score>c.team_2_score?c.team_2:c.team_1};n.push(u),s.push(u.title)}else a[e].teams.forEach((function(t){var c=s.includes(t.team_1)?t.team_2:t.team_1,o={place:a[e].stageLabel+1+"-"+2*a[e].stageLabel,title:c};n.push(o),s.push(o.title)}))},r=0;r<a.length;r++)o(r);e.games.length>0&&("swiss"===e.system||"groups"===e.system&&1===t.length?t.slice(e.playOffBracket.stages[0].teamsCount,t.length).forEach((function(t,a){var c={place:e.playOffBracket.stages[0].teamsCount+a+1,title:t.title,players:t.players};n.push(c)})):function(){var a=t.length,c=e.playOffBracket.stages[0].teamsCount,s=[];t.forEach((function(e,t){s[t]=e.slice(c/a)}));for(var o=function(e){s.forEach((function(t){var a={place:c+2*e+1+"-"+(c+2*e+2),title:t[e].title};n.push(a)}))},r=0;r<s[0].length;r++)o(r)}())})();else if("swiss"===e.system||"groups"===e.system&&1===t.length){var a="swiss"===e.system?t:t[0];console.log(a),a.forEach((function(e,t){var a={place:t+1,title:e.title,players:e.players};n.push(a)}))}return n}var V={name:"Menu",data:function(){return{tournamentNames:L}},props:["active"],computed:Object(j["c"])(["tournaments","currentTournamentIndex","savedTournaments"]),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["setActiveTournament"])),{},{chooseTournament:function(e){this.setActiveTournament(e),this.$emit("closeMenu")}})};n("2abc");const J=g()(V,[["render",q],["__scopeId","data-v-01a2e258"]]);var U=J,F=function(e){return Object(a["o"])("data-v-65d45036"),e=e(),Object(a["n"])(),e},H={class:"content is-flex is-justify-content-space-between mb-3"},K={key:0,class:"card"},D=F((function(){return Object(a["f"])("p",{class:"card-header-title"}," Results in tables ",-1)})),W=F((function(){return Object(a["f"])("button",{class:"card-header-icon","aria-label":"more options"},[Object(a["f"])("span",{class:"icon"},[Object(a["f"])("i",{class:"fas fa-angle-down","aria-hidden":"true"})])],-1)})),Y=[D,W],Q={key:1,class:"card"},X=F((function(){return Object(a["f"])("p",{class:"card-header-title"}," Games ",-1)})),Z=F((function(){return Object(a["f"])("button",{class:"card-header-icon","aria-label":"more options"},[Object(a["f"])("span",{class:"icon"},[Object(a["f"])("i",{class:"fas fa-angle-down","aria-hidden":"true"})])],-1)})),ee=[X,Z],te={class:"table-container"},ne={key:0,class:"table is-striped mb-5"},ae={key:0},ce={class:"has-text-centered"},se={class:"table-container"},oe={class:"table is-striped"};function re(e,t,n,c,s,o){var r=Object(a["s"])("Ranking"),u=Object(a["s"])("Modal");return Object(a["m"])(),Object(a["c"])(u,{onCloseModal:t[3]||(t[3]=function(t){return e.$emit("close-modal")})},{default:Object(a["y"])((function(){return[Object(a["f"])("div",H,[Object(a["f"])("h2",null,Object(a["t"])(n.tournament.name),1),Object(a["f"])("button",{class:"button is-danger",onClick:t[0]||(t[0]=function(t){e.removeSavedTournament(n.tournament.name),e.$emit("close-modal")})},"Remove tournament")]),n.tournament.ranking?(Object(a["m"])(),Object(a["e"])("div",K,[Object(a["f"])("header",{class:"card-header",onClick:t[1]||(t[1]=function(e){s.showGames=!1,s.showSwissTable=!s.showSwissTable})},Y),Object(a["f"])("div",{class:Object(a["k"])(["card-content",{active:s.showSwissTable}])},[Object(a["i"])(r,{tournament:n.tournament,rankingTeams:n.tournament.ranking,showInSaved:"true"},null,8,["tournament","rankingTeams"])],2)])):Object(a["d"])("",!0),n.tournament.games?(Object(a["m"])(),Object(a["e"])("div",Q,[Object(a["f"])("header",{class:"card-header",onClick:t[2]||(t[2]=function(e){s.showSwissTable=!1,s.showGames=!s.showGames})},ee),Object(a["f"])("div",{class:Object(a["k"])(["card-content",{active:s.showGames}])},[Object(a["f"])("div",te,[n.tournament.games?(Object(a["m"])(),Object(a["e"])("table",ne,[Object(a["f"])("tbody",null,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(n.tournament.games,(function(e,t){return Object(a["m"])(),Object(a["e"])(a["a"],{key:t},[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e,(function(e,n){return Object(a["m"])(),Object(a["e"])("tr",{key:n},[Object(a["f"])("td",null,"R"+Object(a["t"])(t+1),1),Object(a["f"])("td",null,Object(a["t"])(e.team_1),1),Object(a["f"])("td",null,Object(a["t"])(e.team_1_score),1),Object(a["f"])("td",null,Object(a["t"])(e.team_2_score),1),Object(a["f"])("td",null,Object(a["t"])(e.team_2),1)])})),128))],64)})),128))])])):Object(a["d"])("",!0)]),n.tournament.playOff?(Object(a["m"])(),Object(a["e"])("div",ae,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(n.tournament.playOff.stages,(function(e,t){return Object(a["m"])(),Object(a["e"])("div",{key:t,class:"mb-5"},[Object(a["f"])("h3",ce,Object(a["t"])(1===e.stageLabel?"Final":"1/"+e.stageLabel+" final"),1),Object(a["f"])("div",se,[Object(a["f"])("table",oe,[Object(a["f"])("tbody",null,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e.teams,(function(e,t){return Object(a["m"])(),Object(a["e"])("tr",{key:t},[Object(a["f"])("td",null,Object(a["t"])(e.team_1),1),Object(a["f"])("td",null,Object(a["t"])(e.team_1_score),1),Object(a["f"])("td",null,Object(a["t"])(e.team_2_score),1),Object(a["f"])("td",null,Object(a["t"])(e.team_2),1)])})),128))])])])])})),128))])):Object(a["d"])("",!0)],2)])):Object(a["d"])("",!0)]})),_:1})}var ue={key:0,class:"mb-5"},le={class:"is-flex is-justify-content-space-between is-align-content-center"},ie=Object(a["f"])("h2",null,"Tournament Result",-1),me={class:"table-container"},be={id:"table-finish-ranking",class:"table"},Oe=Object(a["f"])("thead",null,[Object(a["f"])("tr",null,[Object(a["f"])("th",null,"Place"),Object(a["f"])("th",null,"Team"),Object(a["f"])("th",null,"Players")])],-1),fe={key:0,class:"is-size-7"},de={key:0},je={key:1},he={key:0},pe=Object(a["h"])("Ranking "),ge={key:0},ve={key:1},ye={key:1},ke={class:"table-container"},_e={id:"table-ranking",class:"table"},Te=Object(a["f"])("th",null,"#",-1),we=Object(a["f"])("th",null,"Team",-1),xe=Object(a["f"])("th",null,"Wins",-1),Re=Object(a["f"])("th",null,"Buh",-1),Ie=Object(a["f"])("th",null,"SBuh",-1),Se=Object(a["f"])("th",null,"Points",-1),Ce={key:0},Pe=Object(a["f"])("td",null,[Object(a["f"])("span",{class:"team-count"})],-1),Me={align:"center"},Be={align:"center"},Ee={align:"center"},Ne={align:"center"},Ae={key:0},Ge={key:2},qe={key:0},Le={class:"table-container mb-5"},ze={class:"table table is-striped"},$e=Object(a["f"])("th",null,"Place",-1),Ve=Object(a["f"])("th",null,"Team",-1),Je=Object(a["f"])("th",null,"Wins",-1),Ue=Object(a["f"])("th",null,"Points",-1),Fe={align:"center"},He={align:"center"};function Ke(e,t,n,c,s,o){return Object(a["m"])(),Object(a["e"])("div",null,[n.tournament.tournamentIsFinished?(Object(a["m"])(),Object(a["e"])("div",ue,[Object(a["f"])("div",le,[ie,Object(a["f"])("button",{class:"button is-info",onClick:t[0]||(t[0]=function(){return o.copyResults&&o.copyResults.apply(o,arguments)})},"Copy results")]),Object(a["f"])("div",me,[Object(a["f"])("table",be,[Oe,Object(a["f"])("tbody",null,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(n.showInSaved?n.rankingTeams:o.tournamentRanking,(function(e,t){return Object(a["m"])(),Object(a["e"])("tr",{key:t},[Object(a["f"])("td",null,Object(a["t"])(e.place),1),Object(a["f"])("td",null,Object(a["t"])(e.title),1),Object(a["f"])("td",null,[(n.showInSaved?e.players&&e.players.length:o.getTeamPlayers(e.title).length)?(Object(a["m"])(),Object(a["e"])("div",fe,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(n.showInSaved?e.players:o.getTeamPlayers(e.title),(function(t,n){return Object(a["m"])(),Object(a["e"])("span",{class:"has-text-dark",key:n},[Object(a["h"])(Object(a["t"])(t.name)+" "+Object(a["t"])(t.surname)+" ",1),n<o.getTeamPlayers(e.title).length-1?(Object(a["m"])(),Object(a["e"])("span",de,", ")):Object(a["d"])("",!0)])})),128))])):Object(a["d"])("",!0)])])})),128))])])])])):Object(a["d"])("",!0),n.tournament.games.length>0?(Object(a["m"])(),Object(a["e"])("div",je,["swiss"===n.tournament.system?(Object(a["m"])(),Object(a["e"])("h2",he,[pe,n.activeRound?(Object(a["m"])(),Object(a["e"])("span",ge,"after "+Object(a["t"])(n.activeRound-1)+" round"+Object(a["t"])(n.activeRound>2&&0!==n.activeRound?"s ":" "),1)):Object(a["d"])("",!0),"swiss"===n.tournament.system?(Object(a["m"])(),Object(a["e"])("span",ve,"swiss")):Object(a["d"])("",!0)])):Object(a["d"])("",!0),"swiss"===n.tournament.system?(Object(a["m"])(),Object(a["e"])("div",ye,[Object(a["f"])("div",ke,[Object(a["f"])("table",_e,[Object(a["f"])("thead",null,[Object(a["f"])("tr",null,[Te,we,xe,Re,Ie,Se,n.tournament.useRating?(Object(a["m"])(),Object(a["e"])("th",Ce,"Rating")):Object(a["d"])("",!0)])]),Object(a["f"])("tbody",null,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(n.rankingTeams,(function(e){return Object(a["m"])(),Object(a["e"])("tr",{key:e.title},[Pe,Object(a["f"])("td",null,Object(a["t"])(e.title),1),Object(a["f"])("td",Me,Object(a["t"])(e.wins),1),Object(a["f"])("td",Be,Object(a["t"])(e.buhgolts),1),Object(a["f"])("td",Ee,Object(a["t"])(e.smallBuhgolts),1),Object(a["f"])("td",Ne,Object(a["t"])(e.pointsPlus)+":"+Object(a["t"])(e.pointsMinus),1),n.tournament.useRating?(Object(a["m"])(),Object(a["e"])("td",Ae,Object(a["t"])(e.rating),1)):Object(a["d"])("",!0)])})),128))])])])])):n.tournament.groups?(Object(a["m"])(),Object(a["e"])("div",Ge,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(n.rankingTeams,(function(e,t){return Object(a["m"])(),Object(a["e"])("div",{key:t},[n.tournament.groups&&n.tournament.groups.length>1?(Object(a["m"])(),Object(a["e"])("h4",qe,"Group "+Object(a["t"])(o.groupsNames[t]),1)):Object(a["d"])("",!0),Object(a["f"])("div",Le,[Object(a["f"])("table",ze,[Object(a["f"])("thead",null,[Object(a["f"])("tr",null,[$e,Ve,(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e,(function(e,t){return Object(a["m"])(),Object(a["e"])("th",{key:t,align:"center"},Object(a["t"])(t+1),1)})),128)),Je,Ue])]),Object(a["f"])("tbody",null,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e,(function(t,c){return Object(a["m"])(),Object(a["e"])("tr",{key:c},[Object(a["f"])("td",null,Object(a["t"])(c+1),1),Object(a["f"])("td",null,Object(a["t"])(t.title),1),(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e,(function(e,c){return Object(a["m"])(),Object(a["e"])("td",{key:c,align:"center",class:"no-wrap"},Object(a["t"])(o.getGameResultInGroup(n.tournament.games,t.title,e.title)),1)})),128)),Object(a["f"])("td",Fe,Object(a["t"])(t.wins),1),Object(a["f"])("td",He,Object(a["t"])(t.pointsPlus)+":"+Object(a["t"])(t.pointsMinus),1)])})),128))])])])])})),128))])):Object(a["d"])("",!0)])):Object(a["d"])("",!0)])}n("498a"),n("7db0");var De={name:"Ranking",props:["tournament","rankingTeams","activeRound","showInSaved"],emits:["is-playoff"],data:function(){return{playOffBracket:localStorage.getItem("playOffBracket")?JSON.parse(localStorage.getItem("playOffBracket")):null}},methods:{getGameResultInGroup:z,copyResults:function(){var e=document.createElement("div"),t="";this.tournamentRanking.forEach((function(e){t=t+"<span>"+e.place+"</span><p>"+e.title+"</p>"})),e.innerHTML=t.trim(),document.body.appendChild(e);var n=new Range;n.selectNode(e);var a=window.getSelection();a.removeAllRanges(),a.addRange(n),document.execCommand("copy"),e.remove()},getTeamPlayers:function(e){return this.tournament.teams&&this.tournament.teams.find((function(t){return t.title===e})).players?this.tournament.teams.find((function(t){return t.title===e})).players:""}},computed:{groupsNames:function(){return L},tournamentRanking:function(){return $(this.tournament,this.rankingTeams)}}};const We=g()(De,[["render",Ke]]);var Ye=We,Qe={class:"modal is-active"},Xe={class:"modal-content"},Ze={class:"box"};function et(e,t,n,c,s,o){return Object(a["m"])(),Object(a["e"])("div",Qe,[Object(a["f"])("div",{class:"modal-background",onClick:t[0]||(t[0]=Object(a["B"])((function(t){return e.$emit("close-modal")}),["self"]))}),Object(a["f"])("div",Xe,[Object(a["f"])("div",Ze,[Object(a["r"])(e.$slots,"default")])]),Object(a["f"])("button",{class:"modal-close is-large","aria-label":"close",onClick:t[1]||(t[1]=function(t){return e.$emit("close-modal")})})])}var tt={name:"Modal",emits:["close-modal"]};const nt=g()(tt,[["render",et]]);var at=nt,ct={name:"SavedTournamentModal",components:{Modal:at,Ranking:Ye},props:["tournament"],emits:["close-modal"],data:function(){return{showSwissTable:!1,showGames:!1}},methods:Object(j["b"])(["removeSavedTournament"])};n("546a");const st=g()(ct,[["render",re],["__scopeId","data-v-65d45036"]]);var ot=st,rt={class:"text-center is-size-3"},ut=Object(a["h"])(),lt={class:"is-size-5 is-capitalized"},it={key:0},mt={class:"field"},bt=Object(a["f"])("label",{class:"label",for:""},"System",-1),Ot={class:"control"},ft={class:"radio"},dt=Object(a["h"])(" Swiss "),jt={class:"radio"},ht=Object(a["h"])(" Groups "),pt={key:0,class:"field"},gt=Object(a["f"])("label",{class:"label"},"How many team in group?",-1),vt={class:"control"},yt={class:"select"},kt=Object(a["g"])("<option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option><option>11</option><option>12</option>",10),_t={class:"tabs"},Tt=["onClick"],wt={key:1,class:"content tabs-content"},xt={key:2,class:"mb-5 mt-5"},Rt={class:"field is-grouped"},It={class:"control"},St={key:0,class:"control"},Ct={key:1,class:"control"},Pt={key:4,class:"content tabs-content"},Mt={key:0},Bt={class:"mt-5"},Et=Object(a["f"])("h2",{class:"h2"},"Go to play-off?",-1),Nt={class:"is-flex is-align-items-center"},At=Object(a["h"])("Choose number of teams "),Gt={class:"select ml-3"},qt={key:0},Lt={key:1},zt={key:2},$t={key:3},Vt={key:4},Jt={key:5},Ut={key:0,class:"mt-5"},Ft={class:"checkbox"},Ht=["checked"],Kt=Object(a["h"])(" Also play "),Dt=Object(a["f"])("strong",null,"Tournament B",-1),Wt=Object(a["h"])("? ");function Yt(e,t,n,c,s,o){var r=Object(a["s"])("AddTeam"),u=Object(a["s"])("TeamsList"),l=Object(a["s"])("Games"),i=Object(a["s"])("Results"),m=Object(a["s"])("Ranking"),b=Object(a["s"])("SaveTournament"),O=Object(a["s"])("ConfirmRemoveModal"),f=Object(a["s"])("ChangeTournamentName");return Object(a["m"])(),Object(a["e"])("div",null,[Object(a["f"])("div",rt,[Object(a["f"])("strong",{class:"pointer",onClick:t[0]||(t[0]=function(e){return s.changeNameModal=!0})},Object(a["t"])(o.tournament.name),1),ut,Object(a["f"])("span",lt,"("+Object(a["t"])(o.tournament.system)+")",1)]),o.tournament.games.length?Object(a["d"])("",!0):(Object(a["m"])(),Object(a["e"])("div",it,[Object(a["f"])("div",mt,[bt,Object(a["f"])("div",Ot,[Object(a["f"])("label",ft,[Object(a["z"])(Object(a["f"])("input",{type:"radio",name:"system",id:"swiss",value:"swiss","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.tournament.system=e})},null,512),[[a["u"],o.tournament.system]]),dt]),Object(a["f"])("label",jt,[Object(a["z"])(Object(a["f"])("input",{type:"radio",name:"system",id:"groups",value:"groups","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.tournament.system=e})},null,512),[[a["u"],o.tournament.system]]),ht])])]),"groups"===o.tournament.system?(Object(a["m"])(),Object(a["e"])("div",pt,[gt,Object(a["f"])("div",vt,[Object(a["f"])("div",yt,[Object(a["z"])(Object(a["f"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.teamsInGroup=e})},[kt,Object(a["f"])("option",null,Object(a["t"])(o.tournament.teams.length),1)],512),[[a["v"],s.teamsInGroup]])])])])):Object(a["d"])("",!0)])),Object(a["f"])("div",_t,[Object(a["f"])("ul",null,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(s.tabs,(function(e,t){return Object(a["m"])(),Object(a["e"])("li",{key:t,class:Object(a["k"])({"is-active":e===s.activeTab})},[Object(a["f"])("a",{href:"#",onClick:Object(a["B"])((function(t){return s.activeTab=e}),["prevent"])},Object(a["t"])(e),9,Tt)],2)})),128))])]),"Teams"===s.activeTab?(Object(a["m"])(),Object(a["e"])("div",wt,[o.tournament.games.length?Object(a["d"])("",!0):(Object(a["m"])(),Object(a["c"])(r,{key:0})),o.tournament.teams.length?(Object(a["m"])(),Object(a["c"])(u,{key:1,activeRound:o.activeRound},null,8,["activeRound"])):(Object(a["m"])(),Object(a["e"])("div",xt," Please, add team ")),Object(a["f"])("div",Rt,[Object(a["f"])("div",It,[Object(a["f"])("button",{class:"button is-danger",onClick:t[4]||(t[4]=function(e){return s.removeConfirm=!0})},"Remove tournament")]),o.canSaveTournament||o.tournament.tournamentIsFinished?(Object(a["m"])(),Object(a["e"])("div",St,[Object(a["f"])("button",{class:"button is-success",onClick:t[5]||(t[5]=function(e){return s.showSaveTournament=!0})},"Save tournament")])):Object(a["d"])("",!0),!o.tournament.tournamentIsFinished&&o.tournament.games.length>1?(Object(a["m"])(),Object(a["e"])("div",Ct,[Object(a["f"])("button",{class:"button is-info",onClick:t[6]||(t[6]=function(){return e.finishTournament&&e.finishTournament.apply(e,arguments)})},"Finish tournament")])):Object(a["d"])("",!0)])])):Object(a["d"])("",!0),"Games"===s.activeTab?(Object(a["m"])(),Object(a["c"])(l,{key:2,activeRound:o.activeRound,"teams-in-group":s.teamsInGroup,onOpenResults:t[7]||(t[7]=function(e){return s.activeTab="Ranking"})},null,8,["activeRound","teams-in-group"])):Object(a["d"])("",!0),"Results"===s.activeTab?(Object(a["m"])(),Object(a["c"])(i,{key:3})):Object(a["d"])("",!0),"Ranking"===s.activeTab?(Object(a["m"])(),Object(a["e"])("div",Pt,[Object(a["i"])(m,{tournament:o.tournament,rankingTeams:o.rankingTeams,activeRound:o.activeRound},null,8,["tournament","rankingTeams","activeRound"]),!o.tournament.playOff&&o.tournament.teams.length>1?(Object(a["m"])(),Object(a["e"])("div",Mt,[Object(a["f"])("div",Bt,[Et,Object(a["f"])("div",Nt,[At,Object(a["f"])("div",Gt,[Object(a["z"])(Object(a["f"])("select",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return s.teamToPlayOff=e})},[o.tournament.teams.length>=2?(Object(a["m"])(),Object(a["e"])("option",qt,"2")):Object(a["d"])("",!0),o.tournament.teams.length>=4?(Object(a["m"])(),Object(a["e"])("option",Lt,"4")):Object(a["d"])("",!0),o.tournament.teams.length>=8?(Object(a["m"])(),Object(a["e"])("option",zt,"8")):Object(a["d"])("",!0),o.tournament.teams.length>=16?(Object(a["m"])(),Object(a["e"])("option",$t,"16")):Object(a["d"])("",!0),o.tournament.teams.length>=32?(Object(a["m"])(),Object(a["e"])("option",Vt,"32")):Object(a["d"])("",!0),o.tournament.teams.length>=64?(Object(a["m"])(),Object(a["e"])("option",Jt,"64")):Object(a["d"])("",!0)],512),[[a["v"],s.teamToPlayOff]])]),Object(a["f"])("button",{onClick:t[9]||(t[9]=function(){return o.startPlayOff&&o.startPlayOff.apply(o,arguments)}),class:"button is-success ml-3"},"Go!")])]),"swiss"===o.tournament.system?(Object(a["m"])(),Object(a["e"])("div",Ut,[Object(a["f"])("label",Ft,[Object(a["f"])("input",{type:"checkbox",checked:s.playB,onChange:t[10]||(t[10]=function(){return s.playB&&s.playB.apply(s,arguments)})},null,40,Ht),Kt,Dt,Wt])])):Object(a["d"])("",!0)])):Object(a["d"])("",!0)])):Object(a["d"])("",!0),s.showSaveTournament?(Object(a["m"])(),Object(a["c"])(b,{key:5,"ranking-teams":o.rankingTeams,onCloseModal:t[11]||(t[11]=function(e){return s.showSaveTournament=!1})},null,8,["ranking-teams"])):Object(a["d"])("",!0),s.removeConfirm?(Object(a["m"])(),Object(a["c"])(O,{key:6,onCloseModal:t[12]||(t[12]=function(e){return s.removeConfirm=!1})})):Object(a["d"])("",!0),s.changeNameModal?(Object(a["m"])(),Object(a["c"])(f,{key:7,onCloseModal:t[13]||(t[13]=function(e){return s.changeNameModal=!1})})):Object(a["d"])("",!0)])}n("4e82"),n("c740");var Qt={class:"columns"},Xt={class:"column is-three-fifths"},Zt={class:"field control"},en={class:"column is-two-fifths"},tn={class:"field control"},nn={class:"columns"},an={class:"column is-three-fifths-desktop is-two-fifths-tablet"},cn={class:"field control"},sn={key:0,class:"column is-one-fifth"},on={class:"field control"},rn={class:"column is-one-fifth-desktop is-two-fifths-tablet is-full-mobile"},un={class:"field control"},ln={class:"checkbox"},mn=["checked"],bn=Object(a["h"])(" Use team rating for drawing ");function On(e,t,n,c,s,o){return Object(a["m"])(),Object(a["e"])(a["a"],null,[Object(a["f"])("div",Qt,[Object(a["f"])("div",Xt,[Object(a["f"])("div",Zt,[Object(a["z"])(Object(a["f"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.tournamentId=e}),onKeydown:t[1]||(t[1]=Object(a["A"])((function(){return o.importList&&o.importList.apply(o,arguments)}),["enter"])),class:"input",type:"number",placeholder:"Tournament ID"},null,544),[[a["w"],s.tournamentId]])])]),Object(a["f"])("div",en,[Object(a["f"])("div",tn,[Object(a["f"])("button",{class:"button is-success is-fullwidth",onClick:t[2]||(t[2]=function(){return o.importList&&o.importList.apply(o,arguments)})},"Import from portal")])])]),Object(a["f"])("div",nn,[Object(a["f"])("div",an,[Object(a["f"])("div",cn,[Object(a["z"])(Object(a["f"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.teamTitle=e}),onKeyup:t[4]||(t[4]=Object(a["A"])((function(e){return o.addTeam(s.teamTitle,s.teamRating)}),["enter"])),class:"input",type:"text",placeholder:"Team title"},null,544),[[a["w"],s.teamTitle]])])]),o.tournament.useRating?(Object(a["m"])(),Object(a["e"])("div",sn,[Object(a["f"])("div",on,[Object(a["z"])(Object(a["f"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return s.teamRating=e}),onKeyup:t[6]||(t[6]=Object(a["A"])((function(e){return o.addTeam(s.teamTitle,s.teamRating)}),["enter"])),class:"input",type:"number",id:"rating",placeholder:"Rating"},null,544),[[a["w"],s.teamRating]])])])):Object(a["d"])("",!0),Object(a["f"])("div",rn,[Object(a["f"])("div",un,[Object(a["f"])("button",{class:"button is-success is-fullwidth",onClick:t[7]||(t[7]=function(e){return o.addTeam(s.teamTitle,s.teamRating)})},"Add team")])])]),Object(a["f"])("div",null,[Object(a["f"])("label",ln,[Object(a["f"])("input",{type:"checkbox",checked:o.tournament.useRating,onChange:t[8]||(t[8]=function(t){return e.changeDrawType(t.target.checked)})},null,40,mn),bn])])],64)}var fn=n("1da1"),dn=(n("96cf"),{name:"AddTeam",props:["showRating"],data:function(){return{teamTitle:null,teamRating:null,tournamentId:null}},emits:["add-team","change-draw-style"],computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["addTeamToStore","changeDrawType","showMessage"])),{},{addTeam:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null!==e&&""!==e){var a=!1;if(this.tournament.teams.forEach((function(t){t.title===e&&(a=!0)})),a)this.showMessage({title:"Error",text:"Such team already registered! Change team title, please",type:"error"});else{var c={title:e.trim(),rating:t,players:n,wins:0,buhgolts:0,smallBuhgolts:0,pointsPlus:0,pointsMinus:0,opponents:[]};this.addTeamToStore(c),this.teamTitle=null,this.teamRating=null}}else this.showMessage({title:"Error",text:"Enter fields to add team",type:"error"})},importList:function(){var e=this;return Object(fn["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://portal.petanque.org.ua/tournament/team_export/".concat(e.tournamentId,"?format=json"));case 2:if(n=t.sent,!n.ok){t.next=10;break}return t.next=6,n.json();case 6:a=t.sent,a.teams.forEach((function(t){e.addTeam(t.name,+t.power,t.players)})),t.next=11;break;case 10:alert("Error"+n.status);case 11:case"end":return t.stop()}}),t)})))()}})});const jn=g()(dn,[["render",On]]);var hn=jn,pn={class:"content tabs-content"},gn={key:1},vn={class:"field is-grouped"},yn={key:0,class:"control"},kn={key:1,class:"control ml-auto"},_n={key:0},Tn=Object(a["h"])("Show "),wn={key:0},xn=Object(a["h"])(),Rn={key:1},In=Object(a["h"])(" View "),Sn={class:"text-center"},Cn={class:"games-list"},Pn={class:"text-right team-block"},Mn=["for"],Bn={class:"text-center score-block"},En=["id","onUpdate:modelValue","disabled"],Nn={class:"lane-block is-size-7"},An=Object(a["h"])(" Lane "),Gn={class:"is-size-5 has-text-weight-bold"},qn=["id","onUpdate:modelValue","disabled"],Ln={class:"team-block"},zn=["for"],$n={key:0,class:"has-text-centered has-text-danger mb-5"},Vn={class:"text-center mt-3"},Jn=["disabled"],Un={key:0,class:"has-text-danger mt-3"},Fn={key:1},Hn={key:2},Kn={key:3,class:"mb-5 mt-5"},Dn=Object(a["h"])(" Please, click on button to draw "),Wn=Object(a["h"])(" round ");function Yn(e,t,n,c,s,o){var r=Object(a["s"])("PlayOff");return Object(a["m"])(),Object(a["e"])("div",pn,[o.tournament.playOff?(Object(a["m"])(),Object(a["c"])(r,{key:0,onOpenResults:t[0]||(t[0]=function(t){return e.$emit("openResults")})})):(Object(a["m"])(),Object(a["e"])("div",gn,[Object(a["f"])("div",vn,[!o.tournament.playOff&&!o.tournament.roundIsActive&&o.tournament.games.length<o.teamsCount?(Object(a["m"])(),Object(a["e"])("div",yn,[Object(a["f"])("button",{class:"button is-info",onClick:t[1]||(t[1]=function(){return o.drawRound&&o.drawRound.apply(o,arguments)})},Object(a["t"])(1===n.activeRound?"First":"Draw ".concat(n.activeRound))+" Round ",1)])):Object(a["d"])("",!0),"swiss"===o.tournament.system&&o.tournament.games.length>1&&o.tournament.roundIsActive?(Object(a["m"])(),Object(a["e"])("div",kn,[Object(a["f"])("button",{class:"button is-danger",onClick:t[2]||(t[2]=function(){return o.restoreRoundGames&&o.restoreRoundGames.apply(o,arguments)})}," Restore previous round ")])):Object(a["d"])("",!0)]),o.tournament.games.length&&o.tournament.roundIsActive?(Object(a["m"])(),Object(a["e"])("div",_n,[Object(a["f"])("button",{class:"button is-info is-hidden-tablet",onClick:t[3]||(t[3]=function(e){return s.compactView=!s.compactView})},[Tn,s.compactView?Object(a["d"])("",!0):(Object(a["m"])(),Object(a["e"])("span",wn," Compact ")),xn,s.compactView?(Object(a["m"])(),Object(a["e"])("span",Rn," Full ")):Object(a["d"])("",!0),In]),Object(a["f"])("h2",Sn,"Round "+Object(a["t"])(n.activeRound),1),Object(a["f"])("div",Cn,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(o.tournament.games[n.activeRound-1],(function(e,n){return Object(a["m"])(),Object(a["e"])("div",{class:Object(a["k"])(["game-row",{compact:s.compactView}]),key:n},[Object(a["f"])("span",Pn,[Object(a["f"])("label",{for:"team_"+n},Object(a["t"])(e.team_1),9,Mn)]),Object(a["f"])("span",Bn,[s.compactView?Object(a["d"])("",!0):Object(a["z"])((Object(a["m"])(),Object(a["e"])("input",{key:0,id:"team_"+n,"onUpdate:modelValue":function(t){return e.team_1_score=t},class:"input -small",type:"number",min:"0",max:"13",disabled:"Technical"===e.team_2,onKeyup:t[4]||(t[4]=Object(a["A"])((function(){return o.saveResults&&o.saveResults.apply(o,arguments)}),["enter"]))},null,40,En)),[[a["w"],e.team_1_score]]),Object(a["f"])("span",Nn,[An,Object(a["f"])("span",Gn,Object(a["t"])(n+1),1)]),s.compactView?Object(a["d"])("",!0):Object(a["z"])((Object(a["m"])(),Object(a["e"])("input",{key:1,id:"opponent_"+n,"onUpdate:modelValue":function(t){return e.team_2_score=t},class:"input -small",type:"number",min:"0",max:"13",disabled:"Technical"===e.team_2,onKeyup:t[5]||(t[5]=Object(a["A"])((function(){return o.saveResults&&o.saveResults.apply(o,arguments)}),["enter"]))},null,40,qn)),[[a["w"],e.team_2_score]])]),Object(a["f"])("span",Ln,[Object(a["f"])("label",{for:"opponent_"+n},Object(a["t"])(e.team_2),9,zn)])],2)})),128)),s.scoreError?(Object(a["m"])(),Object(a["e"])("div",$n,"Something wrong in games results ")):Object(a["d"])("",!0)]),Object(a["f"])("div",Vn,[Object(a["f"])("button",{class:"button is-success",onClick:t[6]||(t[6]=function(){return o.saveResults&&o.saveResults.apply(o,arguments)}),disabled:s.saveDisabled},"Save results",8,Jn)]),s.saveDisabled?(Object(a["m"])(),Object(a["e"])("div",Un,"There was an unexpectable error, sorry for that, you can write developer about it (contact in footer), but this will not help you in this situation:)) ")):Object(a["d"])("",!0)])):0===o.tournament.games.length?(Object(a["m"])(),Object(a["e"])("div",Fn,"No games, yet")):o.tournament.games.length>=o.teamsCount?(Object(a["m"])(),Object(a["e"])("div",Hn,"Rounds quantity can't be more than teams")):(Object(a["m"])(),Object(a["e"])("div",Kn,[Dn,Object(a["f"])("b",null,Object(a["t"])(1===n.activeRound?"first":n.activeRound),1),Wn]))]))])}var Qn=n("53ca"),Xn=(n("2532"),n("a434"),n("4de4"),{class:"is-flex is-justify-content-space-between is-align-content-center"}),Zn=Object(a["f"])("h2",null,"PlayOff",-1),ea={key:0,class:"column play-off-stage-wrapper"},ta={key:0,class:"has-text-centered is-size-4"},na=Object(a["h"])(" Tournament has finished. "),aa={class:"text-center"},ca={class:"text-right team-block"},sa=["for"],oa={class:"text-center score-block"},ra=["id","onUpdate:modelValue"],ua={class:"lane-block is-size-7"},la=Object(a["h"])(" Lane "),ia={class:"is-size-5 has-text-weight-bold"},ma=["id","onUpdate:modelValue"],ba={class:"team-block"},Oa=["for"],fa={key:0},da=Object(a["f"])("h3",{class:"text-center mt-5"},"Game for 3d place",-1),ja={class:"game-row"},ha={class:"text-right team-block"},pa={for:"team_1_3p"},ga={class:"text-center score-block"},va=Object(a["f"])("span",{class:"lane-block is-size-7"},[Object(a["h"])(" Lane "),Object(a["f"])("span",{class:"is-size-5 has-text-weight-bold"},"2")],-1),ya={class:"team-block"},ka={for:"opponent_3p"},_a={key:1,class:"has-text-centered has-text-danger mb-5"},Ta={class:"text-center mt-5"};function wa(e,t,n,c,s,o){var r=Object(a["s"])("Bracket");return Object(a["m"])(),Object(a["e"])("div",null,[Object(a["f"])("div",Xn,[Zn,Object(a["f"])("button",{class:"button is-info",onClick:t[0]||(t[0]=function(e){return s.showBracket=!0})},"Show play off bracket")]),o.playOffBracket?(Object(a["m"])(),Object(a["e"])("div",ea,[0===o.playOffStageCurrent?(Object(a["m"])(),Object(a["e"])("div",ta,[na,Object(a["f"])("a",{href:"#",onClick:t[1]||(t[1]=Object(a["B"])((function(t){return e.$emit("openResults")}),["prevent"]))},"See result")])):(Object(a["m"])(),Object(a["e"])(a["a"],{key:1},[Object(a["f"])("h2",aa,Object(a["t"])(1===o.playOffStageCurrent?"Final":"1/"+o.playOffStageCurrent+" final"),1),(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(o.playOffBracket.stages[o.currentPlayOffBracketIndex].teams,(function(e,n){return Object(a["m"])(),Object(a["e"])("div",{class:"game-row",key:n},[Object(a["f"])("span",ca,[Object(a["f"])("label",{for:"team_"+n},Object(a["t"])(e.team_1),9,sa)]),Object(a["f"])("span",oa,[Object(a["z"])(Object(a["f"])("input",{id:"team_"+n,"onUpdate:modelValue":function(t){return e.team_1_score=t},class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[2]||(t[2]=Object(a["A"])((function(){return o.saveResults&&o.saveResults.apply(o,arguments)}),["enter"]))},null,40,ra),[[a["w"],e.team_1_score]]),Object(a["f"])("span",ua,[la,Object(a["f"])("span",ia,Object(a["t"])(n+1),1)]),Object(a["z"])(Object(a["f"])("input",{id:"opponent_"+n,"onUpdate:modelValue":function(t){return e.team_2_score=t},class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[3]||(t[3]=Object(a["A"])((function(){return o.saveResults&&o.saveResults.apply(o,arguments)}),["enter"]))},null,40,ma),[[a["w"],e.team_2_score]])]),Object(a["f"])("span",ba,[Object(a["f"])("label",{for:"opponent_"+n},Object(a["t"])(e.team_2),9,Oa)])])})),128)),1===o.playOffStageCurrent&&o.tournament.playOff.length>1?(Object(a["m"])(),Object(a["e"])("div",fa,[da,Object(a["f"])("div",ja,[Object(a["f"])("span",ha,[Object(a["f"])("label",pa,Object(a["t"])(o.playOffBracket.thirdPlace.team_1),1)]),Object(a["f"])("span",ga,[Object(a["z"])(Object(a["f"])("input",{id:"team_1_3p","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.playOffBracket.thirdPlace.team_1_score=e}),class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[5]||(t[5]=Object(a["A"])((function(){return o.saveResults&&o.saveResults.apply(o,arguments)}),["enter"]))},null,544),[[a["w"],o.playOffBracket.thirdPlace.team_1_score]]),va,Object(a["z"])(Object(a["f"])("input",{id:"opponent_3p","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.playOffBracket.thirdPlace.team_2_score=e}),class:"input -small",type:"number",min:"0",max:"13",onKeyup:t[7]||(t[7]=Object(a["A"])((function(){return o.saveResults&&o.saveResults.apply(o,arguments)}),["enter"]))},null,544),[[a["w"],o.playOffBracket.thirdPlace.team_2_score]])]),Object(a["f"])("span",ya,[Object(a["f"])("label",ka,Object(a["t"])(o.playOffBracket.thirdPlace.team_2),1)])])])):Object(a["d"])("",!0),s.scoreError?(Object(a["m"])(),Object(a["e"])("div",_a,"Something wrong in games results")):Object(a["d"])("",!0),Object(a["f"])("div",Ta,[Object(a["f"])("button",{class:"button is-success",onClick:t[8]||(t[8]=function(){return o.saveResults&&o.saveResults.apply(o,arguments)})},"Save results")])],64))])):Object(a["d"])("",!0),s.showBracket?(Object(a["m"])(),Object(a["c"])(r,{key:1,bracket:o.playOffBracket,onCloseModal:t[9]||(t[9]=function(e){return s.showBracket=!1})},null,8,["bracket"])):Object(a["d"])("",!0)])}var xa={class:"modal is-active"},Ra={class:"modal-content"},Ia={class:"columns play-off-wrapper"},Sa={class:"has-text-centered has-text-weight-bold mb-3"},Ca={class:"play-off-team"},Pa={key:0,class:"play-off-team-place"},Ma={class:"play-off-team-score"},Ba={class:"play-off-team"},Ea={key:0,class:"play-off-team-place"},Na={class:"play-off-team-score"},Aa=Object(a["f"])("div",{class:"has-text-centered has-text-weight-bold mb-3 third-place-title"},"Third Place",-1),Ga={class:"play-off-team"},qa={class:"play-off-team-score"},La={class:"play-off-team"},za={class:"play-off-team-score"},$a={key:0,style:{height:"80px"}};function Va(e,t,n,c,s,o){return Object(a["m"])(),Object(a["e"])("div",xa,[Object(a["f"])("div",{class:"modal-background",onClick:t[0]||(t[0]=Object(a["B"])((function(t){return e.$emit("close-modal")}),["self"]))}),Object(a["f"])("div",Ra,[Object(a["f"])("div",Ia,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(n.bracket.stages,(function(e,t){return Object(a["m"])(),Object(a["e"])("div",{key:t,class:"column play-off-stage-wrapper"},[Object(a["f"])("div",Sa,Object(a["t"])(1===e.stageLabel?"Final":"1/"+e.stageLabel+" final"),1),Object(a["f"])("div",{class:"play-off-stage",ref_for:!0,ref:"stage"},[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e.teams,(function(n,c){return Object(a["m"])(),Object(a["e"])("div",{key:c,class:"play-off-game box"},[0!==t?(Object(a["m"])(),Object(a["e"])("div",{key:0,class:"play-off-game-vertical-line -top",style:Object(a["l"])({height:o.stageHeight/e.teamsCount/2+"px"})},null,4)):Object(a["d"])("",!0),0!==t?(Object(a["m"])(),Object(a["e"])("div",{key:1,class:"play-off-game-vertical-line -bottom",style:Object(a["l"])({height:o.stageHeight/e.teamsCount/2+"px"})},null,4)):Object(a["d"])("",!0),Object(a["f"])("div",Ca,[n.team_1_place?(Object(a["m"])(),Object(a["e"])("span",Pa,Object(a["t"])(n.team_1_place),1)):Object(a["d"])("",!0),Object(a["f"])("span",{class:Object(a["k"])(["play-off-team-title",{"has-text-grey-lighter":!n.team_1}])},Object(a["t"])(n.team_1||"Someone"),3),Object(a["f"])("span",Ma,Object(a["t"])(n.team_1_score),1)]),Object(a["f"])("div",Ba,[n.team_2_place?(Object(a["m"])(),Object(a["e"])("span",Ea,Object(a["t"])(n.team_2_place),1)):Object(a["d"])("",!0),Object(a["f"])("span",{class:Object(a["k"])(["play-off-team-title",{"has-text-grey-lighter":!n.team_2}])},Object(a["t"])(n.team_2||"Lucky guy"),3),Object(a["f"])("span",Na,Object(a["t"])(n.team_2_score),1)])])})),128)),1===e.stageLabel?(Object(a["m"])(),Object(a["e"])("div",{key:0,class:Object(a["k"])(["play-off-game box third-place",{"third-place-bottom":2===n.bracket.stages.length}])},[Aa,Object(a["f"])("div",Ga,[Object(a["f"])("span",{class:Object(a["k"])(["play-off-team-title",{"has-text-grey-lighter":!n.bracket.thirdPlace.team_1}])},Object(a["t"])(n.bracket.thirdPlace.team_1||"Someone"),3),Object(a["f"])("span",qa,Object(a["t"])(n.bracket.thirdPlace.team_1_score),1)]),Object(a["f"])("div",La,[Object(a["f"])("span",{class:Object(a["k"])(["play-off-team-title",{"has-text-grey-lighter":!n.bracket.thirdPlace.team_2}])},Object(a["t"])(n.bracket.thirdPlace.team_2||"Lucky guy"),3),Object(a["f"])("span",za,Object(a["t"])(n.bracket.thirdPlace.team_2_score),1)])],2)):Object(a["d"])("",!0)],512)])})),128))]),2===n.bracket.stages.length?(Object(a["m"])(),Object(a["e"])("div",$a)):Object(a["d"])("",!0)]),Object(a["f"])("button",{class:"modal-close is-large","aria-label":"close",onClick:t[1]||(t[1]=function(t){return e.$emit("close-modal")})})])}var Ja={name:"Bracket",props:["bracket"],emits:["close-modal"],data:function(){return{isMounted:!1}},mounted:function(){this.isMounted=!0},computed:{stageHeight:function(){return this.isMounted?this.$refs.stage[0].offsetHeight:100}}};const Ua=g()(Ja,[["render",Va]]);var Fa=Ua,Ha={name:"PlayOff",emits:["openResults"],components:{Bracket:Fa},data:function(){return{scoreError:!1,showBracket:!1}},mounted:function(){this.tournament.playOffBracket||this.getPlayOffBracket()},computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]},playOffStageCurrent:function(){return"playOffStage"in this.tournament?this.tournament.playOffStage:this.tournament.playOff[0].stage},playOffBracket:function(){return this.tournament.playOffBracket?this.tournament.playOffBracket:null},stagesCount:function(){return Math.log(2*this.tournament.playOff.length)/Math.log(2)},currentPlayOffBracketIndex:function(){var e=this;return this.tournament.playOffBracket?this.tournament.playOffBracket.stages.findIndex((function(t){return t.stageLabel===e.playOffStageCurrent})):"0"}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["finishTournament","setPlayOffBracket","setPlayOffStage"])),{},{saveResults:function(){var e=this;this.scoreError=!1;var t=function(e){return null===e.team_1_score||e.team_1_score<0||e.team_1_score>13||null===e.team_2_score||e.team_2_score<0||e.team_2_score>13};if(this.playOffBracket.stages[this.currentPlayOffBracketIndex].teams.some((function(e){return t(e)})))return this.scoreError=!0,!1;if(2===this.playOffBracket.stages[this.currentPlayOffBracketIndex].teamsCount)this.setPlayOffStage(0),this.finishTournament();else{var n=JSON.parse(JSON.stringify(this.playOffBracket));n.stages[this.currentPlayOffBracketIndex].teams.forEach((function(t,a){a%2===0?(n.stages[e.currentPlayOffBracketIndex+1].teams[a/2].team_1=t.team_1_score>t.team_2_score?t.team_1:t.team_2,4===n.stages[e.currentPlayOffBracketIndex].teamsCount&&(n.thirdPlace.team_1=t.team_1_score<t.team_2_score?t.team_1:t.team_2)):(n.stages[e.currentPlayOffBracketIndex+1].teams[(a-1)/2].team_2=t.team_1_score>t.team_2_score?t.team_1:t.team_2,4===n.stages[e.currentPlayOffBracketIndex].teamsCount&&(n.thirdPlace.team_2=t.team_1_score<t.team_2_score?t.team_1:t.team_2))})),this.setPlayOffBracket(n),this.setPlayOffStage(this.playOffStageCurrent/2)}},getPlayOffBracket:function(){for(var e={stages:[],thirdPlace:{}},t=this.stagesCount;t>0;t--){var n=Math.pow(2,t),a=n/2,c=[];if(t===this.stagesCount)c=this.tournament.playOff;else for(var s=1;s<=a;s++){var o={id:t+1,stage:a,team_1:null,team_1_score:null,team_2:null,team_2_score:null};c.push(o)}var r={teamsCount:n,stageLabel:a,teams:c};e.stages.push(r)}this.setPlayOffBracket(e)}})};const Ka=g()(Ha,[["render",wa]]);var Da=Ka,Wa={name:"Games",components:{PlayOff:Da},props:["activeRound","teamsInGroup"],data:function(){return{saveDisabled:!1,scoreError:!1,compactView:!1}},computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]},teamsCount:function(){return"swiss"===this.tournament.system?this.tournament.teams.length-1:this.teamsInGroup%2!==0?this.teamsInGroup:this.teamsInGroup-1}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["startRound","endRound","addRoundToGames","restoreRound","showMessage"])),{},{getRandomWithOneExclusion:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;while(null===n||n===t)n=Math.round(Math.random()*(e-1));return n},generateCompetitors:function(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(1!==this.activeRound||this.tournament.useRating){t=a?e.length-1:0;var c=1===this.activeRound?e.length/2:1,s=a?e.length-2:c;while(e[t].opponents.includes(e[s].title))if(a?s--:s++,!e[s])return s=-1,{teamIndex:t,opponentIndex:s};return{teamIndex:t,opponentIndex:s}}return t=this.getRandomWithOneExclusion(e.length),n=this.getRandomWithOneExclusion(e.length,t),{teamIndex:t,opponentIndex:n}},drawRound:function(){var e,t=this,n=JSON.parse(JSON.stringify(this.tournament.teams)),a=[];if("swiss"===this.tournament.system){var c,s=0,o=Math.round(n.length/2-1),r=[],u=n.length%2!==0;if(u){var l=this.tournament.useRating||1!==this.activeRound?n.length-1:this.getRandomWithOneExclusion(n.length),i=n[l];if(i.opponents.includes("Technical"))for(var m=2;m<n.length;m++)if(l=n.length-m,i=n[l],!i.opponents.includes("Technical"))break;e={team_1:i.title,team_1_score:13,team_2:"Technical",team_2_score:7},a.push(e),n.splice(l,1)}var b=function(){c=t.generateCompetitors(n,s>0);while(-1===c.opponentIndex&&s<o)s++,a.splice(a.length-1,1),n.unshift(r[r.length-1]),n.unshift(r[r.length-2]),r.splice(r.length-2,2),c=t.generateCompetitors(n,!0);if(s===o&&-1===c.opponentIndex)return t.saveDisabled=!0,t.showMessage({title:"Can't draw this round",text:"Too mush games for swiss with this number of teams. Sorry, shit happens",type:"error"}),{v:void 0};e={team_1:n[c.teamIndex].title,team_1_score:null,team_2:n[Math.floor(c.opponentIndex)].title,team_2_score:null},r.push(n[c.teamIndex],n[Math.floor(c.opponentIndex)]);var u=[n[c.teamIndex].title,n[Math.floor(c.opponentIndex)].title];n=n.filter((function(e){return!u.includes(e.title)})),e?a.push(e):console.log("Game is empty")};while(n.length>0){var O=b();if("object"===Object(Qn["a"])(O))return O.v}this.addRoundToGames(this.shuffleArray(a)),this.startRound()}else"groups"===this.tournament.system&&(1===this.activeRound&&this.createGroups(),this.tournament.groups&&(this.tournament.groups.forEach((function(n,c){for(var s=n.length%2!==0,o=0;o<t.tournament.groupsScheme.top.length;o++)(!s||s&&t.tournament.groupsScheme.top[o]!==n.length&&t.tournament.groupsScheme.bottom[o]!==n.length)&&(e={group:c,team_1:n[t.tournament.groupsScheme.top[o]].title,team_1_score:null,team_2:n[t.tournament.groupsScheme.bottom[o]].title,team_2_score:null},a.push(e))})),this.tournament.groupsScheme.bottom.push(this.tournament.groupsScheme.top[this.tournament.groupsScheme.top.length-1]),this.tournament.groupsScheme.top.unshift(this.tournament.groupsScheme.bottom[0]),this.tournament.groupsScheme.top.splice(this.tournament.groupsScheme.top.length-1,1),this.tournament.groupsScheme.top.splice(1,1),this.tournament.groupsScheme.top.unshift(0),this.tournament.groupsScheme.bottom.splice(0,1),this.addRoundToGames(this.shuffleArray(a)),this.startRound()))},createGroups:function(){for(var e=this,t=Math.round(this.tournament.teams.length/this.teamsInGroup),n=[],a=1;a<=t;a++)n.push([]);var c=JSON.parse(JSON.stringify(this.tournament.teams));while(c.length>=1)for(var s=0;s<c.length;s++)for(var o=function(t){var a=e.tournament.useRating?0:e.getRandomWithOneExclusion(c.length);if(-1!==a){var s=e.tournament.teams.findIndex((function(e){return e.title===c[a].title}));n[t].push(e.tournament.teams[s]),c.splice(a,1)}},r=0;r<t;r++)o(r);this.tournament.groups=n;var u={top:[],bottom:[]},l=[];this.tournament.groups[0].forEach((function(e,t){l.push(t)})),l.length%2!==0&&l.push(l.length);for(var i=0;i<l.length/2;i++)u.top.push(i);for(var m=l.length-1;m>=l.length/2;m--)u.bottom.push(m);this.tournament.groupsScheme=u},saveResults:function(){this.scoreError=!1;var e=function(e){return e.team_1_score===e.team_2_score||null===e.team_1_score||e.team_1_score<0||e.team_1_score>13||null===e.team_2_score||e.team_2_score<0||e.team_2_score>13};if(this.tournament.games[this.activeRound-1].some((function(t){return e(t)})))return this.scoreError=!0,!1;this.saveResultsForRound(this.activeRound-1),this.endRound(),this.showMessage({title:"Success",text:"Your results saved"})},restoreRoundGames:function(){this.restoreRound(),this.tournament.teams.forEach((function(e){e.opponents=[],e.pointsPlus=0,e.pointsMinus=0,e.wins=0}));for(var e=0;e<this.activeRound-2;e++)this.saveResultsForRound(e)},saveResultsForRound:function(e){var t=this;this.tournament.games[e].forEach((function(e){var n=t.tournament.teams.findIndex((function(t){return t.title===e.team_1}));-1!=n&&(t.tournament.teams[n].opponents.push(e.team_2),t.tournament.teams[n].pointsPlus+=e.team_1_score,t.tournament.teams[n].pointsMinus+=e.team_2_score);var a=t.tournament.teams.findIndex((function(t){return t.title===e.team_2}));-1!=a&&(t.tournament.teams[a].opponents.push(e.team_1),t.tournament.teams[a].pointsPlus+=e.team_2_score,t.tournament.teams[a].pointsMinus+=e.team_1_score),e.team_1_score>e.team_2_score?-1!=n&&t.tournament.teams[n].wins++:-1!=!a&&"Technical"!==e.team_2&&t.tournament.teams[a].wins++}))},shuffleArray:function(e){var t,n=e.length;while(0!=n){t=Math.floor(Math.random()*n),n--;var a=[e[t],e[n]];e[n]=a[0],e[t]=a[1]}if(this.tournament.teams.length%2!==0){var c=e.findIndex((function(e){return"Technical"===e.team_2})),s=e[c];e.splice(c,1),e.push(s)}return e}})};const Ya=g()(Wa,[["render",Yn]]);var Qa=Ya,Xa=(n("b64b"),{class:"content tabs-content"}),Za={key:0},ec={key:0,class:"has-text-centered"},tc={key:0},nc={key:1},ac=Object(a["h"])(" rounds"),cc={class:"table-container"},sc={key:0,class:"table is-striped mb-5"},oc={key:1},rc={class:"has-text-centered"},uc={class:"table-container"},lc={class:"table is-striped"},ic={key:0},mc=Object(a["f"])("h4",{class:"has-text-centered"},"Game for 3d Place",-1),bc={class:"table-container"},Oc={class:"table is-striped"},fc={key:1,class:"mb-5 mt-5"};function dc(e,t,n,c,s,o){return Object(a["m"])(),Object(a["e"])("div",Xa,[o.tournament.games.length||o.tournament.playOffBracket?(Object(a["m"])(),Object(a["e"])("div",Za,[o.tournament.games.length?(Object(a["m"])(),Object(a["e"])("h3",ec,["swiss"===o.tournament.system?(Object(a["m"])(),Object(a["e"])("span",tc,"Swiss")):(Object(a["m"])(),Object(a["e"])("span",nc,"Group")),ac])):Object(a["d"])("",!0),Object(a["f"])("div",cc,[o.tournament.games.length?(Object(a["m"])(),Object(a["e"])("table",sc,[Object(a["f"])("tbody",null,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(o.tournament.games,(function(e,t){return Object(a["m"])(),Object(a["e"])(a["a"],{key:t},[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e,(function(e,n){return Object(a["m"])(),Object(a["e"])("tr",{key:n},[Object(a["f"])("td",null,"R"+Object(a["t"])(t+1),1),Object(a["f"])("td",null,Object(a["t"])(e.team_1),1),Object(a["f"])("td",null,Object(a["t"])(e.team_1_score),1),Object(a["f"])("td",null,Object(a["t"])(e.team_2_score),1),Object(a["f"])("td",null,Object(a["t"])(e.team_2),1)])})),128))],64)})),128))])])):Object(a["d"])("",!0)]),o.tournament.playOffBracket?(Object(a["m"])(),Object(a["e"])("div",oc,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(o.tournament.playOffBracket.stages,(function(e,t){return Object(a["m"])(),Object(a["e"])("div",{key:t,class:"mb-5"},[Object(a["f"])("h3",rc,Object(a["t"])(1===e.stageLabel?"Final":"1/"+e.stageLabel+" final"),1),Object(a["f"])("div",uc,[Object(a["f"])("table",lc,[Object(a["f"])("tbody",null,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e.teams,(function(e,t){return Object(a["m"])(),Object(a["e"])("tr",{key:t},[Object(a["f"])("td",null,Object(a["t"])(e.team_1),1),Object(a["f"])("td",null,Object(a["t"])(e.team_1_score),1),Object(a["f"])("td",null,Object(a["t"])(e.team_2_score),1),Object(a["f"])("td",null,Object(a["t"])(e.team_2),1)])})),128))])])])])})),128)),o.tournament.playOffBracket.thirdPlace&&0!==Object.keys(o.tournament.playOffBracket.thirdPlace).length?(Object(a["m"])(),Object(a["e"])("div",ic,[mc,Object(a["f"])("div",bc,[Object(a["f"])("table",Oc,[Object(a["f"])("tbody",null,[Object(a["f"])("tr",null,[Object(a["f"])("td",null,Object(a["t"])(o.tournament.playOffBracket.thirdPlace.team_1),1),Object(a["f"])("td",null,Object(a["t"])(o.tournament.playOffBracket.thirdPlace.team_1_score),1),Object(a["f"])("td",null,Object(a["t"])(o.tournament.playOffBracket.thirdPlace.team_2_score),1),Object(a["f"])("td",null,Object(a["t"])(o.tournament.playOffBracket.thirdPlace.team_2),1)])])])])])):Object(a["d"])("",!0)])):Object(a["d"])("",!0)])):(Object(a["m"])(),Object(a["e"])("div",fc," No games, yet "))])}var jc={name:"Results",computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]}})};const hc=g()(jc,[["render",dc]]);var pc=hc,gc=Object(a["f"])("h2",null,"Current list",-1),vc={key:0,class:"mb-5"},yc={key:0,class:"mt-5 text-center"},kc={class:"table"},_c={style:{width:"30px"}},Tc={key:0,class:"is-size-7"},wc=Object(a["h"])(" ("),xc={key:0},Rc=Object(a["h"])(") "),Ic={key:0,class:"td-100"},Sc={key:1,id:"table-list",class:"table"},Cc={key:0,class:"is-size-7"},Pc=Object(a["h"])(" ("),Mc={key:0},Bc=Object(a["h"])(") "),Ec={key:0,class:"td-100"},Nc={key:1,class:"td-50"},Ac=["onClick"];function Gc(e,t,n,c,s,o){return Object(a["m"])(),Object(a["e"])(a["a"],null,[gc,"groups"===o.tournament.system&&(n.activeRound>1||o.tournament.roundIsActive)?(Object(a["m"])(),Object(a["e"])("div",vc,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(o.tournament.groups,(function(e,t){return Object(a["m"])(),Object(a["e"])("div",{key:t},[o.tournament.groups.length>1?(Object(a["m"])(),Object(a["e"])("h4",yc,"Group "+Object(a["t"])(o.groupsNames[t]),1)):Object(a["d"])("",!0),Object(a["f"])("table",kc,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e,(function(e,t){return Object(a["m"])(),Object(a["e"])("tr",{key:e.title},[Object(a["f"])("td",_c,Object(a["t"])(t+1)+".",1),Object(a["f"])("td",null,[Object(a["h"])(Object(a["t"])(e.title)+" ",1),e.players&&e.players.length>1?(Object(a["m"])(),Object(a["e"])("div",Tc,[wc,(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e.players,(function(t,n){return Object(a["m"])(),Object(a["e"])("span",{class:"has-text-dark",key:n},[Object(a["h"])(Object(a["t"])(t.name)+" "+Object(a["t"])(t.surname),1),n<e.players.length-1?(Object(a["m"])(),Object(a["e"])("span",xc,", ")):Object(a["d"])("",!0)])})),128)),Rc])):Object(a["d"])("",!0)]),o.tournament.useRating?(Object(a["m"])(),Object(a["e"])("td",Ic,Object(a["t"])(e.rating),1)):Object(a["d"])("",!0)])})),128))])])})),128))])):(Object(a["m"])(),Object(a["e"])("table",Sc,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(o.tournament.teams,(function(t){return Object(a["m"])(),Object(a["e"])("tr",{key:t.title},[Object(a["f"])("td",null,[Object(a["h"])(Object(a["t"])(t.title)+" ",1),t.players&&t.players.length>1?(Object(a["m"])(),Object(a["e"])("div",Cc,[Pc,(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(t.players,(function(e,n){return Object(a["m"])(),Object(a["e"])("span",{class:"has-text-dark",key:n},[Object(a["h"])(Object(a["t"])(e.name)+" "+Object(a["t"])(e.surname),1),n<t.players.length-1?(Object(a["m"])(),Object(a["e"])("span",Mc,", ")):Object(a["d"])("",!0)])})),128)),Bc])):Object(a["d"])("",!0)]),o.tournament.useRating?(Object(a["m"])(),Object(a["e"])("td",Ec,Object(a["t"])(t.rating),1)):Object(a["d"])("",!0),o.tournament.games.length?Object(a["d"])("",!0):(Object(a["m"])(),Object(a["e"])("td",Nc,[Object(a["f"])("span",{class:"delete",onClick:function(n){return e.removeTeam(t.title)}},null,8,Ac)]))])})),128))]))],64)}var qc={name:"TeamsList",props:["activeRound"],computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]},groupsNames:function(){return L}}),methods:Object(b["a"])({},Object(j["b"])(["removeTeam"]))};const Lc=g()(qc,[["render",Gc]]);var zc=Lc,$c=Object(a["f"])("div",{class:"is-size-4 mb-3"},"Please, enter tournament name",-1),Vc={class:"field"},Jc={class:"control"},Uc={key:0,class:"field has-text-danger"},Fc={class:"buttons is-centered"},Hc={class:"control"},Kc={class:"control"};function Dc(e,t,n,c,s,o){var r=Object(a["s"])("Modal");return Object(a["m"])(),Object(a["c"])(r,{onCloseModal:t[4]||(t[4]=function(t){return e.$emit("close-modal")})},{default:Object(a["y"])((function(){return[$c,Object(a["f"])("div",Vc,[Object(a["f"])("div",Jc,[Object(a["z"])(Object(a["f"])("input",{class:Object(a["k"])(["input",{"is-danger":s.hasError}]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.name=e}),type:"text",placeholder:"Tournament name",onKeyup:t[1]||(t[1]=Object(a["A"])((function(){return o.saveTournament&&o.saveTournament.apply(o,arguments)}),["enter"]))},null,34),[[a["w"],s.name]])])]),s.hasError?(Object(a["m"])(),Object(a["e"])("div",Uc," It seems you already have such tournament name ")):Object(a["d"])("",!0),Object(a["f"])("div",Fc,[Object(a["f"])("div",Hc,[Object(a["f"])("button",{class:"button",onClick:t[2]||(t[2]=function(t){return e.$emit("close-modal")})},"Cancel")]),Object(a["f"])("div",Kc,[Object(a["f"])("button",{class:"button is-success",onClick:t[3]||(t[3]=function(){return o.saveTournament&&o.saveTournament.apply(o,arguments)})},"Save")])])]})),_:1})}var Wc={name:"SaveTournament",components:{Modal:at},props:["rankingTeams"],emits:["close-modal"],data:function(){return{name:"",hasError:!1}},created:function(){this.name=this.tournament.name},computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex","savedTournaments"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]},tournamentsNames:function(){if(this.savedTournaments.length>0){var e=[];return this.savedTournaments.forEach((function(t){e.push(t.name)})),e}return!1},tournamentRanking:function(){return $(this.tournament,this.rankingTeams)}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["addToSaved","showMessage"])),{},{saveTournament:function(){if(this.hasError=!1,!this.tournament.name||this.tournamentsNames&&this.tournamentsNames.includes(this.name))this.hasError=!0;else{var e={name:this.name,system:this.tournament.system,tournamentIsFinished:this.tournament.tournamentIsFinished,games:this.tournament.games,playOff:this.tournament.playOffBracket?this.tournament.playOffBracket:null,ranking:this.tournamentRanking};this.addToSaved(e),this.$emit("close-modal"),this.showMessage({title:"Saved",text:"You can see your saved tournaments in the menu"})}}})};const Yc=g()(Wc,[["render",Dc]]);var Qc=Yc,Xc={class:"text-center mb-4 is-size-4"},Zc=Object(a["h"])("Are you sure you want to delete "),es=Object(a["f"])("br",null,null,-1),ts=Object(a["h"])("?"),ns={class:"buttons is-centered"},as={class:"control"},cs={class:"control"};function ss(e,t,n,c,s,o){var r=Object(a["s"])("Modal");return Object(a["m"])(),Object(a["c"])(r,{onCloseModal:t[2]||(t[2]=function(t){return e.$emit("close-modal")})},{default:Object(a["y"])((function(){return[Object(a["f"])("p",Xc,[Zc,es,Object(a["f"])("strong",null,Object(a["t"])(o.tournament.name),1),ts]),Object(a["f"])("div",ns,[Object(a["f"])("div",as,[Object(a["f"])("button",{class:"button",onClick:t[0]||(t[0]=function(t){return e.$emit("close-modal")})},"Cancel")]),Object(a["f"])("div",cs,[Object(a["f"])("button",{class:"button is-danger",onClick:t[1]||(t[1]=function(){return o.removeCurrentTournament&&o.removeCurrentTournament.apply(o,arguments)})},"Remove")])])]})),_:1})}var os={name:"ConfirmRemoveModal",components:{Modal:at},computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["removeTournament"])),{},{removeCurrentTournament:function(){this.removeTournament(),this.$emit("close-modal")}})};const rs=g()(os,[["render",ss]]);var us=rs,ls=Object(a["f"])("div",{class:"is-size-4 mb-3"},"Please, enter tournament name",-1),is={class:"field"},ms={class:"control"},bs={class:"buttons is-centered"},Os={class:"control"},fs={class:"control"};function ds(e,t,n,c,s,o){var r=Object(a["s"])("Modal");return Object(a["m"])(),Object(a["c"])(r,{onCloseModal:t[4]||(t[4]=function(t){return e.$emit("close-modal")})},{default:Object(a["y"])((function(){return[ls,Object(a["f"])("div",is,[Object(a["f"])("div",ms,[Object(a["z"])(Object(a["f"])("input",{class:Object(a["k"])(["input",{"is-danger":s.hasError}]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.name=e}),type:"text",placeholder:"Tournament name",onKeyup:t[1]||(t[1]=Object(a["A"])((function(){return o.changeCurrentTournamentName&&o.changeCurrentTournamentName.apply(o,arguments)}),["enter"]))},null,34),[[a["w"],s.name]])])]),Object(a["f"])("div",bs,[Object(a["f"])("div",Os,[Object(a["f"])("button",{class:"button",onClick:t[2]||(t[2]=function(t){return e.$emit("close-modal")})},"Cancel")]),Object(a["f"])("div",fs,[Object(a["f"])("button",{class:"button is-success",onClick:t[3]||(t[3]=function(){return o.changeCurrentTournamentName&&o.changeCurrentTournamentName.apply(o,arguments)})},"Change")])])]})),_:1})}var js={name:"ChangeTournamentName",components:{Modal:at},data:function(){return{name:"",hasError:!1}},created:function(){this.name=this.tournament.name},computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["changeTournamentName"])),{},{changeCurrentTournamentName:function(){this.hasError=!1,""!==this.name?(this.changeTournamentName(this.name),this.$emit("close-modal")):this.hasError=!0}})};const hs=g()(js,[["render",ds]]);var ps=hs,gs={name:"Tournament",data:function(){return{tabs:["Teams","Games","Results","Ranking"],activeTab:"Teams",showSaveTournament:!1,teamToPlayOff:null,removeConfirm:!1,changeNameModal:!1,playB:!1,teamsInGroup:4}},created:function(){this.teamsInGroup=this.tournament.groups?this.tournament.groups.length:4},methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["startRound","removeTournament","setPlayOff","addBTournament","finishTournament"])),{},{saveTournament:function(e){this.savedTournaments.push(e),this.showSaveTournament=!1,localStorage.setItem("tournamentsList",JSON.stringify(this.savedTournaments))},startPlayOff:function(){var e,t=this;if("swiss"===this.tournament.system)e=this.rankingTeams.slice(0,this.teamToPlayOff);else if(this.tournament.groups.length>1){e=[];for(var n=function(n){t.rankingTeams.forEach((function(t){return e.push(t[n])}))},a=0;a<this.teamToPlayOff/2;a++)n(a)}else e=this.rankingTeams.slice(0,this.teamToPlayOff);for(var c=[],s=e.length/2,o=0;o<e.length/2;o++){var r={};r=o%2===0?{id:o+1,stage:s,team_1:e[o].title,team_1_place:o+1,team_1_score:null,team_2:e[e.length-1-o].title,team_2_place:e.length-o,team_2_score:null}:{id:o+1,stage:s,team_1:e[e.length/2-o].title,team_1_place:e.length/2+1-o,team_1_score:null,team_2:e[e.length/2-1+o].title,team_2_place:e.length/2+o,team_2_score:null},c.push(r)}if(this.setPlayOff(c),this.activeTab="Games",this.playB){var u=this.rankingTeams.slice(this.teamToPlayOff,this.rankingTeams.length);u.forEach((function(e){e.wins=0,e.buhgolts=0,e.smallBuhgolts=0,e.pointsPlus=0,e.pointsMinus=0,e.opponents=[]})),this.addBTournament(u)}},sortTeams:function(e){this.countBuhgolts(e,"buhgolts"),this.countBuhgolts(e,"smallBuhgolts");var t=e.sort((function(e,t){return t.wins-e.wins||t.buhgolts-e.buhgolts||t.smallBuhgolts-e.smallBuhgolts||t.pointsPlus-t.pointsMinus-(e.pointsPlus-e.pointsMinus)||t.rating-e.rating}));return t},countBuhgolts:function(e,t){var n="buhgolts"===t?"wins":"buhgolts";return e.forEach((function(a){var c=0;a.opponents.length&&a.opponents.forEach((function(t){var a=e.findIndex((function(e){return e.title===t}));-1!==a&&(c+=e[a][n])})),a[t]=c})),e}}),computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]},canSaveTournament:function(){return this.tournament.tournamentIsFinished&&this.tournament.games&&this.tournament.games.length>1||this.tournament.playoff&&null!==this.tournament.playoff[this.tournament.playoff.length-1].teams[0].team_1_score},rankingTeams:function(){var e=this;if("groups"===this.tournament.system&&this.activeRound>1){var t=[];return this.tournament.groups.forEach((function(n){n.forEach((function(t){var a=0;t.opponents.forEach((function(c){var s=n.findIndex((function(e){return e.title===c}));t.wins===n[s].wins&&(a+=z(e.tournament.games,t.title,n[s].title,!0))})),t.directPoints=a}));var a=n.slice().sort((function(e,t){return t.wins-e.wins||t.directPoints-e.directPoints||t.pointsPlus-t.pointsMinus-(e.pointsPlus-e.pointsMinus)}));t.push(a)})),t}return this.sortTeams(this.tournament.teams)},activeRound:function(){return this.tournament.games.length?this.tournament.roundIsActive?this.tournament.games.length:this.tournament.games.length+1:1}}),components:{ChangeTournamentName:ps,ConfirmRemoveModal:us,TeamsList:zc,AddTeam:hn,Games:Qa,Results:pc,Ranking:Ye,SaveTournament:Qc}};const vs=g()(gs,[["render",Yt]]);var ys=vs,ks=n("8e99"),_s=n.n(ks),Ts=n("4ffd"),ws=n.n(Ts),xs=_s.a,Rs=ws.a,Is={class:"navbar",role:"navigation","aria-label":"main navigation"},Ss={class:"navbar-brand"},Cs=Object(a["f"])("a",{class:"navbar-item",href:"/"},[Object(a["f"])("picture",null,[Object(a["f"])("source",{srcset:xs,type:"image/webp"}),Object(a["f"])("source",{srcset:Rs,type:"image/jpeg"}),Object(a["f"])("img",{src:ws.a,alt:"logo"})])],-1),Ps=Object(a["f"])("span",{"aria-hidden":"true"},null,-1),Ms=Object(a["f"])("span",{"aria-hidden":"true"},null,-1),Bs=Object(a["f"])("span",{"aria-hidden":"true"},null,-1),Es=[Ps,Ms,Bs],Ns={id:"navbarBasicExample",class:"navbar-menu"},As={class:"navbar-start"},Gs={key:0,class:"navbar-item has-dropdown is-hoverable"},qs=Object(a["f"])("a",{class:"navbar-link"}," Active tournaments ",-1),Ls={key:0,class:"navbar-dropdown"},zs=["onClick"],$s=Object(a["f"])("div",{class:"navbar-end"},[Object(a["f"])("div",{class:"navbar-item"},[Object(a["f"])("div",{class:"buttons"},[Object(a["f"])("a",{class:"button is-light"}," Log in ")])])],-1);function Vs(e,t,n,c,s,o){return Object(a["m"])(),Object(a["e"])("nav",Is,[Object(a["f"])("div",Ss,[Cs,Object(a["f"])("a",{role:"button",class:"navbar-burger",onClick:t[0]||(t[0]=function(t){return e.$emit("open-menu")}),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},Es)]),Object(a["f"])("div",Ns,[Object(a["f"])("div",As,[Object(a["f"])("a",{class:"navbar-item",onClick:t[1]||(t[1]=function(t){return e.$emit("open-menu")})}," Menu "),e.tournaments.length>1?(Object(a["m"])(),Object(a["e"])("div",Gs,[qs,e.tournaments.length>1?(Object(a["m"])(),Object(a["e"])("div",Ls,[(Object(a["m"])(!0),Object(a["e"])(a["a"],null,Object(a["q"])(e.tournaments,(function(t,n){return Object(a["m"])(),Object(a["e"])("a",{class:Object(a["k"])(["navbar-item",{"is-active":n===e.currentTournamentIndex}]),key:n,onClick:Object(a["B"])((function(t){return e.setActiveTournament(n)}),["prevent"])},Object(a["t"])(t.name),11,zs)})),128))])):Object(a["d"])("",!0)])):Object(a["d"])("",!0)]),$s])])}var Js={name:"Navbar",computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]}}),methods:Object(b["a"])({},Object(j["b"])(["setActiveTournament"]))};const Us=g()(Js,[["render",Vs]]);var Fs=Us,Hs={class:"content"},Ks=Object(a["f"])("h3",null,"Some notes",-1),Ds=Object(a["f"])("ol",null,[Object(a["f"])("li",null,"To change tournament name just click on its default name."),Object(a["f"])("li",null,"In swiss system you can modify previous round result if you wrote it not correct. This possibility available when you already draw next round.")],-1),Ws={class:"buttons is-centered"},Ys={class:"control"};function Qs(e,t,n,c,s,o){var r=Object(a["s"])("Modal");return Object(a["m"])(),Object(a["c"])(r,{onCloseModal:t[1]||(t[1]=function(t){return e.$emit("close-modal")})},{default:Object(a["y"])((function(){return[Object(a["f"])("div",Hs,[Ks,Ds,Object(a["f"])("div",Ws,[Object(a["f"])("div",Ys,[Object(a["f"])("button",{class:"button",onClick:t[0]||(t[0]=function(t){return e.$emit("close-modal")})},"Close")])])])]})),_:1})}var Xs={name:"Help",components:{Modal:at},computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["tournaments","currentTournamentIndex"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]}}),methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["removeTournament"])),{},{removeCurrentTournament:function(){this.removeTournament(),this.$emit("close-modal")}})};const Zs=g()(Xs,[["render",Qs]]);var eo=Zs,to={name:"App",data:function(){return{showSaveTournament:!1,menuOpen:!1,showSavedTournament:!1,helpOpen:!1,savedTournamentsActive:!1}},mounted:function(){this.setActiveTournament(0)},methods:Object(b["a"])(Object(b["a"])({},Object(j["b"])(["setActiveTournament","addTournament"])),{},{openSavedTournament:function(e){this.savedTournamentsActive=e,this.menuOpen=!1,this.openTournamentModal()},openTournamentModal:function(){this.showSavedTournament=!0,document.querySelector("html").classList.add("is-clipped")},closeTournamentModal:function(){this.showSavedTournament=!1,document.querySelector("html").classList.remove("is-clipped")}}),computed:Object(b["a"])(Object(b["a"])({},Object(j["c"])(["message","tournaments","currentTournamentIndex","savedTournaments"])),{},{tournament:function(){return this.tournaments[this.currentTournamentIndex]},canSaveTournament:function(){return this.games&&this.games.length>0||this.playoff&&null!==this.playoff[this.playoff.length-1].teams[0].team_1_score}}),components:{Help:eo,Navbar:Fs,Tournament:ys,SavedTournamentModal:ot,Menu:U,Message:y}};n("3815"),n("d73d"),n("4b25");const no=g()(to,[["render",m]]);var ao=no,co={name:"Tournament A",games:[],gamesCopy:[],teams:[],system:"swiss",roundIsActive:!1,useRating:!1,isPlayOff:!1,playoff:!1,tournamentIsFinished:!1},so=Object(j["a"])({state:function(){return{tournaments:localStorage.getItem("tournaments")?JSON.parse(localStorage.getItem("tournaments")):[JSON.parse(JSON.stringify(co))],message:{show:!1,type:"success",title:"Message",text:""},savedTournaments:localStorage.getItem("tournamentsList")?JSON.parse(localStorage.getItem("tournamentsList")):[],currentTournamentIndex:null}},mutations:{setActiveTournament:function(e,t){e.currentTournamentIndex=t},changeTournamentName:function(e,t){e.tournaments[e.currentTournamentIndex].name=t},removeTournament:function(e){e.tournaments.length>1?(e.tournaments.splice(e.currentTournamentIndex,1),e.currentTournamentIndex=0):e.tournaments[e.currentTournamentIndex]=JSON.parse(JSON.stringify(co))},addTeamToStore:function(e,t){e.tournaments[e.currentTournamentIndex].teams.push(t)},removeTeam:function(e,t){e.tournaments[e.currentTournamentIndex].teams=e.tournaments[e.currentTournamentIndex].teams.filter((function(e){return e.title!==t}))},changeDrawType:function(e,t){e.tournaments[e.currentTournamentIndex].useRating=t},startRound:function(e){e.tournaments[e.currentTournamentIndex].roundIsActive=!0},endRound:function(e){e.tournaments[e.currentTournamentIndex].roundIsActive=!1},addRoundToGames:function(e,t){e.tournaments[e.currentTournamentIndex].games.push(t),e.tournaments[e.currentTournamentIndex].gamesCopy.push(t),e.tournaments[e.currentTournamentIndex].roundIsActive=!0},restoreRound:function(e){e.tournaments[e.currentTournamentIndex].games.pop(),e.tournaments[e.currentTournamentIndex].teams.forEach((function(e){return e.opponents.pop()}))},setPlayOff:function(e,t){e.tournaments[e.currentTournamentIndex].playOff=t},setPlayOffBracket:function(e,t){e.tournaments[e.currentTournamentIndex].playOffBracket=t},setPlayOffStage:function(e,t){e.tournaments[e.currentTournamentIndex].playOffStage=t},finishTournament:function(e){e.tournaments[e.currentTournamentIndex].tournamentIsFinished=!0},showMessage:function(e,t){var n=t.title,a=t.text,c=t.type,s=void 0===c?"success":c;e.message={show:!0,title:n,text:a,type:s}},hideMessage:function(e){e.message.show=!1},addTournament:function(e){e.tournaments.push(JSON.parse(JSON.stringify(co))),e.currentTournamentIndex=e.tournaments.length-1,so.commit("changeTournamentName","Tournament ".concat(L[e.tournaments.length-1]))},addToSaved:function(e,t){e.savedTournaments.push(t)},removeSavedTournament:function(e,t){e.savedTournaments=e.savedTournaments.filter((function(e){return e.name!==t}))},addBTournament:function(e,t){so.commit("addTournament"),e.tournaments[e.currentTournamentIndex].teams=t}}});so.subscribe((function(e,t){localStorage.setItem("tournaments",JSON.stringify(t.tournaments)),localStorage.setItem("tournamentsList",JSON.stringify(t.savedTournaments))})),Object(a["b"])(ao).use(so).mount("#app")},"7fda":function(e,t,n){"use strict";n("a8c3")},"8e99":function(e,t,n){e.exports=n.p+"img/logo.70b28108.webp"},a2bf:function(e,t,n){},a8c3:function(e,t,n){},d1b4:function(e,t,n){e.exports=n.p+"img/bg.811ee66e.jpg"},d73d:function(e,t,n){"use strict";n("1c50")}});
//# sourceMappingURL=app.8b5335e5.js.map